{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"SalmAlm (\uc0b6\uc54e)","text":"<p>Your Personal AI Gateway \u2014 62 Tools, 6 Providers, Zero Dependencies.</p> <pre><code>pip install salmalm\nsalmalm\n</code></pre> <p>That's it. Open <code>http://localhost:18800</code> and start talking.</p>"},{"location":"#what-is-salmalm","title":"What is SalmAlm?","text":"<p>SalmAlm is a personal AI assistant framework that runs entirely on your machine. It connects to multiple AI providers (Anthropic, OpenAI, Google, xAI, DeepSeek, local LLMs) and provides 62 built-in tools for coding, personal productivity, knowledge management, and more.</p> <p>\uc0b6\uc54e (SalmAlm) = \uc0b6(life) + \uc54e(knowledge) \u2014 \"knowing life.\"</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>\ud83e\udd16 6 AI Providers \u2014 Claude, GPT, Gemini, Grok, DeepSeek, Ollama/LM Studio</li> <li>\ud83d\udd27 62 Built-in Tools \u2014 exec, web search, file ops, git, email, reminders, expenses, RAG...</li> <li>\ud83d\udcb0 Smart Cost Optimization \u2014 Auto routing saves 83% vs always-Sonnet ($7.09\u2192$1.23/day)</li> <li>\ud83d\udd12 Encrypted Vault \u2014 API keys stored with AES-256, never in plaintext</li> <li>\ud83d\udcf1 Telegram &amp; Discord \u2014 Full bot integration with reactions, drafts, rich formatting</li> <li>\ud83e\udde0 RAG Knowledge Base \u2014 Local vector search with Korean jamo support</li> <li>\ud83d\udd0c MCP Server \u2014 Model Context Protocol for tool interoperability</li> <li>\ud83d\udcca Web Dashboard \u2014 Real-time monitoring, session management, settings UI</li> <li>\ud83d\udc0d Pure Python \u2014 Zero external dependencies, stdlib only</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Install\npip install salmalm\n\n# Run\nsalmalm\n\n# Or with specific port\nsalmalm --port 8080\n</code></pre> <p>On first launch, the setup wizard guides you through API key configuration.</p>"},{"location":"#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Telegram    \u2502     \u2502   Web UI     \u2502     \u2502  Discord    \u2502\n\u2502  Bot         \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  :18800      \u2502\u25c0\u2500\u2500\u2500\u2500\u2502  Bot        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502   Engine     \u2502 \u2190 Auto Routing\n                    \u2502  (Pipeline)  \u2502 \u2190 Context Mgmt\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2190 Tool Selection\n                           \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502            \u2502            \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502 Anthropic  \u2502 \u2502OpenAI \u2502 \u2502  Google   \u2502\n        \u2502 xAI       \u2502 \u2502DeepSk \u2502 \u2502  Local    \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Getting Started \u2014 Installation and first setup</li> <li>Commands \u2014 Slash commands reference</li> <li>Tools \u2014 All 66 tools documented</li> <li>Features \u2014 Deep dive into each feature</li> <li>Configuration \u2014 Environment variables and settings</li> <li>Architecture \u2014 Internal design and module structure</li> <li>API Reference \u2014 HTTP API documentation</li> <li>Deployment \u2014 Production deployment guide</li> <li>FAQ \u2014 Frequently asked questions</li> </ul>"},{"location":"#project-stats","title":"Project Stats","text":"Metric Value Python files 192 Total lines ~52K Functions ~1,800 Test count 1,878 Max cyclomatic complexity 20 Largest file 778 lines Docstring coverage 99% Return type hints 81%"},{"location":"#links","title":"Links","text":"<ul> <li>PyPI</li> <li>GitHub</li> <li>Changelog</li> </ul>"},{"location":"FAQ/","title":"FAQ (\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38)","text":""},{"location":"FAQ/#_1","title":"\uc124\uce58/\uc2e4\ud589","text":""},{"location":"FAQ/#q-python","title":"Q: Python \uba87 \ubc84\uc804 \ud544\uc694\ud574\uc694?","text":"<p>Python 3.9 \uc774\uc0c1\uc774\uba74 \ub429\ub2c8\ub2e4. 3.12+ \uad8c\uc7a5.</p>"},{"location":"FAQ/#q-pip-install-salmalm","title":"Q: pip install \ud588\ub294\ub370 <code>salmalm</code> \uba85\ub839\uc5b4\uac00 \uc548 \ub429\ub2c8\ub2e4","text":"<p>PATH\uc5d0 \uc548 \uc7a1\ud78c \uacbd\uc6b0\uc785\ub2c8\ub2e4. <code>python -m salmalm</code>\uc73c\ub85c \uc2e4\ud589\ud558\uc138\uc694.</p>"},{"location":"FAQ/#q-windows","title":"Q: Windows\uc5d0\uc11c \uc2e4\ud589\ud558\uba74 \uc5d0\ub7ec\uac00 \ub0a9\ub2c8\ub2e4","text":"<p>cmd\uc5d0\uc11c \uc2e4\ud589\ud558\uc138\uc694 (PowerShell \uc544\ub2d8). \ud55c\uae00 \uacbd\ub85c\uac00 \uc788\uc73c\uba74 \uc5d0\ub7ec\ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4. <pre><code>python -m salmalm\n</code></pre></p>"},{"location":"FAQ/#q-docker","title":"Q: Docker\ub85c \uc2e4\ud589\ud558\ub824\uba74?","text":"<pre><code>git clone https://github.com/hyunjun6928-netizen/salmalm.git\ncd salmalm\ndocker compose up -d\n# \u2192 http://localhost:18800\n</code></pre>"},{"location":"FAQ/#api","title":"API \ud0a4","text":""},{"location":"FAQ/#q-api","title":"Q: API \ud0a4 \uc5c6\uc774 \uc4f8 \uc218 \uc788\ub098\uc694?","text":"<p>\ub124. Ollama\ub97c \uc124\uce58\ud558\uba74 \ub85c\uceec LLM\uc73c\ub85c API \ud0a4 \uc5c6\uc774 \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4. <pre><code>ollama pull llama3.2\npython -m salmalm\n# \uc628\ubcf4\ub529\uc5d0\uc11c Ollama URL: http://localhost:11434/v1\n</code></pre></p>"},{"location":"FAQ/#q-api_1","title":"Q: API \ud0a4\ub294 \uc5b4\ub514\uc11c \ubc1c\uae09\ud558\ub098\uc694?","text":"Provider URL Anthropic (Claude) https://console.anthropic.com/settings/keys OpenAI (GPT) https://platform.openai.com/api-keys xAI (Grok) https://console.x.ai Google (Gemini) https://aistudio.google.com/apikey Brave Search https://brave.com/search/api/ (\ubb34\ub8cc)"},{"location":"FAQ/#q-api_2","title":"Q: API \ud0a4\ub294 \uc5b4\ub514\uc5d0 \uc800\uc7a5\ub418\ub098\uc694?","text":"<p>\ub450 \uac00\uc9c0 \ubc29\uc2dd: 1. <code>.env</code> \ud30c\uc77c \u2014 \ud504\ub85c\uc81d\ud2b8 \ub8e8\ud2b8\uc5d0 \ud3c9\ubb38 \uc800\uc7a5 (\uac04\ud3b8) 2. Vault \u2014 AES-256-GCM \uc554\ud638\ud654 \uc800\uc7a5 (\ubcf4\uc548)</p> <p><code>.env</code>\uac00 \uc788\uc73c\uba74 vault\ubcf4\ub2e4 \uc6b0\uc120\ud569\ub2c8\ub2e4.</p>"},{"location":"FAQ/#vault","title":"\ube44\ubc00\ubc88\ud638/Vault","text":""},{"location":"FAQ/#q","title":"Q: \ube44\ubc00\ubc88\ud638\ub97c \uc78a\uc5b4\ubc84\ub838\uc5b4\uc694","text":"<p>vault \ud30c\uc77c\uc744 \uc0ad\uc81c\ud558\uba74 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4: - Windows: <code>del %USERPROFILE%\\.salmalm\\vault.enc</code> - Linux/Mac: <code>rm ~/.salmalm/vault.enc</code></p> <p>\uc0ad\uc81c \ud6c4 <code>python -m salmalm</code> \ud558\uba74 \ucc98\uc74c\ubd80\ud130 \ub2e4\uc2dc \uc124\uc815\ud569\ub2c8\ub2e4. \u26a0\ufe0f vault\uc5d0 \uc800\uc7a5\ub41c API \ud0a4\ub3c4 \uac19\uc774 \uc0ad\uc81c\ub429\ub2c8\ub2e4. <code>.env</code> \ud30c\uc77c\uc5d0 \ubc31\uc5c5\ud558\uc138\uc694.</p>"},{"location":"FAQ/#q_1","title":"Q: \ube44\ubc00\ubc88\ud638 \uc5c6\uc774 \uc4f0\uace0 \uc2f6\uc5b4\uc694","text":"<p>\uccab \uc2e4\ud589 \uc2dc \"\uc544\ub2c8\uc694, \ubc14\ub85c \uc2dc\uc791\" \uc120\ud0dd\ud558\uba74 \ube44\ubc00\ubc88\ud638 \uc5c6\uc774 \uc0ac\uc6a9\ub429\ub2c8\ub2e4. \uc774\ubbf8 \uc124\uc815\ud588\ub2e4\uba74: Settings \u2192 \ud83d\udd12 \ub9c8\uc2a4\ud130 \ube44\ubc00\ubc88\ud638 \u2192 \"\ube44\ubc00\ubc88\ud638 \ud574\uc81c\"</p>"},{"location":"FAQ/#q_2","title":"Q: \ube44\ubc00\ubc88\ud638\ub97c \ub098\uc911\uc5d0 \ucd94\uac00\ud560 \uc218 \uc788\ub098\uc694?","text":"<p>\ub124. Settings \u2192 \ud83d\udd12 \ub9c8\uc2a4\ud130 \ube44\ubc00\ubc88\ud638 \u2192 \uc0c8 \ube44\ubc00\ubc88\ud638 \uc124\uc815</p>"},{"location":"FAQ/#_2","title":"\ubaa8\ub378/\uc0ac\uc6a9","text":""},{"location":"FAQ/#q_3","title":"Q: \uc5b4\ub5a4 \ubaa8\ub378\uc744 \uc4f0\ub294 \uac8c \uc88b\uc544\uc694?","text":"<ul> <li>\uc77c\ubc18 \ub300\ud654: Claude Sonnet \ub610\ub294 GPT-4.1 (\uac00\uc131\ube44)</li> <li>\ubcf5\uc7a1\ud55c \ucf54\ub529: Claude Opus \ub610\ub294 o3 (\ucd5c\uace0 \uc131\ub2a5)</li> <li>\ube60\ub978 \uc751\ub2f5: Gemini Flash \ub610\ub294 GPT-4.1-nano (\uc800\ube44\uc6a9)</li> <li>\ubb34\ub8cc: Ollama + llama3.2 (\ub85c\uceec)</li> </ul>"},{"location":"FAQ/#q_4","title":"Q: \ubaa8\ub378\uc744 \ubc14\uafb8\ub824\uba74?","text":"<p>\uc6f9 UI \uc88c\uce21 Settings \u2192 Model \ub4dc\ub86d\ub2e4\uc6b4\uc5d0\uc11c \uc120\ud0dd\ud558\uac70\ub098, \ucc44\ud305\uc5d0\uc11c <code>/model anthropic/claude-opus-4-6</code> \uc785\ub825.</p>"},{"location":"FAQ/#q_5","title":"Q: \ube44\uc6a9\uc774 \uc5bc\ub9c8\ub098 \ub4dc\ub098\uc694?","text":"<p>Settings \u2192 Token Usage\uc5d0\uc11c \uc2e4\uc2dc\uac04 \ud655\uc778 \uac00\ub2a5\ud569\ub2c8\ub2e4. \uc77c\ubc18 \uc0ac\uc6a9 \uae30\uc900 \ud558\ub8e8 $0.5~$2 \uc815\ub3c4.</p>"},{"location":"FAQ/#_3","title":"\uc774\ubbf8\uc9c0","text":""},{"location":"FAQ/#q_6","title":"Q: \uc774\ubbf8\uc9c0 \uc0dd\uc131\uc740 \uc5b4\ub5bb\uac8c \ud558\ub098\uc694?","text":"<p>\ucc44\ud305\uc5d0\uc11c \uc790\uc5f0\uc2a4\ub7fd\uac8c \uc694\uccad\ud558\uba74 \ub429\ub2c8\ub2e4: \"\uace0\uc591\uc774 \uadf8\ub9bc \uadf8\ub824\uc918\" DALL-E \ub610\ub294 xAI Aurora\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. OpenAI API \ud0a4\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.</p>"},{"location":"FAQ/#q_7","title":"Q: \uc774\ubbf8\uc9c0 \ubd84\uc11d\uc740?","text":"<p>\uc774\ubbf8\uc9c0 \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud558\uac70\ub098 URL\uc744 \ubcf4\ub0b4\uba74 <code>image_analyze</code> \ub3c4\uad6c\ub85c \ubd84\uc11d\ud569\ub2c8\ub2e4. GPT-4o \ub610\ub294 Claude Vision\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p>"},{"location":"FAQ/#_4","title":"\ubb38\uc81c \ud574\uacb0","text":""},{"location":"FAQ/#q-connection-refused","title":"Q: \"Connection refused\" \uc5d0\ub7ec","text":"<p>\uc11c\ubc84\uac00 \uc2e4\ud589 \uc911\uc778\uc9c0 \ud655\uc778\ud558\uc138\uc694. <code>python -m salmalm</code> \ud6c4 http://localhost:18800 \uc811\uc18d.</p>"},{"location":"FAQ/#q_8","title":"Q: \ud154\ub808\uadf8\ub7a8 \ubd07\uc774 \uc751\ub2f5 \uc548 \ud574\uc694","text":"<ol> <li><code>.env</code>\uc5d0 <code>TELEGRAM_TOKEN</code>\uacfc <code>TELEGRAM_OWNER_ID</code> \uc124\uc815 \ud655\uc778</li> <li>\ub2e4\ub978 \ud504\ub85c\uc138\uc2a4\uac00 \uac19\uc740 \ubd07 \ud1a0\ud070\uc73c\ub85c polling \uc911\uc774\uba74 \ucda9\ub3cc\ud569\ub2c8\ub2e4</li> </ol>"},{"location":"FAQ/#q_9","title":"Q: \uc5c5\ub370\uc774\ud2b8\ud558\ub824\uba74?","text":"<p><pre><code>python -m pip install --upgrade salmalm\npython -m salmalm\n</code></pre> \ub610\ub294 \uc6f9 UI Settings \u2192 Update \u2192 Check for Updates</p>"},{"location":"FAQ/#q_10","title":"Q: \ub85c\uadf8\ub294 \uc5b4\ub514\uc5d0 \uc788\ub098\uc694?","text":"<p><code>~/.salmalm/salmalm.log</code> (\ub610\ub294 \ud504\ub85c\uc81d\ud2b8 \ub514\ub809\ud130\ub9ac\uc758 <code>salmalm.log</code>)</p>"},{"location":"FAQ_EN/","title":"FAQ (Frequently Asked Questions)","text":""},{"location":"FAQ_EN/#installation-running","title":"Installation / Running","text":""},{"location":"FAQ_EN/#q-what-python-version-do-i-need","title":"Q: What Python version do I need?","text":"<p>Python 3.9+. 3.12+ recommended.</p>"},{"location":"FAQ_EN/#q-i-installed-via-pip-but-salmalm-command-doesnt-work","title":"Q: I installed via pip but <code>salmalm</code> command doesn't work","text":"<p>It's likely not on your PATH. Use <code>python -m salmalm</code> instead.</p>"},{"location":"FAQ_EN/#q-errors-on-windows","title":"Q: Errors on Windows","text":"<p>Use cmd.exe (not PowerShell). Avoid Korean/non-ASCII characters in folder paths. <pre><code>python -m salmalm\n</code></pre></p>"},{"location":"FAQ_EN/#q-how-do-i-run-with-docker","title":"Q: How do I run with Docker?","text":"<pre><code>git clone https://github.com/hyunjun6928-netizen/salmalm.git\ncd salmalm\ndocker compose up -d\n# \u2192 http://localhost:18800\n</code></pre>"},{"location":"FAQ_EN/#api-keys","title":"API Keys","text":""},{"location":"FAQ_EN/#q-can-i-use-it-without-an-api-key","title":"Q: Can I use it without an API key?","text":"<p>Yes. Install Ollama for a fully local, free LLM experience. <pre><code>ollama pull llama3.2\npython -m salmalm\n# During onboarding, set Ollama URL: http://localhost:11434/v1\n</code></pre></p>"},{"location":"FAQ_EN/#q-where-do-i-get-api-keys","title":"Q: Where do I get API keys?","text":"Provider URL Anthropic (Claude) https://console.anthropic.com/settings/keys OpenAI (GPT) https://platform.openai.com/api-keys xAI (Grok) https://console.x.ai Google (Gemini) https://aistudio.google.com/apikey Brave Search https://brave.com/search/api/ (free)"},{"location":"FAQ_EN/#q-where-are-api-keys-stored","title":"Q: Where are API keys stored?","text":"<p>Two options: 1. <code>.env</code> file \u2014 plaintext in project root (simple) 2. Vault \u2014 AES-256-GCM encrypted storage (secure)</p> <p><code>.env</code> takes priority over vault when both exist.</p>"},{"location":"FAQ_EN/#password-vault","title":"Password / Vault","text":""},{"location":"FAQ_EN/#q-i-forgot-my-password","title":"Q: I forgot my password","text":"<p>Delete the vault file to reset: - Windows: <code>del %USERPROFILE%\\.salmalm\\vault.enc</code> - Linux/Mac: <code>rm ~/.salmalm/vault.enc</code></p> <p>Then run <code>python -m salmalm</code> to start fresh. \u26a0\ufe0f This also deletes API keys stored in vault. Back them up in <code>.env</code> first.</p>"},{"location":"FAQ_EN/#q-i-dont-want-a-password","title":"Q: I don't want a password","text":"<p>Choose \"No, start right away\" during first-run setup. Already set one? Settings \u2192 \ud83d\udd12 Master Password \u2192 \"Remove Password\"</p>"},{"location":"FAQ_EN/#q-can-i-add-a-password-later","title":"Q: Can I add a password later?","text":"<p>Yes. Settings \u2192 \ud83d\udd12 Master Password \u2192 Set New Password</p>"},{"location":"FAQ_EN/#models-usage","title":"Models / Usage","text":""},{"location":"FAQ_EN/#q-which-model-should-i-use","title":"Q: Which model should I use?","text":"<ul> <li>General chat: Claude Sonnet or GPT-4.1 (best value)</li> <li>Complex coding: Claude Opus or o3 (top performance)</li> <li>Fast responses: Gemini Flash or GPT-4.1-nano (low cost)</li> <li>Free: Ollama + llama3.2 (local)</li> </ul>"},{"location":"FAQ_EN/#q-how-do-i-switch-models","title":"Q: How do I switch models?","text":"<p>Web UI \u2192 Settings \u2192 Model dropdown, or type <code>/model anthropic/claude-opus-4-6</code> in chat.</p>"},{"location":"FAQ_EN/#q-how-much-does-it-cost","title":"Q: How much does it cost?","text":"<p>Check Settings \u2192 Token Usage for real-time tracking. Typical usage: $0.5\u2013$2/day.</p>"},{"location":"FAQ_EN/#images","title":"Images","text":""},{"location":"FAQ_EN/#q-how-do-i-generate-images","title":"Q: How do I generate images?","text":"<p>Just ask naturally in chat: \"Draw a cat\". Uses DALL-E or xAI Aurora. Requires an OpenAI API key.</p>"},{"location":"FAQ_EN/#q-how-about-image-analysis","title":"Q: How about image analysis?","text":"<p>Upload an image file or send a URL \u2014 the <code>image_analyze</code> tool handles it automatically. Uses GPT-4o or Claude Vision.</p>"},{"location":"FAQ_EN/#troubleshooting","title":"Troubleshooting","text":""},{"location":"FAQ_EN/#q-connection-refused-error","title":"Q: \"Connection refused\" error","text":"<p>Make sure the server is running. Run <code>python -m salmalm</code>, then visit http://localhost:18800.</p>"},{"location":"FAQ_EN/#q-telegram-bot-not-responding","title":"Q: Telegram bot not responding","text":"<ol> <li>Check <code>.env</code> for <code>TELEGRAM_TOKEN</code> and <code>TELEGRAM_OWNER_ID</code></li> <li>Another process polling with the same bot token will cause conflicts</li> </ol>"},{"location":"FAQ_EN/#q-how-do-i-update","title":"Q: How do I update?","text":"<p><pre><code>python -m pip install --upgrade salmalm\npython -m salmalm\n</code></pre> Or use Web UI \u2192 Settings \u2192 Update \u2192 Check for Updates</p>"},{"location":"FAQ_EN/#q-where-are-logs","title":"Q: Where are logs?","text":"<p><code>~/.salmalm/salmalm.log</code> (or <code>salmalm.log</code> in the project directory)</p>"},{"location":"api/","title":"SalmAlm API Reference","text":"<p>Base URL: <code>http://localhost:18800</code></p>"},{"location":"api/#authentication","title":"Authentication","text":"<p>All <code>/api/*</code> endpoints require authentication via <code>X-Session-Token</code> header or API key.</p> <pre><code>X-Session-Token: &lt;token&gt;\n</code></pre> <p>Or API key: <pre><code>X-Api-Key: sk_&lt;key&gt;\n</code></pre></p>"},{"location":"api/#endpoints","title":"Endpoints","text":""},{"location":"api/#chat","title":"Chat","text":""},{"location":"api/#post-apichat","title":"POST /api/chat","text":"<p>Send a message and get a response.</p> <p>Request: <pre><code>{\n  \"message\": \"Hello\",\n  \"session\": \"web\",\n  \"image_base64\": null,\n  \"image_mime\": \"image/png\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"response\": \"Hello! How can I help?\",\n  \"model\": \"anthropic/claude-sonnet-4-20250514\"\n}\n</code></pre></p>"},{"location":"api/#post-apichatstream","title":"POST /api/chat/stream","text":"<p>SSE streaming version of chat. Returns events: - <code>status</code> \u2014 Processing status updates - <code>tool</code> \u2014 Tool execution notifications - <code>chunk</code> \u2014 Response text chunks - <code>done</code> \u2014 Final complete response - <code>close</code> \u2014 Stream end</p>"},{"location":"api/#sessions","title":"Sessions","text":""},{"location":"api/#get-apisessions","title":"GET /api/sessions","text":"<p>List all chat sessions.</p> <p>Response: <pre><code>{\n  \"sessions\": [\n    {\"id\": \"web\", \"title\": \"My conversation\", \"updated\": \"2026-02-19T12:00:00\"}\n  ]\n}\n</code></pre></p>"},{"location":"api/#post-apisessionsdelete","title":"POST /api/sessions/delete","text":"<p>Delete a session.</p> <p>Request: <pre><code>{\"session_id\": \"s_abc123\"}\n</code></pre></p>"},{"location":"api/#post-apisessionsrename","title":"POST /api/sessions/rename","text":"<p>Rename a session.</p> <p>Request: <pre><code>{\"session_id\": \"s_abc123\", \"title\": \"New title\"}\n</code></pre></p>"},{"location":"api/#vault-key-management","title":"Vault (Key Management)","text":""},{"location":"api/#post-apivault","title":"POST /api/vault","text":"<p>Manage encrypted key storage.</p> <p>Actions: - <code>{\"action\": \"keys\"}</code> \u2014 List stored key names - <code>{\"action\": \"set\", \"key\": \"openai_api_key\", \"value\": \"sk-...\"}</code> \u2014 Store a key - <code>{\"action\": \"get\", \"key\": \"openai_api_key\"}</code> \u2014 Get a key value - <code>{\"action\": \"delete\", \"key\": \"openai_api_key\"}</code> \u2014 Delete a key - <code>{\"action\": \"change_password\", \"old_password\": \"...\", \"new_password\": \"...\"}</code> \u2014 Change vault password</p>"},{"location":"api/#status","title":"Status","text":""},{"location":"api/#get-apistatus","title":"GET /api/status","text":"<p>Get usage statistics and server status.</p> <p>Response: <pre><code>{\n  \"usage\": {\n    \"total_input\": 15000,\n    \"total_output\": 5000,\n    \"total_cost\": 0.0234,\n    \"elapsed_hours\": \"2.5h\",\n    \"by_model\": {\n      \"anthropic/claude-sonnet-4-20250514\": {\"calls\": 10, \"cost\": 0.02}\n    }\n  },\n  \"model\": \"auto\",\n  \"version\": \"0.11.4\"\n}\n</code></pre></p>"},{"location":"api/#speech-to-text","title":"Speech-to-Text","text":""},{"location":"api/#post-apistt","title":"POST /api/stt","text":"<p>Transcribe audio to text via Whisper.</p> <p>Request: <pre><code>{\n  \"audio_base64\": \"&lt;base64 encoded audio&gt;\",\n  \"language\": \"ko\"\n}\n</code></pre></p> <p>Response: <pre><code>{\"text\": \"\uc548\ub155\ud558\uc138\uc694\"}\n</code></pre></p>"},{"location":"api/#file-upload","title":"File Upload","text":""},{"location":"api/#post-apiupload","title":"POST /api/upload","text":"<p>Upload a file (multipart/form-data).</p> <p>Response: <pre><code>{\n  \"ok\": true,\n  \"info\": \"Uploaded: file.txt (1.2KB)\",\n  \"image_base64\": null,\n  \"image_mime\": null\n}\n</code></pre></p>"},{"location":"api/#updates","title":"Updates","text":""},{"location":"api/#get-apicheck-update","title":"GET /api/check-update","text":"<p>Check for new versions on PyPI.</p>"},{"location":"api/#post-apido-update","title":"POST /api/do-update","text":"<p>Run <code>pip install --upgrade salmalm</code>. Admin + loopback only.</p>"},{"location":"api/#health","title":"Health","text":""},{"location":"api/#get-health","title":"GET /health","text":"<p>Health check endpoint. Returns 200 if server is running.</p>"},{"location":"api/#pwa","title":"PWA","text":""},{"location":"api/#get-manifestjson","title":"GET /manifest.json","text":"<p>PWA manifest for installable web app.</p>"},{"location":"api/#get-swjs","title":"GET /sw.js","text":"<p>Service worker (standalone PWA mode only).</p>"},{"location":"api/#get-icon-192svg-icon-512svg","title":"GET /icon-192.svg, /icon-512.svg","text":"<p>App icons.</p>"},{"location":"api/#error-responses","title":"Error Responses","text":"<pre><code>{\"error\": \"Description of error\"}\n</code></pre> <p>HTTP status codes: - <code>200</code> \u2014 Success - <code>400</code> \u2014 Bad request - <code>401</code> \u2014 Unauthorized - <code>403</code> \u2014 Forbidden (vault locked) - <code>404</code> \u2014 Not found - <code>500</code> \u2014 Internal server error</p>"},{"location":"architecture/","title":"Architecture","text":""},{"location":"architecture/#_1","title":"\uc544\ud0a4\ud14d\ucc98","text":""},{"location":"architecture/#project-structure","title":"Project Structure / \ud504\ub85c\uc81d\ud2b8 \uad6c\uc870","text":"<p>SalmAlm is organized into several subpackages, each responsible for a specific domain.</p> <p>SalmAlm\uc740 \uc5ec\ub7ec \uc11c\ube0c\ud328\ud0a4\uc9c0\ub85c \uad6c\uc131\ub418\uc5b4 \uc788\uc73c\uba70, \uac01\uac01 \ud2b9\uc815 \ub3c4\uba54\uc778\uc744 \ub2f4\ub2f9\ud569\ub2c8\ub2e4.</p> <pre><code>salmalm/\n\u251c\u2500\u2500 __init__.py          # Package init, version\n\u251c\u2500\u2500 __main__.py          # Entry point (python -m salmalm)\n\u251c\u2500\u2500 cli.py               # CLI argument parser\n\u251c\u2500\u2500 constants.py         # Global constants\n\u2502\n\u251c\u2500\u2500 core/                # Core engine modules / \ucf54\uc5b4 \uc5d4\uc9c4 \ubaa8\ub4c8\n\u2502   \u251c\u2500\u2500 core.py          # Central SalmAlm class\n\u2502   \u251c\u2500\u2500 engine.py        # LLM orchestration engine\n\u2502   \u251c\u2500\u2500 llm.py           # LLM provider abstraction\n\u2502   \u251c\u2500\u2500 llm_loop.py      # Conversation loop handler\n\u2502   \u251c\u2500\u2500 llm_task.py      # Async LLM task runner\n\u2502   \u251c\u2500\u2500 prompt.py        # System prompt builder\n\u2502   \u251c\u2500\u2500 session_manager.py # Session lifecycle\n\u2502   \u251c\u2500\u2500 memory.py        # Memory management\n\u2502   \u251c\u2500\u2500 health.py        # Health check endpoints\n\u2502   \u251c\u2500\u2500 shutdown.py      # Graceful shutdown\n\u2502   \u251c\u2500\u2500 export.py        # Session export (JSON/Markdown)\n\u2502   \u251c\u2500\u2500 image_resize.py  # Image preprocessing\n\u2502   \u251c\u2500\u2500 plugin_watcher.py # Plugin hot-reload\n\u2502   \u2514\u2500\u2500 exceptions.py    # Custom exceptions\n\u2502\n\u251c\u2500\u2500 tools/               # Tool system / \ub3c4\uad6c \uc2dc\uc2a4\ud15c\n\u2502   \u251c\u2500\u2500 tool_registry.py # Decorator-based tool dispatch\n\u2502   \u251c\u2500\u2500 tools.py         # Tool definitions (58+ schemas)\n\u2502   \u251c\u2500\u2500 tools_file.py    # File operations\n\u2502   \u251c\u2500\u2500 tools_web.py     # Web search &amp; fetch\n\u2502   \u251c\u2500\u2500 tools_exec.py    # Shell execution\n\u2502   \u251c\u2500\u2500 tools_memory.py  # Memory tools\n\u2502   \u251c\u2500\u2500 tools_system.py  # System monitoring\n\u2502   \u251c\u2500\u2500 tools_personal.py # Personal assistant tools\n\u2502   \u251c\u2500\u2500 tools_calendar.py # Calendar tools\n\u2502   \u251c\u2500\u2500 tools_email.py   # Email tools\n\u2502   \u251c\u2500\u2500 tools_google.py  # Google integration\n\u2502   \u251c\u2500\u2500 tools_media.py   # Image/audio tools\n\u2502   \u251c\u2500\u2500 tools_browser.py # Browser automation\n\u2502   \u251c\u2500\u2500 tools_agent.py   # Sub-agent spawning\n\u2502   \u251c\u2500\u2500 tools_misc.py    # Miscellaneous utilities\n\u2502   \u251c\u2500\u2500 tools_patch.py   # Patch/diff tools\n\u2502   \u251c\u2500\u2500 tools_common.py  # Shared tool utilities\n\u2502   \u251c\u2500\u2500 tools_reaction.py # Reaction tools\n\u2502   \u251c\u2500\u2500 tools_reminder.py # Reminder tools\n\u2502   \u2514\u2500\u2500 tools_util.py    # Utility tools\n\u2502\n\u251c\u2500\u2500 features/            # Feature modules / \uae30\ub2a5 \ubaa8\ub4c8\n\u2502   \u251c\u2500\u2500 commands.py      # Slash command handler (30+)\n\u2502   \u251c\u2500\u2500 rag.py           # RAG vector search\n\u2502   \u251c\u2500\u2500 mcp.py           # MCP server/client\n\u2502   \u251c\u2500\u2500 mcp_marketplace.py # MCP marketplace\n\u2502   \u251c\u2500\u2500 a2a.py           # Agent-to-agent protocol\n\u2502   \u251c\u2500\u2500 agents.py        # Multi-agent management\n\u2502   \u251c\u2500\u2500 briefing.py      # Daily briefing\n\u2502   \u251c\u2500\u2500 bookmarks.py     # Session bookmarks\n\u2502   \u251c\u2500\u2500 compare.py       # Response comparison\n\u2502   \u251c\u2500\u2500 dashboard_life.py # Life dashboard\n\u2502   \u251c\u2500\u2500 deadman.py       # Dead man switch\n\u2502   \u251c\u2500\u2500 doctor.py        # System diagnostics\n\u2502   \u251c\u2500\u2500 heartbeat.py     # Heartbeat monitoring\n\u2502   \u251c\u2500\u2500 hooks.py         # Event hooks\n\u2502   \u251c\u2500\u2500 mood.py          # Mood tracking\n\u2502   \u251c\u2500\u2500 nodes.py         # Node management\n\u2502   \u251c\u2500\u2500 plugin_manager.py # Plugin lifecycle\n\u2502   \u251c\u2500\u2500 presence.py      # Online presence\n\u2502   \u251c\u2500\u2500 self_evolve.py   # Self-evolution\n\u2502   \u251c\u2500\u2500 shadow.py        # Shadow mode\n\u2502   \u251c\u2500\u2500 sla.py           # SLA monitoring\n\u2502   \u251c\u2500\u2500 stt.py           # Speech-to-text\n\u2502   \u251c\u2500\u2500 stability.py     # Stability features\n\u2502   \u251c\u2500\u2500 thoughts.py      # Thought tracking\n\u2502   \u251c\u2500\u2500 timecapsule.py   # Time capsule\n\u2502   \u251c\u2500\u2500 transcript_hygiene.py # Transcript cleanup\n\u2502   \u251c\u2500\u2500 tray.py          # System tray\n\u2502   \u251c\u2500\u2500 users.py         # User management\n\u2502   \u251c\u2500\u2500 vault_chat.py    # Vault chat\n\u2502   \u251c\u2500\u2500 watcher.py       # File watcher\n\u2502   \u2514\u2500\u2500 workflow.py      # Workflow engine\n\u2502\n\u251c\u2500\u2500 channels/            # Chat channels / \ucc44\ud305 \ucc44\ub110\n\u2502   \u251c\u2500\u2500 channel_router.py # Multi-channel routing\n\u2502   \u251c\u2500\u2500 telegram.py      # Telegram bot\n\u2502   \u251c\u2500\u2500 discord_bot.py   # Discord bot\n\u2502   \u2514\u2500\u2500 slack_bot.py     # Slack bot (experimental)\n\u2502\n\u251c\u2500\u2500 security/            # Security layer / \ubcf4\uc548 \ub808\uc774\uc5b4\n\u2502   \u251c\u2500\u2500 security.py      # OWASP protection\n\u2502   \u251c\u2500\u2500 crypto.py        # AES-256-GCM encryption\n\u2502   \u251c\u2500\u2500 sandbox.py       # Sandboxed execution\n\u2502   \u251c\u2500\u2500 container.py     # Container isolation\n\u2502   \u2514\u2500\u2500 exec_approvals.py # Dangerous command approval\n\u2502\n\u251c\u2500\u2500 web/                 # Web server / \uc6f9 \uc11c\ubc84\n\u2502   \u251c\u2500\u2500 web.py           # HTTP request handler\n\u2502   \u251c\u2500\u2500 ws.py            # WebSocket handler\n\u2502   \u251c\u2500\u2500 auth.py          # Web authentication\n\u2502   \u251c\u2500\u2500 oauth.py         # Google OAuth flow\n\u2502   \u2514\u2500\u2500 templates.py     # HTML templates\n\u2502\n\u251c\u2500\u2500 utils/               # Utilities / \uc720\ud2f8\ub9ac\ud2f0\n\u2502   \u251c\u2500\u2500 async_http.py    # Async HTTP client\n\u2502   \u251c\u2500\u2500 browser.py       # Browser utilities\n\u2502   \u251c\u2500\u2500 chunker.py       # Message chunking\n\u2502   \u251c\u2500\u2500 dedup.py         # Deduplication\n\u2502   \u251c\u2500\u2500 file_logger.py   # File-based logging\n\u2502   \u251c\u2500\u2500 logging_ext.py   # Logging extensions\n\u2502   \u251c\u2500\u2500 markdown_ir.py   # Markdown IR processor\n\u2502   \u251c\u2500\u2500 migration.py     # Data migration\n\u2502   \u251c\u2500\u2500 queue.py         # Async queue\n\u2502   \u251c\u2500\u2500 retry.py         # Retry with backoff\n\u2502   \u2514\u2500\u2500 tls.py           # TLS certificate generation\n\u2502\n\u251c\u2500\u2500 infra/               # Infrastructure / \uc778\ud504\ub77c\n\u251c\u2500\u2500 integrations/        # External integrations / \uc678\ubd80 \ud1b5\ud569\n\u251c\u2500\u2500 plugins/             # Plugin directory / \ud50c\ub7ec\uadf8\uc778 \ub514\ub809\ud1a0\ub9ac\n\u251c\u2500\u2500 static/              # Static assets (HTML, CSS, JS)\n\u251c\u2500\u2500 frontend/            # Frontend assets\n\u2514\u2500\u2500 default_skills/      # Built-in skill definitions\n</code></pre>"},{"location":"architecture/#data-flow","title":"Data Flow / \ub370\uc774\ud130 \ud750\ub984","text":"<pre><code>User Input \u2192 Channel (Web/Telegram/Discord)\n    \u2192 channel_router \u2192 core.engine\n    \u2192 prompt builder \u2192 LLM API\n    \u2192 tool_registry (if tool call) \u2192 tool_handler\n    \u2192 response \u2192 channel \u2192 User\n</code></pre>"},{"location":"architecture/#key-design-decisions","title":"Key Design Decisions / \uc8fc\uc694 \uc124\uacc4 \uacb0\uc815","text":"<ol> <li>Zero dependencies \u2014 stdlib only for core; <code>cryptography</code> optional for vault / \ucf54\uc5b4\ub294 \ud45c\uc900 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub9cc \uc0ac\uc6a9</li> <li>Decorator-based tool registry \u2014 <code>@register(\"tool_name\")</code> pattern / \ub370\ucf54\ub808\uc774\ud130 \uae30\ubc18 \ub3c4\uad6c \ub4f1\ub85d</li> <li>Lazy module loading \u2014 tools loaded on first use / \uccab \uc0ac\uc6a9 \uc2dc \ubaa8\ub4c8 \ub85c\ub529</li> <li>Multi-channel abstraction \u2014 single engine, multiple frontends / \ub2e8\uc77c \uc5d4\uc9c4, \ub2e4\uc911 \ud504\ub860\ud2b8\uc5d4\ub4dc</li> <li>Feature isolation \u2014 each feature is a standalone module / \uac01 \uae30\ub2a5\uc740 \ub3c5\ub9bd \ubaa8\ub4c8</li> <li>SSE-first transport \u2014 SSE is the primary message delivery channel (tab-switch-safe); WebSocket demoted to typing indicators only / SSE\uac00 \uae30\ubcf8 \uc804\uc1a1 \ucc44\ub110 (\ud0ed \uc804\ud658 \uc548\uc804); WebSocket\uc740 \ud0c0\uc774\ud551 \ud45c\uc2dc\ub9cc</li> <li>Embedding RAG \u2014 hybrid vector search with OpenAI/Google embeddings + BM25 fallback for memory recall / \ud558\uc774\ube0c\ub9ac\ub4dc \ubca1\ud130 \uac80\uc0c9 (\uc784\ubca0\ub529 + BM25 \ud3f4\ubc31)</li> </ol>"},{"location":"beginners-guide/","title":"\ud83d\ude80 \ucd08\ubcf4\uc790 \uac00\uc774\ub4dc (Beginner's Guide)","text":"<p>\ud504\ub85c\uadf8\ub798\ubc0d\uc744 \ubaa8\ub974\uc154\ub3c4 \uad1c\ucc2e\uc2b5\ub2c8\ub2e4. \uc774 \uac00\uc774\ub4dc\ub9cc \ub530\ub77c\ud558\uba74 \ub429\ub2c8\ub2e4.</p>"},{"location":"beginners-guide/#salmalm","title":"SalmAlm\uc774 \ubb54\uac00\uc694?","text":"<p>\ub098\ub9cc\uc758 AI \ube44\uc11c\uc785\ub2c8\ub2e4. ChatGPT\ucc98\ub7fc \ub300\ud654\ud560 \uc218 \uc788\uc9c0\ub9cc, \ub0b4 \ucef4\ud4e8\ud130\uc5d0\uc11c \ub3cc\uc544\uac11\ub2c8\ub2e4.</p> <ul> <li>\ud83d\udcac \uc790\uc5f0\uc5b4\ub85c \ub300\ud654 (\ud55c\uad6d\uc5b4 OK)</li> <li>\ud83d\udcc1 \ub0b4 \ud30c\uc77c \uc77d\uae30/\uc4f0\uae30</li> <li>\ud83c\udf10 \uc6f9 \uac80\uc0c9</li> <li>\ud83e\udde0 \uc5ec\ub7ec AI \ubaa8\ub378 \uc790\ub3d9 \uc120\ud0dd (\ube44\uc2fc \ubaa8\ub378\uc740 \uc5b4\ub824\uc6b4 \uc9c8\ubb38\uc5d0\ub9cc)</li> <li>\ud83d\udcb0 ChatGPT Plus($20/\uc6d4)\ubcf4\ub2e4 80% \uc800\ub834</li> </ul>"},{"location":"beginners-guide/#_1","title":"\uc124\uce58\ud558\uae30","text":""},{"location":"beginners-guide/#_2","title":"\ud544\uc694\ud55c \uac83","text":"<ul> <li>Python 3.10 \uc774\uc0c1 (\ub2e4\uc6b4\ub85c\ub4dc)</li> <li>AI API \ud0a4 \ud558\ub098 (\uc544\ub798 \ucc38\uace0)</li> </ul>"},{"location":"beginners-guide/#api","title":"API \ud0a4 \ubc1b\uae30 (\ubb34\ub8cc \uccb4\ud5d8 \uac00\ub2a5)","text":"\uc81c\uacf5\uc0ac \uac00\uc785 \ube44\uace0 Google AI Studio \uad6c\uae00 \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778 \ubb34\ub8cc \ud2f0\uc5b4 \uc788\uc74c \u2014 \ucc98\uc74c \uc2dc\uc791\ud558\uae30 \uc88b\uc74c Anthropic \ud68c\uc6d0\uac00\uc785 $5 \ubb34\ub8cc \ud06c\ub808\ub527 (\uc2e0\uaddc) OpenAI \ud68c\uc6d0\uac00\uc785 \uc120\ubd88 \ucda9\uc804 \ud544\uc694"},{"location":"beginners-guide/#_3","title":"\uc124\uce58 (\ud130\ubbf8\ub110\uc5d0 \ubcf5\uc0ac+\ubd99\uc5ec\ub123\uae30)","text":"<pre><code>pip install salmalm\n</code></pre>"},{"location":"beginners-guide/#_4","title":"\uc2e4\ud589","text":"<p><pre><code>salmalm --open\n</code></pre> \ube0c\ub77c\uc6b0\uc800\uac00 \uc790\ub3d9\uc73c\ub85c \uc5f4\ub9bd\ub2c8\ub2e4. \ub05d!</p>"},{"location":"beginners-guide/#_5","title":"\ucc98\uc74c \ud574\ubcfc \uac83\ub4e4","text":"<p>\uc124\uce58\ud558\uace0 \ub098\uc11c \ubb58 \ud574\uc57c \ud560\uc9c0 \ubaa8\ub974\uaca0\ub2e4\uba74, \uc774\uac83\ubd80\ud130 \ud574\ubcf4\uc138\uc694:</p>"},{"location":"beginners-guide/#1","title":"1. \uadf8\ub0e5 \ub300\ud654\ud558\uae30","text":"<p><pre><code>\uc548\ub155! \ub10c \ubb58 \ud560 \uc218 \uc788\uc5b4?\n</code></pre> AI\uac00 \uc790\uae30\uac00 \ud560 \uc218 \uc788\ub294 \uac83\ub4e4\uc744 \uc54c\ub824\uc90d\ub2c8\ub2e4.</p>"},{"location":"beginners-guide/#2","title":"2. \uc6f9 \uac80\uc0c9","text":"<p><pre><code>\uc624\ub298 \uc11c\uc6b8 \ub0a0\uc528 \uc54c\ub824\uc918\n</code></pre> \uc790\ub3d9\uc73c\ub85c \uc6f9\uc744 \uac80\uc0c9\ud574\uc11c \ub2f5\ud574\uc90d\ub2c8\ub2e4.</p>"},{"location":"beginners-guide/#3","title":"3. \ud30c\uc77c \ub2e4\ub8e8\uae30","text":"<pre><code>\ubc14\ud0d5\ud654\uba74\uc5d0 todo.txt \ub9cc\ub4e4\uc5b4\uc918. \ub0b4\uc6a9\uc740 \"\uc7a5\ubcf4\uae30, \uc6b4\ub3d9\ud558\uae30\"\n</code></pre>"},{"location":"beginners-guide/#4","title":"4. \ucf54\ub4dc \ub3c4\uc6c0","text":"<pre><code>\ud30c\uc774\uc36c\uc73c\ub85c \uac00\uc704\ubc14\uc704\ubcf4 \uac8c\uc784 \ub9cc\ub4e4\uc5b4\uc918\n</code></pre>"},{"location":"beginners-guide/#5","title":"5. \uba85\ub839\uc5b4 \ubcf4\uae30","text":"<p><pre><code>/help\n</code></pre> \uce74\ud14c\uace0\ub9ac\ubcc4\ub85c \uc815\ub9ac\ub41c \uba85\ub839\uc5b4 \ubaa9\ub85d\uc744 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"beginners-guide/#_6","title":"\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38","text":""},{"location":"beginners-guide/#q","title":"Q: \ub0b4 \ub370\uc774\ud130\ub294 \uc548\uc804\ud55c\uac00\uc694?","text":"<p>\ub124. \ubaa8\ub4e0 \ub370\uc774\ud130\ub294 \ub0b4 \ucef4\ud4e8\ud130(<code>~/SalmAlm</code> \ud3f4\ub354)\uc5d0\ub9cc \uc800\uc7a5\ub429\ub2c8\ub2e4. \uc678\ubd80 \uc11c\ubc84\ub85c \uc804\uc1a1\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. API \ud0a4\ub294 \uc554\ud638\ud654\ub418\uc5b4 \ubcf4\uad00\ub429\ub2c8\ub2e4.</p>"},{"location":"beginners-guide/#q_1","title":"Q: \ube44\uc6a9\uc774 \uc5bc\ub9c8\ub098 \ub4dc\ub098\uc694?","text":"<p>API \uc0ac\uc6a9\ub7c9\uc5d0 \ub530\ub77c \ub2e4\ub974\uc9c0\ub9cc, \uc77c\ubc18\uc801\uc778 \uc0ac\uc6a9(\ud558\ub8e8 50\ud68c \ub300\ud654)\uc740 $0.5~1.5/\uc77c \uc815\ub3c4\uc785\ub2c8\ub2e4. \uc790\ub3d9 \ub77c\uc6b0\ud305\uc774 \uac04\ub2e8\ud55c \uc9c8\ubb38\uc740 \uc800\ub834\ud55c \ubaa8\ub378\ub85c \ubcf4\ub0b4\uc90d\ub2c8\ub2e4.</p>"},{"location":"beginners-guide/#q-chatgpt","title":"Q: ChatGPT\ub791 \ubb50\uac00 \ub2e4\ub978\uac00\uc694?","text":"<ul> <li>ChatGPT: \uc6d4 $20 \uace0\uc815, OpenAI \ubaa8\ub378\ub9cc</li> <li>SalmAlm: \uc4f4 \ub9cc\ud07c\ub9cc \uc9c0\ubd88, Anthropic/OpenAI/Google/\ub85c\uceec \ubaa8\ub378 \uc804\ubd80 \uc0ac\uc6a9 \uac00\ub2a5, \ub0b4 \ucef4\ud4e8\ud130\uc5d0\uc11c \ub3d9\uc791</li> </ul>"},{"location":"beginners-guide/#q_2","title":"Q: \uc5d0\ub7ec\uac00 \ub098\uc694!","text":"<p><pre><code>salmalm doctor\n</code></pre> \uc790\uac00\uc9c4\ub2e8\uc744 \uc2e4\ud589\ud558\uba74 \ub300\ubd80\ubd84\uc758 \ubb38\uc81c\ub97c \ucc3e\uc544\uc90d\ub2c8\ub2e4.</p>"},{"location":"beginners-guide/#q_3","title":"Q: \uc5c5\ub370\uc774\ud2b8\ub294 \uc5b4\ub5bb\uac8c?","text":"<pre><code>salmalm --update\n</code></pre>"},{"location":"beginners-guide/#_7","title":"\ub354 \uc54c\uace0 \uc2f6\ub2e4\uba74","text":"<ul> <li>\uc804\uccb4 \uba85\ub839\uc5b4 \ubaa9\ub85d</li> <li>\uc124\uc815 \uac00\uc774\ub4dc</li> <li>FAQ</li> <li>\uac1c\ubc1c\uc790 \ubb38\uc11c</li> </ul>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#v01873-2026-02-23","title":"v0.18.73 (2026-02-23)","text":""},{"location":"changelog/#bot-ux-openclaw-style","title":"Bot UX (OpenClaw-style)","text":"<ul> <li>Telegram: Ack reaction (\ud83d\udc40), reply-to threading, setMyCommands menu (12 commands)</li> <li>Discord: Ack reaction, reply-to, streaming preview (draft\u2192edit), smart message splitting, 6 built-in commands</li> </ul>"},{"location":"changelog/#memory-system","title":"Memory System","text":"<ul> <li>Auto-curate: promote important daily entries to MEMORY.md after compaction</li> <li>Auto-log: significant conversations recorded to daily memory automatically</li> </ul>"},{"location":"changelog/#cron-jobs","title":"Cron Jobs","text":"<ul> <li>Error tracking with <code>last_error</code> and <code>error_count</code> per job</li> <li>Auto-disable after 5 consecutive failures</li> <li>Failure notifications to owner via Telegram</li> </ul>"},{"location":"changelog/#v01872-2026-02-23","title":"v0.18.72 (2026-02-23)","text":""},{"location":"changelog/#fresh-install-ux","title":"Fresh Install UX","text":"<ul> <li>Setup wizard always shown on fresh install (bootstrap vault auto-create removed)</li> <li>CSP default flipped to <code>unsafe-inline</code> (templates use inline scripts)</li> <li>Strict nonce mode opt-in via <code>SALMALM_CSP_STRICT=1</code></li> <li>7 E2E tests: vault\u2192setup\u2192onboarding\u2192main UI</li> </ul>"},{"location":"changelog/#engine-refactor","title":"Engine Refactor","text":"<ul> <li><code>_execute_loop</code> god object split: 280\u2192130 lines</li> <li>10 helper functions extracted to <code>core/loop_helpers.py</code></li> </ul>"},{"location":"changelog/#v01864-2026-02-22","title":"v0.18.64 (2026-02-22)","text":""},{"location":"changelog/#security-5-review-rounds","title":"Security (5 review rounds)","text":"<ul> <li>Session user_id scoping (multi-tenant isolation)</li> <li>Vault export requires admin role</li> <li><code>@register('browser')</code> misplacement fix</li> <li>Path validation <code>startswith()</code> \u2192 <code>Path.is_relative_to()</code></li> </ul>"},{"location":"changelog/#v01863","title":"v0.18.63","text":""},{"location":"changelog/#security","title":"Security","text":"<ul> <li>Tool tier names aligned to 62 registered tools (CRITICAL 14, HIGH 9)</li> <li>Irreversible action gate: email_send, gmail send, calendar_delete require <code>_confirmed=true</code></li> <li>Browser SSRF defense: <code>_is_internal_url()</code> blocks private/loopback on external bind</li> <li>Exec bypass test vectors (find -exec, tar --to-command, etc.)</li> </ul>"},{"location":"changelog/#v01861","title":"v0.18.61","text":""},{"location":"changelog/#security_1","title":"Security","text":"<ul> <li>Shared <code>security/redact.py</code> module (9 secret patterns)</li> <li>Audit log redaction in tool_handlers and tool_registry</li> <li>Write tools blocked outside allowed roots</li> <li>Memory delegates to shared redact (DRY)</li> </ul>"},{"location":"changelog/#v01855","title":"v0.18.55","text":""},{"location":"changelog/#security_2","title":"Security","text":"<ul> <li>CLI OAuth gated behind <code>SALMALM_CLI_OAUTH=1</code></li> <li>Memory secret scrubbing before write</li> <li>Elevated command blocking on external bind</li> </ul>"},{"location":"changelog/#v01837","title":"v0.18.37","text":""},{"location":"changelog/#security-p0-p2","title":"Security (P0-P2)","text":"<ul> <li><code>ruff format</code> applied to 226 files</li> <li>BackgroundSession kill: Popen + os.killpg()</li> <li>Plugins default OFF (<code>SALMALM_PLUGINS=1</code>)</li> <li>SSRF DNS pinning defense</li> <li>shlex.split for exec parser</li> <li>Audit logging standardized</li> <li>19 security regression tests</li> </ul>"},{"location":"changelog/#v01835","title":"v0.18.35","text":""},{"location":"changelog/#model-router","title":"Model Router","text":"<ul> <li><code>X-Session-Id</code> header in model router requests</li> <li><code>model_override</code> semantics fixed</li> <li>Graceful restart support</li> <li>Auto routing classification hints</li> </ul>"},{"location":"changelog/#v01830","title":"v0.18.30","text":""},{"location":"changelog/#cost-optimization","title":"Cost Optimization","text":"<ul> <li>Dynamic tool selection: 62\u21920 (chat) / 7-12 (actions)</li> <li>Tool schema compression: 7,749\u2192693 tokens (91%)</li> <li>Smart model routing: simple\u2192Haiku, moderate\u2192Sonnet, complex\u2192Opus</li> <li>Intent-based max_tokens and history trim</li> <li>System prompt compressed: 762\u2192310 tokens</li> <li>Result: $7.09/day \u2192 $1.23/day (83% savings)</li> </ul>"},{"location":"changelog/#web-ui","title":"Web UI","text":"<ul> <li>Engine Optimization panel with all toggles</li> <li>Auto Routing panel with classification guide</li> <li>i18n EN/KR split (<code>.eng-en</code>/<code>.eng-kr</code> CSS classes)</li> <li>Telegram &amp; Discord settings panels</li> <li>OpenClaw-like preset</li> </ul>"},{"location":"commands/","title":"Commands Reference","text":""},{"location":"commands/#_1","title":"\uba85\ub839\uc5b4 \ub808\ud37c\ub7f0\uc2a4","text":"<p>SalmAlm provides 35+ slash commands for controlling the AI assistant directly from chat.</p> <p>SalmAlm\uc740 \ucc44\ud305\uc5d0\uc11c \uc9c1\uc811 AI \ube44\uc11c\ub97c \uc81c\uc5b4\ud560 \uc218 \uc788\ub294 35\uac1c \uc774\uc0c1\uc758 \uc2ac\ub798\uc2dc \uba85\ub839\uc5b4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.</p>"},{"location":"commands/#thinking-output","title":"Thinking &amp; Output / \uc0ac\uace0 \ubc0f \ucd9c\ub825","text":"Command / \uba85\ub839\uc5b4 Description / \uc124\uba85 <code>/think &lt;off\\|low\\|medium\\|high&gt;</code> Set thinking level / \uc0ac\uace0 \uc218\uc900 \uc124\uc815 <code>/verbose &lt;on\\|full\\|off&gt;</code> Verbose output mode / \uc0c1\uc138 \ucd9c\ub825 \ubaa8\ub4dc. Alias: <code>/v</code> <code>/reasoning &lt;on\\|off\\|stream&gt;</code> Show reasoning process / \ucd94\ub860 \uacfc\uc815 \ud45c\uc2dc"},{"location":"commands/#session-management","title":"Session Management / \uc138\uc158 \uad00\ub9ac","text":"Command / \uba85\ub839\uc5b4 Description / \uc124\uba85 <code>/new [model]</code> New session (optional model hint) / \uc0c8 \uc138\uc158 (\uc120\ud0dd\uc801 \ubaa8\ub378 \uc9c0\uc815) <code>/reset</code> Reset current session / \ud604\uc7ac \uc138\uc158 \ucd08\uae30\ud654 <code>/stop</code> Stop current execution + active subagents / \uc2e4\ud589 \uc911\ub2e8 + \uc11c\ube0c\uc5d0\uc774\uc804\ud2b8 \uc911\uc9c0 <code>/clear</code> Clear session / \uc138\uc158 \uc9c0\uc6b0\uae30 <code>/compact</code> Compact context / \ucee8\ud14d\uc2a4\ud2b8 \uc555\ucd95 <code>/context</code> Show context info / \ucee8\ud14d\uc2a4\ud2b8 \uc815\ubcf4 \ud45c\uc2dc <code>/branch</code> Branch conversation / \ub300\ud654 \ubd84\uae30 <code>/rollback</code> Rollback to previous state / \uc774\uc804 \uc0c1\ud0dc\ub85c \ub864\ubc31"},{"location":"commands/#information","title":"Information / \uc815\ubcf4","text":"Command / \uba85\ub839\uc5b4 Description / \uc124\uba85 <code>/help</code> Command help / \uba85\ub839\uc5b4 \ub3c4\uc6c0\ub9d0 <code>/commands</code> Full command list / \uc804\uccb4 \uba85\ub839\uc5b4 \ubaa9\ub85d <code>/status</code> Server/session status / \uc11c\ubc84/\uc138\uc158 \uc0c1\ud0dc <code>/whoami</code> Show current user ID / \ud604\uc7ac \uc0ac\uc6a9\uc790 ID \ud45c\uc2dc. Alias: <code>/id</code> <code>/usage</code> Usage stats / \uc0ac\uc6a9\ub7c9 \ud1b5\uacc4 <code>/model [name]</code> Show/set model / \ubaa8\ub378 \ud45c\uc2dc/\uc124\uc815 <code>/thinking</code> Thinking mode info / \uc0ac\uace0 \ubaa8\ub4dc \uc815\ubcf4 <code>/queue</code> Queue status / \ud050 \uc0c1\ud0dc"},{"location":"commands/#features","title":"Features / \uae30\ub2a5","text":"Command / \uba85\ub839\uc5b4 Description / \uc124\uba85 <code>/skill &lt;name&gt; [input]</code> Run skill directly / \uc2a4\ud0ac \uc9c1\uc811 \uc2e4\ud589 <code>/oauth &lt;setup\\|status\\|revoke\\|refresh&gt;</code> OAuth management / OAuth \uad00\ub9ac <code>/screen [watch\\|history\\|search]</code> Screen capture &amp; analysis / \ud654\uba74 \ucea1\ucc98 \ubc0f \ubd84\uc11d <code>/mcp &lt;install\\|list\\|catalog\\|remove\\|status\\|search&gt;</code> MCP marketplace / MCP \ub9c8\ucf13\ud50c\ub808\uc774\uc2a4 <code>/persona</code> Persona management / \ud398\ub974\uc18c\ub098 \uad00\ub9ac <code>/vault</code> Vault operations / \ubcfc\ud2b8 \uc791\uc5c5 <code>/shadow</code> Shadow mode / \uc100\ub3c4\uc6b0 \ubaa8\ub4dc <code>/deadman</code> Dead man switch / \ub370\ub4dc\ub9e8 \uc2a4\uc704\uce58 <code>/capsule</code> Time capsule / \ud0c0\uc784\ucea1\uc290 <code>/split</code> Split response / \uc751\ub2f5 \ubd84\ud560 <code>/workflow</code> Workflow management / \uc6cc\ud06c\ud50c\ub85c\uc6b0 \uad00\ub9ac <code>/life</code> Life dashboard / \ub77c\uc774\ud504 \ub300\uc2dc\ubcf4\ub4dc <code>/a2a</code> Agent-to-agent / \uc5d0\uc774\uc804\ud2b8 \uac04 \ud1b5\uc2e0 <code>/evolve</code> Self-evolution / \uc790\uae30 \uc9c4\ud654 <code>/mood</code> Mood info / \uac10\uc815 \uc815\ubcf4 <code>/subagents</code> List subagents / \uc11c\ube0c\uc5d0\uc774\uc804\ud2b8 \ubaa9\ub85d"},{"location":"commands/#aliases","title":"Aliases / \ubcc4\uce6d","text":"Alias / \ubcc4\uce6d Target / \ub300\uc0c1 <code>/t</code> <code>/think</code> <code>/v</code> <code>/verbose</code> <code>/id</code> <code>/whoami</code>"},{"location":"commands/#inline-shortcuts","title":"Inline Shortcuts / \uc778\ub77c\uc778 \ub2e8\ucd95\ud0a4","text":"<p>These commands can be used inside a larger message:</p> <p>\uc774 \uba85\ub839\uc5b4\ub4e4\uc740 \uba54\uc2dc\uc9c0 \uc548\uc5d0\uc11c\ub3c4 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <p><code>/help</code>, <code>/status</code>, <code>/whoami</code>, <code>/id</code>, <code>/commands</code></p>"},{"location":"commands/#directive-commands","title":"Directive Commands / \uc9c0\uc2dc\uc5b4 \uba85\ub839\uc5b4","text":"<p>These are stripped from the message and applied as settings; the rest of the message is sent to the LLM:</p> <p>\uc774 \uba85\ub839\uc5b4\ub4e4\uc740 \uba54\uc2dc\uc9c0\uc5d0\uc11c \ubd84\ub9ac\ub418\uc5b4 \uc124\uc815\uc73c\ub85c \uc801\uc6a9\ub418\uace0, \ub098\uba38\uc9c0 \uba54\uc2dc\uc9c0\ub294 LLM\uc73c\ub85c \uc804\uc1a1\ub429\ub2c8\ub2e4:</p> <p><code>/think</code>, <code>/t</code>, <code>/verbose</code>, <code>/v</code>, <code>/model</code>, <code>/reasoning</code></p> <p>Example / \uc608\uc2dc:</p> <pre><code>/think high What is the meaning of life?\n</code></pre> <p>This sets thinking to \"high\" and sends \"What is the meaning of life?\" to the AI.</p> <p>\uc0ac\uace0 \uc218\uc900\uc744 \"high\"\ub85c \uc124\uc815\ud558\uace0 \"What is the meaning of life?\"\ub97c AI\uc5d0 \uc804\uc1a1\ud569\ub2c8\ub2e4.</p>"},{"location":"configuration/","title":"Configuration","text":""},{"location":"configuration/#_1","title":"\uc124\uc815","text":"<p>SalmAlm is configured via environment variables (<code>.env</code> file) and vault storage.</p> <p>SalmAlm\uc740 \ud658\uacbd\ubcc0\uc218(<code>.env</code> \ud30c\uc77c)\uc640 \ubcfc\ud2b8 \uc800\uc7a5\uc18c\ub97c \ud1b5\ud574 \uc124\uc815\ub429\ub2c8\ub2e4.</p>"},{"location":"configuration/#environment-variables","title":"Environment Variables / \ud658\uacbd\ubcc0\uc218","text":""},{"location":"configuration/#llm-api-keys-llm-api","title":"LLM API Keys / LLM API \ud0a4","text":"<p>At least one is required. / \ucd5c\uc18c \ud558\ub098 \ud544\uc218.</p> Variable / \ubcc0\uc218 Description / \uc124\uba85 Example / \uc608\uc2dc <code>ANTHROPIC_API_KEY</code> Anthropic Claude API key <code>sk-ant-...</code> <code>OPENAI_API_KEY</code> OpenAI API key <code>sk-...</code> <code>XAI_API_KEY</code> xAI (Grok) API key <code>xai-...</code> <code>GOOGLE_API_KEY</code> Google Gemini API key <code>AIza...</code> <code>OPENROUTER_API_KEY</code> OpenRouter API key <code>sk-or-...</code> <code>OLLAMA_URL</code> Local Ollama endpoint <code>http://localhost:11434/v1</code>"},{"location":"configuration/#server","title":"Server / \uc11c\ubc84","text":"Variable / \ubcc0\uc218 Description / \uc124\uba85 Default / \uae30\ubcf8\uac12 <code>SALMALM_PORT</code> HTTP server port / HTTP \uc11c\ubc84 \ud3ec\ud2b8 <code>18800</code> <code>SALMALM_BIND</code> Bind address / \ubc14\uc778\ub4dc \uc8fc\uc18c <code>127.0.0.1</code> <code>SALMALM_VAULT_PW</code> Vault encryption password / \ubcfc\ud2b8 \uc554\ud638\ud654 \ube44\ubc00\ubc88\ud638 \u2014 <code>PYTHONUNBUFFERED</code> Unbuffered output / \ubc84\ud37c \uc5c6\ub294 \ucd9c\ub825 <code>1</code>"},{"location":"configuration/#telegram","title":"Telegram / \ud154\ub808\uadf8\ub7a8","text":"Variable / \ubcc0\uc218 Description / \uc124\uba85 <code>TELEGRAM_TOKEN</code> Bot token from @BotFather / @BotFather\uc5d0\uc11c \ubc1b\uc740 \ubd07 \ud1a0\ud070 <code>TELEGRAM_OWNER_ID</code> Owner's Telegram user ID / \uc18c\uc720\uc790\uc758 \ud154\ub808\uadf8\ub7a8 \uc0ac\uc6a9\uc790 ID"},{"location":"configuration/#discord","title":"Discord / \ub514\uc2a4\ucf54\ub4dc","text":"Variable / \ubcc0\uc218 Description / \uc124\uba85 <code>DISCORD_TOKEN</code> Discord bot token / \ub514\uc2a4\ucf54\ub4dc \ubd07 \ud1a0\ud070"},{"location":"configuration/#web-search","title":"Web Search / \uc6f9 \uac80\uc0c9","text":"Variable / \ubcc0\uc218 Description / \uc124\uba85 <code>BRAVE_SEARCH_API_KEY</code> Brave Search API key / Brave \uac80\uc0c9 API \ud0a4"},{"location":"configuration/#google-oauth-oauth","title":"Google OAuth / \uad6c\uae00 OAuth","text":"Variable / \ubcc0\uc218 Description / \uc124\uba85 <code>GOOGLE_CLIENT_ID</code> OAuth client ID <code>GOOGLE_CLIENT_SECRET</code> OAuth client secret <code>GOOGLE_REDIRECT_URI</code> OAuth redirect URI"},{"location":"configuration/#vault-storage","title":"Vault Storage / \ubcfc\ud2b8 \uc800\uc7a5\uc18c","text":"<p>Sensitive data is stored in an AES-256-GCM encrypted vault (<code>.vault.enc</code>).</p> <p>\ubbfc\uac10\ud55c \ub370\uc774\ud130\ub294 AES-256-GCM \uc554\ud638\ud654 \ubcfc\ud2b8(<code>.vault.enc</code>)\uc5d0 \uc800\uc7a5\ub429\ub2c8\ub2e4.</p> <p>Vault can store: / \ubcfc\ud2b8\uc5d0 \uc800\uc7a5 \uac00\ub2a5:</p> <ul> <li>API keys / API \ud0a4</li> <li>OAuth tokens / OAuth \ud1a0\ud070</li> <li>Google refresh tokens / \uad6c\uae00 \ub9ac\ud504\ub808\uc2dc \ud1a0\ud070</li> <li>Any secrets / \uae30\ud0c0 \ube44\ubc00 \uc815\ubcf4</li> </ul> <p>Access vault via: / \ubcfc\ud2b8 \uc811\uadfc \ubc29\ubc95:</p> <pre><code>/vault list\n/vault get &lt;key&gt;\n/vault set &lt;key&gt; &lt;value&gt;\n/vault delete &lt;key&gt;\n</code></pre>"},{"location":"configuration/#configuration-files","title":"Configuration Files / \uc124\uc815 \ud30c\uc77c","text":"File / \ud30c\uc77c Purpose / \uc6a9\ub3c4 <code>.env</code> Environment variables / \ud658\uacbd\ubcc0\uc218 <code>.vault.enc</code> Encrypted secrets vault / \uc554\ud638\ud654\ub41c \ube44\ubc00 \ubcfc\ud2b8 <code>.token_secret</code> Session token secret / \uc138\uc158 \ud1a0\ud070 \uc2dc\ud06c\ub9bf <code>reminders.json</code> Saved reminders / \uc800\uc7a5\ub41c \ub9ac\ub9c8\uc778\ub354 <code>workflows.json</code> Workflow definitions / \uc6cc\ud06c\ud50c\ub85c\uc6b0 \uc815\uc758 <code>rss_feeds.json</code> RSS feed subscriptions / RSS \ud53c\ub4dc \uad6c\ub3c5 <code>nodes.json</code> Node registry / \ub178\ub4dc \ub808\uc9c0\uc2a4\ud2b8\ub9ac <code>plugins/</code> Plugin directory / \ud50c\ub7ec\uadf8\uc778 \ub514\ub809\ud1a0\ub9ac <code>skills/</code> Skill definitions / \uc2a4\ud0ac \uc815\uc758 <code>memory/</code> Memory storage / \uba54\ubaa8\ub9ac \uc800\uc7a5\uc18c"},{"location":"configuration/#database-files","title":"Database Files / \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud30c\uc77c","text":"File / \ud30c\uc77c Purpose / \uc6a9\ub3c4 <code>audit.db</code> Audit log (SQLite) / \uac10\uc0ac \ub85c\uadf8 <code>auth.db</code> Authentication data / \uc778\uc99d \ub370\uc774\ud130 <code>personal.db</code> Personal assistant data / \uac1c\uc778 \ube44\uc11c \ub370\uc774\ud130 <code>rag.db</code> RAG vector store / RAG \ubca1\ud130 \uc800\uc7a5\uc18c"},{"location":"deployment/","title":"Deployment","text":""},{"location":"deployment/#_1","title":"\ubc30\ud3ec","text":""},{"location":"deployment/#docker","title":"Docker / \ub3c4\ucee4","text":""},{"location":"deployment/#quick-start","title":"Quick Start / \ube60\ub978 \uc2dc\uc791","text":"<pre><code>docker build -t salmalm .\ndocker run -p 18800:18800 \\\n  -e ANTHROPIC_API_KEY=sk-ant-... \\\n  -e SALMALM_BIND=0.0.0.0 \\\n  salmalm\n</code></pre>"},{"location":"deployment/#docker-compose","title":"Docker Compose / \ub3c4\ucee4 \ucef4\ud3ec\uc988","text":"<pre><code># Edit docker-compose.yml with your API keys\n# docker-compose.yml\uc5d0 API \ud0a4\ub97c \uc785\ub825\ud558\uc138\uc694\ndocker-compose up -d\n</code></pre> <pre><code>version: \"3.8\"\nservices:\n  salmalm:\n    build: .\n    ports:\n      - \"127.0.0.1:18800:18800\"\n      - \"127.0.0.1:18801:18801\"\n    volumes:\n      - ./data/memory:/app/memory\n      - ./data/workspace:/app/workspace\n      - ./data/uploads:/app/uploads\n      - ./data/plugins:/app/plugins\n    environment:\n      - SALMALM_BIND=0.0.0.0\n      # - ANTHROPIC_API_KEY=sk-...\n    restart: unless-stopped\n</code></pre>"},{"location":"deployment/#dockerfile","title":"Dockerfile","text":"<pre><code>FROM python:3.12-slim\nWORKDIR /app\nRUN pip install --no-cache-dir salmalm cryptography\nRUN mkdir -p memory workspace uploads plugins\nEXPOSE 18800 18801\nENV SALMALM_PORT=18800\nENV PYTHONUNBUFFERED=1\nHEALTHCHECK --interval=30s --timeout=5s --retries=3 \\\n    CMD python3 -c \"import urllib.request; urllib.request.urlopen('http://127.0.0.1:18800/api/health')\" || exit 1\nENTRYPOINT [\"python3\", \"-m\", \"salmalm\"]\n</code></pre>"},{"location":"deployment/#systemd","title":"systemd","text":"<p>Create <code>/etc/systemd/system/salmalm.service</code>:</p> <p><code>/etc/systemd/system/salmalm.service</code> \ud30c\uc77c\uc744 \uc0dd\uc131\ud558\uc138\uc694:</p> <pre><code>[Unit]\nDescription=SalmAlm Personal AI Gateway\nAfter=network.target\n\n[Service]\nType=simple\nUser=salmalm\nWorkingDirectory=/opt/salmalm\nEnvironmentFile=/opt/salmalm/.env\nExecStart=/usr/bin/python3 -m salmalm start\nRestart=always\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <pre><code>sudo systemctl daemon-reload\nsudo systemctl enable salmalm\nsudo systemctl start salmalm\nsudo systemctl status salmalm\n</code></pre>"},{"location":"deployment/#cloud-deployment","title":"Cloud Deployment / \ud074\ub77c\uc6b0\ub4dc \ubc30\ud3ec","text":""},{"location":"deployment/#aws-ec2","title":"AWS EC2","text":"<pre><code># 1. Launch Ubuntu 22.04+ instance / EC2 \uc778\uc2a4\ud134\uc2a4 \uc2e4\ud589\n# 2. Install Python 3.10+ / \ud30c\uc774\uc36c \uc124\uce58\nsudo apt update &amp;&amp; sudo apt install -y python3 python3-pip\n\n# 3. Install SalmAlm / SalmAlm \uc124\uce58\npip install salmalm[crypto]\n\n# 4. Configure / \uc124\uc815\ncp .env.example .env\nnano .env  # Add API keys / API \ud0a4 \ucd94\uac00\n\n# 5. Start with systemd / systemd\ub85c \uc2dc\uc791\nsudo systemctl start salmalm\n</code></pre>"},{"location":"deployment/#railway-render-flyio","title":"Railway / Render / Fly.io","text":"<p>These platforms support Docker deployments. Use the provided <code>Dockerfile</code>.</p> <p>\uc774 \ud50c\ub7ab\ud3fc\ub4e4\uc740 Docker \ubc30\ud3ec\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4. \uc81c\uacf5\ub41c <code>Dockerfile</code>\uc744 \uc0ac\uc6a9\ud558\uc138\uc694.</p> <p>Set environment variables in the platform dashboard.</p> <p>\ud50c\ub7ab\ud3fc \ub300\uc2dc\ubcf4\ub4dc\uc5d0\uc11c \ud658\uacbd\ubcc0\uc218\ub97c \uc124\uc815\ud558\uc138\uc694.</p>"},{"location":"deployment/#reverse-proxy-nginx","title":"Reverse Proxy (Nginx) / \ub9ac\ubc84\uc2a4 \ud504\ub85d\uc2dc","text":"<pre><code>server {\n    listen 443 ssl;\n    server_name ai.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/ai.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/ai.example.com/privkey.pem;\n\n    location / {\n        proxy_pass http://127.0.0.1:18800;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n</code></pre>"},{"location":"deployment/#security-considerations","title":"Security Considerations / \ubcf4\uc548 \uace0\ub824\uc0ac\ud56d","text":"<p>Production Checklist / \ud504\ub85c\ub355\uc158 \uccb4\ud06c\ub9ac\uc2a4\ud2b8</p> <ul> <li>Always use HTTPS in production / \ud504\ub85c\ub355\uc158\uc5d0\uc11c \ud56d\uc0c1 HTTPS \uc0ac\uc6a9</li> <li>Set <code>SALMALM_BIND=127.0.0.1</code> behind reverse proxy / \ub9ac\ubc84\uc2a4 \ud504\ub85d\uc2dc \ub4a4\uc5d0\uc11c \ubc14\uc778\ub4dc \uc8fc\uc18c \uc124\uc815</li> <li>Set vault password (<code>SALMALM_VAULT_PW</code>) / \ubcfc\ud2b8 \ube44\ubc00\ubc88\ud638 \uc124\uc815</li> <li>Use firewall rules / \ubc29\ud654\ubcbd \uaddc\uce59 \uc0ac\uc6a9</li> <li>Regular backups of <code>memory/</code>, <code>*.db</code>, <code>.vault.enc</code> / \uc815\uae30 \ubc31\uc5c5</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#installation","title":"Installation","text":"<pre><code># pip\npip install salmalm\n\n# pipx (recommended for CLI tools)\npipx install salmalm\n\n# From source\ngit clone https://github.com/hyunjun6928-netizen/salmalm.git\ncd salmalm\npip install -e .\n</code></pre>"},{"location":"getting-started/#first-launch","title":"First Launch","text":"<pre><code>salmalm\n</code></pre> <ol> <li>Setup Wizard \u2014 Choose whether to set a master password</li> <li>Onboarding \u2014 Paste your API keys (at least one provider)</li> <li>Main UI \u2014 Start chatting at <code>http://localhost:18800</code></li> </ol>"},{"location":"getting-started/#api-key-setup","title":"API Key Setup","text":"<p>You need at least one provider API key:</p> Provider Get API Key Anthropic console.anthropic.com OpenAI platform.openai.com Google aistudio.google.com xAI console.x.ai"},{"location":"getting-started/#local-llm-no-api-key-needed","title":"Local LLM (No API Key Needed)","text":"<pre><code># Start Ollama\nollama serve\nollama pull llama3.2\n\n# In SalmAlm Settings \u2192 Local LLM\n# Endpoint: http://localhost:11434/v1\n</code></pre>"},{"location":"getting-started/#cli-options","title":"CLI Options","text":"<pre><code>salmalm                    # Default (port 18800)\nsalmalm --port 9000        # Custom port\nsalmalm --open             # Auto-open browser\nsalmalm --shortcut         # Create desktop shortcut\nsalmalm --update           # Self-update from PyPI\n</code></pre>"},{"location":"getting-started/#environment-variables","title":"Environment Variables","text":"<pre><code>SALMALM_PORT=18800         # Web server port\nSALMALM_BIND=127.0.0.1    # Bind address (0.0.0.0 for LAN)\nSALMALM_HOME=~/SalmAlm    # Data directory\n</code></pre>"},{"location":"getting-started/#docker","title":"Docker","text":"<pre><code>git clone https://github.com/hyunjun6928-netizen/salmalm.git\ncd salmalm\ndocker compose up -d\n# \u2192 http://localhost:18800\n</code></pre>"},{"location":"getting-started/#telegram-bot-setup","title":"Telegram Bot Setup","text":"<ol> <li>Talk to @BotFather \u2192 <code>/newbot</code></li> <li>Copy bot token</li> <li>In SalmAlm web UI \u2192 Settings \u2192 Telegram \u2192 Paste token + your chat ID</li> <li>Restart SalmAlm</li> </ol>"},{"location":"getting-started/#discord-bot-setup","title":"Discord Bot Setup","text":"<ol> <li>Discord Developer Portal \u2192 New Application</li> <li>Bot \u2192 Reset Token \u2192 Copy</li> <li>OAuth2 \u2192 bot + applications.commands \u2192 Generate URL \u2192 Add to server</li> <li>In SalmAlm web UI \u2192 Settings \u2192 Discord \u2192 Paste token</li> <li>Restart SalmAlm</li> </ol>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Commands Reference</li> <li>Tools Reference</li> <li>Configuration</li> <li>Security</li> </ul>"},{"location":"mcp/","title":"MCP Integration Guide","text":"<p>SalmAlm implements the Model Context Protocol (MCP) \u2014 an open standard for connecting AI assistants to tools.</p>"},{"location":"mcp/#what-this-means","title":"What This Means","text":"<p>You can use SalmAlm's 66 tools (code execution, web search, file I/O, RAG, etc.) from any MCP-compatible AI client:</p> <ul> <li>Claude Desktop / Claude Code</li> <li>Cursor (AI code editor)</li> <li>VS Code (via Copilot MCP extension)</li> <li>Gemini CLI</li> <li>Any MCP client</li> </ul>"},{"location":"mcp/#quick-setup","title":"Quick Setup","text":""},{"location":"mcp/#claude-desktop","title":"Claude Desktop","text":"<p>Edit <code>~/Library/Application Support/Claude/claude_desktop_config.json</code> (macOS) or <code>%APPDATA%\\Claude\\claude_desktop_config.json</code> (Windows):</p> <pre><code>{\n  \"mcpServers\": {\n    \"salmalm\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"salmalm.mcp\", \"--server\"]\n    }\n  }\n}\n</code></pre>"},{"location":"mcp/#claude-code","title":"Claude Code","text":"<pre><code>claude mcp add salmalm -- python -m salmalm.mcp --server\n</code></pre>"},{"location":"mcp/#cursor","title":"Cursor","text":"<p>Add to <code>.cursor/mcp.json</code> in your project:</p> <pre><code>{\n  \"mcpServers\": {\n    \"salmalm\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"salmalm.mcp\", \"--server\"]\n    }\n  }\n}\n</code></pre>"},{"location":"mcp/#vs-code-copilot-mcp","title":"VS Code (Copilot MCP)","text":"<p>Add to <code>.vscode/mcp.json</code>:</p> <pre><code>{\n  \"servers\": {\n    \"salmalm\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"salmalm.mcp\", \"--server\"]\n    }\n  }\n}\n</code></pre>"},{"location":"mcp/#available-tools-32","title":"Available Tools (32)","text":"<p>All SalmAlm tools are exposed via MCP:</p> Tool Description <code>exec</code> Execute shell commands (sandboxed) <code>read_file</code> / <code>write_file</code> / <code>edit_file</code> File operations <code>web_search</code> Brave Search API <code>web_fetch</code> Fetch URL content <code>python_eval</code> Execute Python code (sandboxed subprocess) <code>http_request</code> HTTP client (GET/POST/PUT/DELETE) <code>system_monitor</code> CPU, memory, disk, network stats <code>image_generate</code> xAI Aurora / OpenAI DALL-E <code>image_analyze</code> Vision AI analysis <code>tts</code> / <code>stt</code> Text-to-Speech / Speech-to-Text <code>json_query</code> jq-style JSON queries <code>diff_files</code> File comparison <code>regex_test</code> Regex testing <code>hash_text</code> Hashing + password/UUID generation <code>rag_search</code> Local BM25 search <code>memory_read</code> / <code>memory_write</code> / <code>memory_search</code> Persistent memory <code>browser</code> Chrome CDP automation <code>node_manage</code> Remote SSH/HTTP nodes <code>cron_manage</code> Scheduled tasks <code>sub_agent</code> Background task agents <code>skill_manage</code> Skill management <code>plugin_manage</code> Plugin management <code>mcp_manage</code> Manage external MCP servers <code>health_check</code> System diagnostics <code>clipboard</code> Cross-session clipboard <code>screenshot</code> Screen capture <code>usage_report</code> Token usage stats"},{"location":"mcp/#connecting-to-external-mcp-servers","title":"Connecting TO External MCP Servers","text":"<p>SalmAlm can also act as an MCP client \u2014 importing tools from external MCP servers:</p> <pre><code># In SalmAlm chat:\n&gt; Use the mcp_manage tool: add server \"filesystem\" with command \"npx @modelcontextprotocol/server-filesystem /tmp\"\n</code></pre> <p>Or via the <code>mcp_manage</code> tool: - <code>list</code> \u2014 show connected MCP servers - <code>add</code> \u2014 connect to a new MCP server - <code>remove</code> \u2014 disconnect - <code>tools</code> \u2014 list all imported tools</p>"},{"location":"mcp/#protocol-details","title":"Protocol Details","text":"<ul> <li>Transport: stdio (JSON-RPC 2.0 over newline-delimited JSON)</li> <li>Spec version: 2025-03-26</li> <li>Capabilities: tools, resources, prompts</li> <li>Resources: Exposes <code>memory/*.md</code> and <code>MEMORY.md</code> as readable resources</li> </ul>"},{"location":"tools/","title":"Tools Catalog","text":""},{"location":"tools/#_1","title":"\ub3c4\uad6c \uce74\ud0c8\ub85c\uadf8","text":"<p>SalmAlm includes 62 built-in tools that the AI can use autonomously. No plugins required.</p> <p>SalmAlm\uc740 AI\uac00 \uc790\uc728\uc801\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 62\uac1c\uc758 \ub0b4\uc7a5 \ub3c4\uad6c\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4. \ud50c\ub7ec\uadf8\uc778\uc774 \ud544\uc694 \uc5c6\uc2b5\ub2c8\ub2e4.</p>"},{"location":"tools/#execution","title":"Execution / \uc2e4\ud589","text":"Tool / \ub3c4\uad6c Description / \uc124\uba85 <code>exec</code> Execute shell commands (supports background, timeout, env) / \uc178 \uba85\ub839 \uc2e4\ud589 <code>exec_session</code> Manage background sessions (list, poll, kill) / \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc138\uc158 \uad00\ub9ac <code>python_eval</code> Evaluate Python expressions / \ud30c\uc774\uc36c \ud45c\ud604\uc2dd \ud3c9\uac00 <code>sub_agent</code> Spawn sub-agents for parallel tasks / \ubcd1\ub82c \uc791\uc5c5\uc6a9 \uc11c\ube0c\uc5d0\uc774\uc804\ud2b8 \uc0dd\uc131"},{"location":"tools/#file-operations","title":"File Operations / \ud30c\uc77c \uc791\uc5c5","text":"Tool / \ub3c4\uad6c Description / \uc124\uba85 <code>read_file</code> Read file contents / \ud30c\uc77c \ub0b4\uc6a9 \uc77d\uae30 <code>write_file</code> Write content to file / \ud30c\uc77c\uc5d0 \ub0b4\uc6a9 \uc4f0\uae30 <code>edit_file</code> Edit file with search/replace / \ud30c\uc77c \uac80\uc0c9/\uad50\uccb4 \ud3b8\uc9d1 <code>diff_files</code> Show diff between files / \ud30c\uc77c \uac04 \ucc28\uc774\uc810 \ud45c\uc2dc <code>apply_patch</code> Apply unified diff patches / \ud1b5\ud569 diff \ud328\uce58 \uc801\uc6a9 <code>file_index</code> Index and search files / \ud30c\uc77c \uc778\ub371\uc2a4 \ubc0f \uac80\uc0c9"},{"location":"tools/#web-http-http","title":"Web &amp; HTTP / \uc6f9 \ubc0f HTTP","text":"Tool / \ub3c4\uad6c Description / \uc124\uba85 <code>web_search</code> Search the web (Brave API) / \uc6f9 \uac80\uc0c9 <code>web_fetch</code> Fetch and extract web page content / \uc6f9 \ud398\uc774\uc9c0 \ucf58\ud150\uce20 \uac00\uc838\uc624\uae30 <code>http_request</code> Make HTTP requests / HTTP \uc694\uccad \ubcf4\ub0b4\uae30 <code>browser</code> Browser automation / \ube0c\ub77c\uc6b0\uc800 \uc790\ub3d9\ud654 <code>screenshot</code> Take screenshots / \uc2a4\ud06c\ub9b0\uc0f7 \ucea1\ucc98"},{"location":"tools/#memory-knowledge","title":"Memory &amp; Knowledge / \uba54\ubaa8\ub9ac \ubc0f \uc9c0\uc2dd","text":"Tool / \ub3c4\uad6c Description / \uc124\uba85 <code>memory_read</code> Read from memory store / \uba54\ubaa8\ub9ac \uc800\uc7a5\uc18c\uc5d0\uc11c \uc77d\uae30 <code>memory_write</code> Write to memory store / \uba54\ubaa8\ub9ac \uc800\uc7a5\uc18c\uc5d0 \uc4f0\uae30 <code>memory_search</code> Search memory / \uba54\ubaa8\ub9ac \uac80\uc0c9 <code>rag_search</code> RAG vector search / RAG \ubca1\ud130 \uac80\uc0c9 <code>note</code> Create/manage notes / \uba54\ubaa8 \uc0dd\uc131/\uad00\ub9ac"},{"location":"tools/#communication","title":"Communication / \ud1b5\uc2e0","text":"Tool / \ub3c4\uad6c Description / \uc124\uba85 <code>email_inbox</code> List email inbox / \uc774\uba54\uc77c \ubc1b\uc740\ud3b8\uc9c0\ud568 \ubaa9\ub85d <code>email_read</code> Read email / \uc774\uba54\uc77c \uc77d\uae30 <code>email_send</code> Send email / \uc774\uba54\uc77c \uc804\uc1a1 <code>email_search</code> Search emails / \uc774\uba54\uc77c \uac80\uc0c9 <code>gmail</code> Gmail-specific operations / Gmail \uc804\uc6a9 \uc791\uc5c5 <code>notification</code> Send notifications / \uc54c\ub9bc \uc804\uc1a1"},{"location":"tools/#calendar-scheduling","title":"Calendar &amp; Scheduling / \uce98\ub9b0\ub354 \ubc0f \uc77c\uc815","text":"Tool / \ub3c4\uad6c Description / \uc124\uba85 <code>google_calendar</code> Google Calendar operations / \uad6c\uae00 \uce98\ub9b0\ub354 \uc791\uc5c5 <code>calendar_list</code> List calendar events / \uce98\ub9b0\ub354 \uc774\ubca4\ud2b8 \ubaa9\ub85d <code>calendar_add</code> Add calendar event / \uce98\ub9b0\ub354 \uc774\ubca4\ud2b8 \ucd94\uac00 <code>calendar_delete</code> Delete calendar event / \uce98\ub9b0\ub354 \uc774\ubca4\ud2b8 \uc0ad\uc81c <code>reminder</code> Set/manage reminders / \ub9ac\ub9c8\uc778\ub354 \uc124\uc815/\uad00\ub9ac <code>cron_manage</code> Manage cron schedules / \ud06c\ub860 \uc77c\uc815 \uad00\ub9ac"},{"location":"tools/#personal-productivity","title":"Personal Productivity / \uac1c\uc778 \uc0dd\uc0b0\uc131","text":"Tool / \ub3c4\uad6c Description / \uc124\uba85 <code>briefing</code> Daily briefing (weather + calendar + email) / \ub370\uc77c\ub9ac \ube0c\ub9ac\ud551 <code>expense</code> Expense tracking / \uac00\uacc4\ubd80 <code>save_link</code> Save links with auto-summary / \ub9c1\ud06c \uc800\uc7a5 (\uc790\ub3d9 \uc694\uc57d) <code>pomodoro</code> Pomodoro timer / \ud3ec\ubaa8\ub3c4\ub85c \ud0c0\uc774\uba38 <code>routine</code> Morning/evening routines / \uc544\uce68/\uc800\ub141 \ub8e8\ud2f4 <code>weather</code> Weather information / \ub0a0\uc528 \uc815\ubcf4"},{"location":"tools/#media","title":"Media / \ubbf8\ub514\uc5b4","text":"Tool / \ub3c4\uad6c Description / \uc124\uba85 <code>image_analyze</code> Analyze images (vision) / \uc774\ubbf8\uc9c0 \ubd84\uc11d (\ube44\uc804) <code>image_generate</code> Generate images / \uc774\ubbf8\uc9c0 \uc0dd\uc131 <code>tts</code> Text-to-speech / \ud14d\uc2a4\ud2b8 \uc74c\uc131 \ubcc0\ud658 <code>tts_generate</code> Generate TTS audio file / TTS \uc624\ub514\uc624 \ud30c\uc77c \uc0dd\uc131 <code>stt</code> Speech-to-text / \uc74c\uc131 \ud14d\uc2a4\ud2b8 \ubcc0\ud658 <code>qr_code</code> Generate QR codes / QR \ucf54\ub4dc \uc0dd\uc131"},{"location":"tools/#utilities","title":"Utilities / \uc720\ud2f8\ub9ac\ud2f0","text":"Tool / \ub3c4\uad6c Description / \uc124\uba85 <code>translate</code> Translate text / \ud14d\uc2a4\ud2b8 \ubc88\uc5ed <code>rss_reader</code> Read RSS feeds / RSS \ud53c\ub4dc \uc77d\uae30 <code>hash_text</code> Hash text (MD5, SHA256, etc.) / \ud14d\uc2a4\ud2b8 \ud574\uc2dc <code>regex_test</code> Test regular expressions / \uc815\uaddc\uc2dd \ud14c\uc2a4\ud2b8 <code>json_query</code> Query JSON data / JSON \ub370\uc774\ud130 \ucffc\ub9ac <code>clipboard</code> Clipboard operations / \ud074\ub9bd\ubcf4\ub4dc \uc791\uc5c5"},{"location":"tools/#system","title":"System / \uc2dc\uc2a4\ud15c","text":"Tool / \ub3c4\uad6c Description / \uc124\uba85 <code>system_monitor</code> System resource monitoring / \uc2dc\uc2a4\ud15c \ub9ac\uc18c\uc2a4 \ubaa8\ub2c8\ud130\ub9c1 <code>health_check</code> Health check / \uc0c1\ud0dc \uc810\uac80 <code>usage_report</code> Usage statistics / \uc0ac\uc6a9\ub7c9 \ubcf4\uace0\uc11c <code>plugin_manage</code> Manage plugins / \ud50c\ub7ec\uadf8\uc778 \uad00\ub9ac <code>mcp_manage</code> MCP server management / MCP \uc11c\ubc84 \uad00\ub9ac <code>node_manage</code> Node management / \ub178\ub4dc \uad00\ub9ac <code>skill_manage</code> Skill management / \uc2a4\ud0ac \uad00\ub9ac <code>workflow</code> Workflow automation / \uc6cc\ud06c\ud50c\ub85c\uc6b0 \uc790\ub3d9\ud654"},{"location":"tools/#google-integration","title":"Google Integration / \uad6c\uae00 \ud1b5\ud569","text":"Tool / \ub3c4\uad6c Description / \uc124\uba85 <code>google_calendar</code> Google Calendar API / \uad6c\uae00 \uce98\ub9b0\ub354 API <code>gmail</code> Gmail API / Gmail API"},{"location":"use-cases/","title":"Use Cases (\ud65c\uc6a9 \uc0ac\ub840)","text":""},{"location":"use-cases/#1-ai","title":"1. \ud83e\udd16 \ud154\ub808\uadf8\ub7a8 AI \ube44\uc11c","text":"<p>\uc2a4\ub9c8\ud2b8\ud3f0\uc5d0\uc11c \uc5b8\uc81c\ub4e0 AI\uc5d0\uac8c \uc9c8\ubb38\ud558\uace0, \ud30c\uc77c \ubd84\uc11d\ud558\uace0, \uc6f9 \uac80\uc0c9\uae4c\uc9c0.</p>"},{"location":"use-cases/#_1","title":"\uc124\uc815","text":"<pre><code># .env\nANTHROPIC_API_KEY=sk-ant-...\nTELEGRAM_TOKEN=123456:ABC...\nTELEGRAM_OWNER_ID=7466506107\nBRAVE_API_KEY=BSA...\n</code></pre> <pre><code>python -m pip install salmalm\npython -m salmalm\n</code></pre>"},{"location":"use-cases/#_2","title":"\ud560 \uc218 \uc788\ub294 \uac83","text":"<ul> <li>\ud83d\udcdd \ucf54\ub4dc \ub9ac\ubdf0 \uc694\uccad \u2192 AI\uac00 \ubd84\uc11d\ud558\uace0 \uac1c\uc120\uc810 \uc81c\uc2dc</li> <li>\ud83d\udd0d \"\uc624\ub298 \ube44\ud2b8\ucf54\uc778 \uac00\uaca9\" \u2192 \uc6f9 \uac80\uc0c9\uc73c\ub85c \uc2e4\uc2dc\uac04 \ub2f5\ubcc0</li> <li>\ud83d\udcc4 PDF/\uc774\ubbf8\uc9c0 \ubcf4\ub0b4\uae30 \u2192 \ub0b4\uc6a9 \uc694\uc57d</li> <li>\u23f0 \"/cron \ub9e4\uc77c 9\uc2dc \ub274\uc2a4 \uc694\uc57d\" \u2192 \uc2a4\ucf00\uc904 \uc791\uc5c5</li> <li>\ud83d\udcbe \"/memo \ub0b4\uc77c \ud68c\uc758 3\uc2dc\" \u2192 \uba54\ubaa8 \uc800\uc7a5 + \uac80\uc0c9</li> </ul>"},{"location":"use-cases/#2","title":"2. \ud83d\udcbb \ub85c\uceec \ucf54\ub4dc \ub9ac\ubdf0 \ubd07","text":"<p>GitHub Copilot \ub300\uc2e0, \ub0b4 \ucf54\ub4dc\ubca0\uc774\uc2a4\ub97c \uc774\ud574\ud558\ub294 AI \ube44\uc11c.</p>"},{"location":"use-cases/#_3","title":"\uc124\uc815","text":"<pre><code>python -m pip install salmalm\npython -m salmalm\n# \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c http://localhost:18800\n# API \ud0a4 \uc785\ub825\n</code></pre>"},{"location":"use-cases/#_4","title":"\uc6cc\ud06c\ud50c\ub85c\uc6b0","text":"<ol> <li> <p>\ucc44\ud305\uc5d0\uc11c \ud30c\uc77c \uacbd\ub85c \uc54c\ub824\uc8fc\uae30:    <pre><code>/home/user/project/main.py \ud30c\uc77c\uc744 \ub9ac\ubdf0\ud574\uc918\n</code></pre></p> </li> <li> <p>AI\uac00 \ud30c\uc77c\uc744 \uc77d\uace0 \ubd84\uc11d:</p> </li> <li>\ubc84\uadf8 \uac00\ub2a5\uc131</li> <li>\uc131\ub2a5 \uac1c\uc120\uc810</li> <li>\ubcf4\uc548 \uc774\uc288</li> <li> <p>\ub9ac\ud329\ud130\ub9c1 \uc81c\uc548</p> </li> <li> <p>RAG\ub85c \ud504\ub85c\uc81d\ud2b8 \ubb38\uc11c \uc778\ub371\uc2f1:    <pre><code>/rag index /home/user/project/docs/\n</code></pre>    \uc774\ud6c4 \"\ud504\ub85c\uc81d\ud2b8 \uc544\ud0a4\ud14d\ucc98\uac00 \ubb50\uc57c?\" \uac19\uc740 \uc9c8\ubb38\uc5d0 \ubb38\uc11c \uae30\ubc18 \ub2f5\ubcc0.</p> </li> </ol>"},{"location":"use-cases/#3-ai-ollama","title":"3. \ud83e\udd99 \uc624\ud504\ub77c\uc778 AI (Ollama)","text":"<p>\uc778\ud130\ub137 \uc5c6\uc774, API \ud0a4 \uc5c6\uc774, \uc644\uc804 \ub85c\uceec\uc5d0\uc11c AI \uc0ac\uc6a9.</p>"},{"location":"use-cases/#_5","title":"\uc124\uc815","text":"<pre><code># 1. Ollama \uc124\uce58\ncurl -fsSL https://ollama.com/install.sh | sh\n\n# 2. \ubaa8\ub378 \ub2e4\uc6b4\ub85c\ub4dc\nollama pull llama3.2        # 3GB, \uc77c\ubc18 \ub300\ud654\uc6a9\nollama pull codellama:13b   # 7GB, \ucf54\ub529\uc6a9\nollama pull mistral         # 4GB, \ub2e4\ubaa9\uc801\n\n# 3. SalmAlm \uc2e4\ud589\npython -m pip install salmalm\npython -m salmalm\n# \uc628\ubcf4\ub529\uc5d0\uc11c Ollama URL: http://localhost:11434/v1\n</code></pre>"},{"location":"use-cases/#_6","title":"\uc7a5\uc810","text":"<ul> <li>\ud83d\udd12 \ub370\uc774\ud130\uac00 \uc808\ub300 \uc678\ubd80\ub85c \ub098\uac00\uc9c0 \uc54a\uc74c</li> <li>\ud83d\udcb0 API \ube44\uc6a9 0\uc6d0</li> <li>\ud83c\udf10 \uc778\ud130\ub137 \ubd88\ud544\uc694</li> <li>\ud83d\udd04 \ubaa8\ub378 \uc790\uc720\ub86d\uac8c \uad50\uccb4 (<code>/model ollama/llama3.2</code>)</li> </ul>"},{"location":"use-cases/#_7","title":"\uc81c\ud55c","text":"<ul> <li>GPU \uc5c6\uc73c\uba74 \ub290\ub9bc (CPU \ucd94\ub860 \uac00\ub2a5\ud558\uc9c0\ub9cc 10~30\ucd08/\ub2f5\ubcc0)</li> <li>\ub85c\uceec \ubaa8\ub378\uc740 Claude/GPT\ubcf4\ub2e4 \uc131\ub2a5 \ub0ae\uc74c</li> <li>\ub3c4\uad6c \ud638\ucd9c(tool use)\uc740 \uc77c\ubd80 \ubaa8\ub378\ub9cc \uc9c0\uc6d0</li> </ul>"},{"location":"use-cases/#4-ai","title":"4. \ud83c\udfe2 \ud300 \ub0b4\ubd80 AI \uac8c\uc774\ud2b8\uc6e8\uc774","text":"<p>Gateway-Node \uc544\ud0a4\ud14d\ucc98\ub85c \ud300\uc6d0\ub4e4\uc774 \uacf5\uc720\ud558\ub294 AI \uc11c\ubc84.</p>"},{"location":"use-cases/#_8","title":"\uc124\uc815","text":"<pre><code># \uba54\uc778 \uc11c\ubc84 (\uac8c\uc774\ud2b8\uc6e8\uc774)\nSALMALM_VAULT_PW=team_secret python -m salmalm --host 0.0.0.0\n\n# \uc6d0\uaca9 \uc6cc\ucee4 (GPU \uc11c\ubc84)\npython -m salmalm --node --gateway-url http://gateway:18800\n</code></pre>"},{"location":"use-cases/#_9","title":"\uad6c\uc870","text":"<pre><code>[\ud300\uc6d0 \ube0c\ub77c\uc6b0\uc800] \u2192 [\uac8c\uc774\ud2b8\uc6e8\uc774 \uc11c\ubc84] \u2192 [LLM API]\n                         \u2193\n                  [GPU \ub178\ub4dc (Ollama)]\n</code></pre> <ul> <li>\uac8c\uc774\ud2b8\uc6e8\uc774\uac00 \uc694\uccad\uc744 \ubc1b\uace0 \uc801\uc808\ud55c \ub178\ub4dc\ub85c \ub77c\uc6b0\ud305</li> <li>GPU \ub178\ub4dc\uc5d0\uc11c \ubb34\uac70\uc6b4 \uc791\uc5c5 (\ub85c\uceec \ubaa8\ub378, \ucf54\ub4dc \uc2e4\ud589)</li> <li>API \ud0a4\ub97c \uac8c\uc774\ud2b8\uc6e8\uc774\uc5d0\ub9cc \uc800\uc7a5 (\ud300\uc6d0\uc5d0\uac8c \ub178\ucd9c \uc548 \ub428)</li> </ul>"},{"location":"use-cases_EN/","title":"Use Cases","text":""},{"location":"use-cases_EN/#1-telegram-ai-assistant","title":"1. \ud83e\udd16 Telegram AI Assistant","text":"<p>Chat with your AI anytime from your phone \u2014 ask questions, analyze files, search the web.</p>"},{"location":"use-cases_EN/#setup","title":"Setup","text":"<pre><code># .env\nANTHROPIC_API_KEY=sk-ant-...\nTELEGRAM_TOKEN=123456:ABC...\nTELEGRAM_OWNER_ID=your_telegram_id\nBRAVE_API_KEY=BSA...\n</code></pre> <pre><code>python -m pip install salmalm\npython -m salmalm\n</code></pre>"},{"location":"use-cases_EN/#what-you-can-do","title":"What You Can Do","text":"<ul> <li>\ud83d\udcdd Request code reviews \u2192 AI analyzes and suggests improvements</li> <li>\ud83d\udd0d \"Bitcoin price today?\" \u2192 real-time web search answers</li> <li>\ud83d\udcc4 Send a PDF/image \u2192 get a summary</li> <li>\u23f0 <code>/cron daily 9am news summary</code> \u2192 scheduled tasks</li> <li>\ud83d\udcbe <code>/memo meeting at 3pm tomorrow</code> \u2192 save &amp; search memos</li> <li>\ud83d\udc41\ufe0f Send a photo \u2192 <code>image_analyze</code> describes content, reads text (OCR)</li> </ul>"},{"location":"use-cases_EN/#2-local-code-review-bot","title":"2. \ud83d\udcbb Local Code Review Bot","text":"<p>Like GitHub Copilot, but it understands your entire codebase.</p>"},{"location":"use-cases_EN/#setup_1","title":"Setup","text":"<pre><code>python -m pip install salmalm\npython -m salmalm\n# Open http://localhost:18800\n# Enter your API key\n</code></pre>"},{"location":"use-cases_EN/#workflow","title":"Workflow","text":"<ol> <li> <p>Tell it a file path in chat:    <pre><code>Review /home/user/project/main.py\n</code></pre></p> </li> <li> <p>AI reads the file and analyzes:</p> </li> <li>Potential bugs</li> <li>Performance improvements</li> <li>Security issues</li> <li> <p>Refactoring suggestions</p> </li> <li> <p>Index your project docs with RAG:    <pre><code>/rag index /home/user/project/docs/\n</code></pre>    Then ask \"What's the project architecture?\" for document-grounded answers.</p> </li> </ol>"},{"location":"use-cases_EN/#3-offline-ai-ollama","title":"3. \ud83e\udd99 Offline AI (Ollama)","text":"<p>No internet. No API keys. Fully local AI.</p>"},{"location":"use-cases_EN/#setup_2","title":"Setup","text":"<pre><code># 1. Install Ollama\ncurl -fsSL https://ollama.com/install.sh | sh\n\n# 2. Download models\nollama pull llama3.2        # 3GB, general chat\nollama pull codellama:13b   # 7GB, coding\nollama pull mistral         # 4GB, multipurpose\n\n# 3. Run SalmAlm\npython -m pip install salmalm\npython -m salmalm\n# During onboarding, set Ollama URL: http://localhost:11434/v1\n</code></pre>"},{"location":"use-cases_EN/#advantages","title":"Advantages","text":"<ul> <li>\ud83d\udd12 Data never leaves your machine</li> <li>\ud83d\udcb0 Zero API cost</li> <li>\ud83c\udf10 No internet required</li> <li>\ud83d\udd04 Swap models freely (<code>/model ollama/llama3.2</code>)</li> </ul>"},{"location":"use-cases_EN/#limitations","title":"Limitations","text":"<ul> <li>Slow without GPU (CPU inference: 10\u201330s per response)</li> <li>Local models lag behind Claude/GPT in quality</li> <li>Tool calling supported only by select models</li> </ul>"},{"location":"use-cases_EN/#4-team-ai-gateway","title":"4. \ud83c\udfe2 Team AI Gateway","text":"<p>Share an AI server across your team using the Gateway-Node architecture.</p>"},{"location":"use-cases_EN/#setup_3","title":"Setup","text":"<pre><code># Main server (gateway)\nSALMALM_VAULT_PW=team_secret python -m salmalm --host 0.0.0.0\n\n# Remote worker (GPU server)\npython -m salmalm --node --gateway-url http://gateway:18800\n</code></pre>"},{"location":"use-cases_EN/#architecture","title":"Architecture","text":"<pre><code>[Team browsers] \u2192 [Gateway server] \u2192 [LLM API]\n                         \u2193\n                  [GPU Node (Ollama)]\n</code></pre> <ul> <li>Gateway receives requests and routes to appropriate nodes</li> <li>GPU nodes handle heavy work (local models, code execution)</li> <li>API keys stored on gateway only (never exposed to team members)</li> </ul>"},{"location":"use-cases_EN/#5-image-analysis-workstation","title":"5. \ud83d\udc41\ufe0f Image Analysis Workstation","text":"<p>Analyze images, screenshots, diagrams \u2014 locally or via cloud vision models.</p>"},{"location":"use-cases_EN/#setup_4","title":"Setup","text":"<pre><code>python -m pip install salmalm\npython -m salmalm\n# Add an OpenAI or Anthropic API key with vision support\n</code></pre>"},{"location":"use-cases_EN/#what-you-can-do_1","title":"What You Can Do","text":"<ul> <li>Upload a screenshot \u2192 AI describes the UI and reads all text</li> <li>Send a diagram \u2192 get a structured explanation</li> <li>Paste a URL \u2192 <code>image_analyze</code> fetches and analyzes it</li> <li>OCR handwritten notes \u2192 extracted text in seconds</li> </ul>"},{"location":"api/","title":"API Reference","text":""},{"location":"api/#api","title":"API \ub808\ud37c\ub7f0\uc2a4","text":"<p>Auto-generated documentation for SalmAlm's Python modules.</p> <p>SalmAlm \ud30c\uc774\uc36c \ubaa8\ub4c8\uc758 \uc790\ub3d9 \uc0dd\uc131 \ubb38\uc11c\uc785\ub2c8\ub2e4.</p>"},{"location":"api/#modules","title":"Modules / \ubaa8\ub4c8","text":"Module / \ubaa8\ub4c8 Description / \uc124\uba85 Core Core engine, LLM orchestration, session management / \ucf54\uc5b4 \uc5d4\uc9c4, LLM \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158, \uc138\uc158 \uad00\ub9ac Tools Tool registry and 66 tool handlers / \ub3c4\uad6c \ub808\uc9c0\uc2a4\ud2b8\ub9ac \ubc0f 66\uac1c \ub0b4\uc7a5 \ub3c4\uad6c \ud578\ub4e4\ub7ec Features Feature modules (commands, RAG, MCP, etc.) / \uae30\ub2a5 \ubaa8\ub4c8 (\uba85\ub839\uc5b4, RAG, MCP \ub4f1) Channels Chat channel integrations / \ucc44\ud305 \ucc44\ub110 \ud1b5\ud569 Security Security, crypto, sandbox / \ubcf4\uc548, \uc554\ud638\ud654, \uc0cc\ub4dc\ubc15\uc2a4 Utils Utility modules / \uc720\ud2f8\ub9ac\ud2f0 \ubaa8\ub4c8 Web Web server, WebSocket, OAuth / \uc6f9 \uc11c\ubc84, \uc6f9\uc18c\ucf13, OAuth"},{"location":"api/#generating-api-docs-api","title":"Generating API Docs / API \ubb38\uc11c \uc0dd\uc131","text":"<p>Run the API doc generator to extract docstrings from all modules:</p> <p>\ubaa8\ub4e0 \ubaa8\ub4c8\uc5d0\uc11c docstring\uc744 \ucd94\ucd9c\ud558\ub824\uba74 API \ubb38\uc11c \uc0dd\uc131\uae30\ub97c \uc2e4\ud589\ud558\uc138\uc694:</p> <pre><code>python docs/gen_api.py\n</code></pre>"},{"location":"api/channels/","title":"Channels Module API","text":""},{"location":"api/channels/#api","title":"\ucc44\ub110 \ubaa8\ub4c8 API","text":"<p>The <code>salmalm.channels</code> package handles multi-channel chat integrations.</p> <p><code>salmalm.channels</code> \ud328\ud0a4\uc9c0\ub294 \uba40\ud2f0\ucc44\ub110 \ucc44\ud305 \ud1b5\ud569\uc744 \ucc98\ub9ac\ud569\ub2c8\ub2e4.</p>"},{"location":"api/channels/#salmalmchannelschannel_router","title":"<code>salmalm.channels.channel_router</code>","text":"<p>Routes messages from any channel (Web, Telegram, Discord) to the core engine.</p> <p>\ubaa8\ub4e0 \ucc44\ub110(Web, Telegram, Discord)\uc758 \uba54\uc2dc\uc9c0\ub97c \ucf54\uc5b4 \uc5d4\uc9c4\uc73c\ub85c \ub77c\uc6b0\ud305\ud569\ub2c8\ub2e4.</p>"},{"location":"api/channels/#salmalmchannelstelegram","title":"<code>salmalm.channels.telegram</code>","text":"<p>Telegram bot integration supporting both polling and webhook modes. Handles inline buttons, image uploads, voice messages, and all slash commands.</p> <p>\ud154\ub808\uadf8\ub7a8 \ubd07 \ud1b5\ud569 \u2014 \ud3f4\ub9c1 \ubc0f \uc6f9\ud6c5 \ubaa8\ub4dc \uc9c0\uc6d0. \uc778\ub77c\uc778 \ubc84\ud2bc, \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc, \uc74c\uc131 \uba54\uc2dc\uc9c0, \ubaa8\ub4e0 \uc2ac\ub798\uc2dc \uba85\ub839\uc5b4 \ucc98\ub9ac.</p>"},{"location":"api/channels/#salmalmchannelsdiscord_bot","title":"<code>salmalm.channels.discord_bot</code>","text":"<p>Discord bot integration with guild support, slash commands, and message reactions.</p> <p>\ub514\uc2a4\ucf54\ub4dc \ubd07 \ud1b5\ud569 \u2014 \uae38\ub4dc \uc9c0\uc6d0, \uc2ac\ub798\uc2dc \uba85\ub839\uc5b4, \uba54\uc2dc\uc9c0 \ub9ac\uc561\uc158.</p>"},{"location":"api/channels/#salmalmchannelsslack_bot","title":"<code>salmalm.channels.slack_bot</code>","text":"<p>Slack bot integration (experimental).</p> <p>\uc2ac\ub799 \ubd07 \ud1b5\ud569 (\uc2e4\ud5d8\uc801).</p>"},{"location":"api/core/","title":"Core Module API","text":""},{"location":"api/core/#api","title":"\ucf54\uc5b4 \ubaa8\ub4c8 API","text":"<p>The <code>salmalm.core</code> package contains the central engine and session management.</p> <p><code>salmalm.core</code> \ud328\ud0a4\uc9c0\ub294 \uc911\uc559 \uc5d4\uc9c4\uacfc \uc138\uc158 \uad00\ub9ac\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4.</p>"},{"location":"api/core/#salmalmcorecore","title":"<code>salmalm.core.core</code>","text":"<p>Main SalmAlm class \u2014 the central orchestrator that initializes all subsystems.</p> <p>\uba54\uc778 SalmAlm \ud074\ub798\uc2a4 \u2014 \ubaa8\ub4e0 \uc11c\ube0c\uc2dc\uc2a4\ud15c\uc744 \ucd08\uae30\ud654\ud558\ub294 \uc911\uc559 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\ud130.</p>"},{"location":"api/core/#salmalmcoreengine","title":"<code>salmalm.core.engine</code>","text":"<p>LLM orchestration engine handling message routing, tool calls, and response streaming.</p> <p>\uba54\uc2dc\uc9c0 \ub77c\uc6b0\ud305, \ub3c4\uad6c \ud638\ucd9c, \uc751\ub2f5 \uc2a4\ud2b8\ub9ac\ubc0d\uc744 \ucc98\ub9ac\ud558\ub294 LLM \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158 \uc5d4\uc9c4.</p>"},{"location":"api/core/#salmalmcorellm","title":"<code>salmalm.core.llm</code>","text":"<p>LLM provider abstraction \u2014 supports Anthropic, OpenAI, Google, xAI, OpenRouter, Ollama.</p> <p>LLM \ud504\ub85c\ubc14\uc774\ub354 \ucd94\uc0c1\ud654 \u2014 Anthropic, OpenAI, Google, xAI, OpenRouter, Ollama \uc9c0\uc6d0.</p>"},{"location":"api/core/#salmalmcorellm_loop","title":"<code>salmalm.core.llm_loop</code>","text":"<p>Conversation loop handler \u2014 manages multi-turn interactions with tool use.</p> <p>\ub300\ud654 \ub8e8\ud504 \ud578\ub4e4\ub7ec \u2014 \ub3c4\uad6c \uc0ac\uc6a9\uc744 \ud3ec\ud568\ud55c \uba40\ud2f0\ud134 \uc778\ud130\ub799\uc158 \uad00\ub9ac.</p>"},{"location":"api/core/#salmalmcorellm_task","title":"<code>salmalm.core.llm_task</code>","text":"<p>Async LLM task runner for background processing.</p> <p>\ubc31\uadf8\ub77c\uc6b4\ub4dc \ucc98\ub9ac\ub97c \uc704\ud55c \ube44\ub3d9\uae30 LLM \ud0dc\uc2a4\ud06c \ub7ec\ub108.</p>"},{"location":"api/core/#salmalmcoreprompt","title":"<code>salmalm.core.prompt</code>","text":"<p>System prompt builder \u2014 constructs context-aware prompts with tool descriptions.</p> <p>\uc2dc\uc2a4\ud15c \ud504\ub86c\ud504\ud2b8 \ube4c\ub354 \u2014 \ub3c4\uad6c \uc124\uba85\uc744 \ud3ec\ud568\ud55c \ucee8\ud14d\uc2a4\ud2b8 \uc778\uc2dd \ud504\ub86c\ud504\ud2b8 \uc0dd\uc131.</p>"},{"location":"api/core/#salmalmcoresession_manager","title":"<code>salmalm.core.session_manager</code>","text":"<p>Session lifecycle management \u2014 create, switch, delete, branch, rollback.</p> <p>\uc138\uc158 \ub77c\uc774\ud504\uc0ac\uc774\ud074 \uad00\ub9ac \u2014 \uc0dd\uc131, \uc804\ud658, \uc0ad\uc81c, \ubd84\uae30, \ub864\ubc31.</p>"},{"location":"api/core/#salmalmcorememory","title":"<code>salmalm.core.memory</code>","text":"<p>Memory management for persistent storage across sessions.</p> <p>\uc138\uc158 \uac04 \uc601\uc18d \uc800\uc7a5\uc744 \uc704\ud55c \uba54\ubaa8\ub9ac \uad00\ub9ac.</p>"},{"location":"api/core/#salmalmcorehealth","title":"<code>salmalm.core.health</code>","text":"<p>Health check endpoints for monitoring and SLA.</p> <p>\ubaa8\ub2c8\ud130\ub9c1 \ubc0f SLA\ub97c \uc704\ud55c \uc0c1\ud0dc \uc810\uac80 \uc5d4\ub4dc\ud3ec\uc778\ud2b8.</p>"},{"location":"api/core/#salmalmcoreshutdown","title":"<code>salmalm.core.shutdown</code>","text":"<p>Graceful shutdown handler \u2014 saves state, closes connections, flushes logs.</p> <p>\uc548\uc804\ud55c \uc885\ub8cc \ud578\ub4e4\ub7ec \u2014 \uc0c1\ud0dc \uc800\uc7a5, \uc5f0\uacb0 \uc885\ub8cc, \ub85c\uadf8 \ud50c\ub7ec\uc2dc.</p>"},{"location":"api/core/#salmalmcoreexport","title":"<code>salmalm.core.export</code>","text":"<p>Session export in JSON and Markdown formats.</p> <p>JSON \ubc0f Markdown \ud615\uc2dd\uc758 \uc138\uc158 \ub0b4\ubcf4\ub0b4\uae30.</p> <p>Auto-generated details / \uc790\ub3d9 \uc0dd\uc131 \uc0c1\uc138</p> <p>Run <code>python docs/gen_api.py</code> to regenerate detailed class/function docs from docstrings. <code>python docs/gen_api.py</code>\ub97c \uc2e4\ud589\ud558\uba74 docstring\uc5d0\uc11c \uc0c1\uc138\ud55c \ud074\ub798\uc2a4/\ud568\uc218 \ubb38\uc11c\ub97c \uc7ac\uc0dd\uc131\ud569\ub2c8\ub2e4.</p>"},{"location":"api/features/","title":"Features Module API","text":""},{"location":"api/features/#api","title":"\uae30\ub2a5 \ubaa8\ub4c8 API","text":"<p>The <code>salmalm.features</code> package contains all feature modules.</p> <p><code>salmalm.features</code> \ud328\ud0a4\uc9c0\ub294 \ubaa8\ub4e0 \uae30\ub2a5 \ubaa8\ub4c8\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4.</p>"},{"location":"api/features/#command-control","title":"Command &amp; Control / \uba85\ub839\uc5b4 \ubc0f \uc81c\uc5b4","text":"Module / \ubaa8\ub4c8 Description / \uc124\uba85 <code>features.commands</code> 30+ slash command handler / \uc2ac\ub798\uc2dc \uba85\ub839\uc5b4 \ud578\ub4e4\ub7ec <code>features.abort</code> Execution abort handler / \uc2e4\ud589 \uc911\ub2e8 \ud578\ub4e4\ub7ec <code>features.fork</code> Conversation branching / \ub300\ud654 \ubd84\uae30"},{"location":"api/features/#ai-intelligence-ai","title":"AI &amp; Intelligence / AI \ubc0f \uc9c0\ub2a5","text":"Module / \ubaa8\ub4c8 Description / \uc124\uba85 <code>features.rag</code> RAG vector search / RAG \ubca1\ud130 \uac80\uc0c9 <code>features.mcp</code> MCP server/client (JSON-RPC 2.0) / MCP \uc11c\ubc84/\ud074\ub77c\uc774\uc5b8\ud2b8 <code>features.mcp_marketplace</code> MCP marketplace (install/catalog) / MCP \ub9c8\ucf13\ud50c\ub808\uc774\uc2a4 <code>features.a2a</code> Agent-to-agent protocol / \uc5d0\uc774\uc804\ud2b8 \uac04 \ud504\ub85c\ud1a0\ucf5c <code>features.agents</code> Multi-agent management / \uba40\ud2f0\uc5d0\uc774\uc804\ud2b8 \uad00\ub9ac <code>features.self_evolve</code> Self-evolution (prompt/tool improvement) / \uc790\uae30 \uc9c4\ud654 <code>features.thoughts</code> Thought tracking / \uc0ac\uace0 \ucd94\uc801 <code>features.mood</code> Mood tracking &amp; expression / \uac10\uc815 \ucd94\uc801 \ubc0f \ud45c\ud604 <code>features.model_detect</code> Auto model detection / \uc790\ub3d9 \ubaa8\ub378 \uac10\uc9c0"},{"location":"api/features/#personal-assistant","title":"Personal Assistant / \uac1c\uc778 \ube44\uc11c","text":"Module / \ubaa8\ub4c8 Description / \uc124\uba85 <code>features.briefing</code> Daily briefing / \ub370\uc77c\ub9ac \ube0c\ub9ac\ud551 <code>features.dashboard_life</code> Life dashboard / \ub77c\uc774\ud504 \ub300\uc2dc\ubcf4\ub4dc <code>features.timecapsule</code> Time capsule / \ud0c0\uc784\ucea1\uc290 <code>features.deadman</code> Dead man switch / \ub370\ub4dc\ub9e8 \uc2a4\uc704\uce58"},{"location":"api/features/#infrastructure","title":"Infrastructure / \uc778\ud504\ub77c","text":"Module / \ubaa8\ub4c8 Description / \uc124\uba85 <code>features.plugin_manager</code> Plugin lifecycle / \ud50c\ub7ec\uadf8\uc778 \ub77c\uc774\ud504\uc0ac\uc774\ud074 <code>features.heartbeat</code> Heartbeat monitoring / \ud558\ud2b8\ube44\ud2b8 \ubaa8\ub2c8\ud130\ub9c1 <code>features.sla</code> SLA monitoring / SLA \ubaa8\ub2c8\ud130\ub9c1 <code>features.stability</code> Stability features / \uc548\uc815\uc131 \uae30\ub2a5 <code>features.watcher</code> File watcher / \ud30c\uc77c \uac10\uc2dc\uc790 <code>features.hooks</code> Event hooks / \uc774\ubca4\ud2b8 \ud6c5 <code>features.workflow</code> Workflow engine / \uc6cc\ud06c\ud50c\ub85c\uc6b0 \uc5d4\uc9c4 <code>features.nodes</code> Node management / \ub178\ub4dc \uad00\ub9ac"},{"location":"api/features/#session-ui-ui","title":"Session &amp; UI / \uc138\uc158 \ubc0f UI","text":"Module / \ubaa8\ub4c8 Description / \uc124\uba85 <code>features.session_groups</code> Session groups / \uc138\uc158 \uadf8\ub8f9 <code>features.bookmarks</code> Session bookmarks / \uc138\uc158 \ubd81\ub9c8\ud06c <code>features.compare</code> Response comparison / \uc751\ub2f5 \ube44\uad50 <code>features.split_response</code> Split long responses / \uae34 \uc751\ub2f5 \ubd84\ud560 <code>features.summary_card</code> Summary cards / \uc694\uc57d \uce74\ub4dc <code>features.smart_paste</code> Smart paste / \uc2a4\ub9c8\ud2b8 \ubd99\uc5ec\ub123\uae30 <code>features.presence</code> Online presence / \uc628\ub77c\uc778 \uc874\uc7ac\uac10 <code>features.usage</code> Usage tracking / \uc0ac\uc6a9\ub7c9 \ucd94\uc801 <code>features.users</code> User management / \uc0ac\uc6a9\uc790 \uad00\ub9ac <code>features.transcript_hygiene</code> Transcript cleanup / \ud2b8\ub79c\uc2a4\ud06c\ub9bd\ud2b8 \uc815\ub9ac"},{"location":"api/generated/","title":"Auto-Generated API Reference","text":""},{"location":"api/generated/#api","title":"\uc790\ub3d9 \uc0dd\uc131 API \ub808\ud37c\ub7f0\uc2a4","text":"<p>Generated from source docstrings. Run <code>python docs/gen_api.py</code> to update. \uc18c\uc2a4 docstring\uc5d0\uc11c \uc0dd\uc131\ub428. <code>python docs/gen_api.py</code>\ub97c \uc2e4\ud589\ud558\uc5ec \uc5c5\ub370\uc774\ud2b8.</p>"},{"location":"api/generated/#core-core-engine-llm-session-llm","title":"core/ \u2014 Core \u2014 Engine, LLM, Session / \ucf54\uc5b4 \u2014 \uc5d4\uc9c4, LLM, \uc138\uc158","text":""},{"location":"api/generated/#salmalmcoreaudit","title":"<code>salmalm.core.audit</code>","text":"<p>Audit logging subsystem.</p> <ul> <li><code>audit_log(event, detail, session_id, detail_dict)</code>   \u2014 Write an audit event to the security log (v1 chain + v2 structured).</li> <li><code>audit_checkpoint()</code>   \u2014 Append current audit chain head hash to a checkpoint file.</li> <li><code>query_audit_log(limit, event_type, session_id)</code>   \u2014 Query structured audit log entries.</li> </ul>"},{"location":"api/generated/#salmalmcoreclassifier","title":"<code>salmalm.core.classifier</code>","text":"<p>Task classification and intent-based tool selection.</p>"},{"location":"api/generated/#class-taskclassifier","title":"<code>class TaskClassifier</code>","text":"<p>Classify user intent to determine execution strategy.</p> <ul> <li> <p><code>classify(cls, message, context_len)</code>   \u2014 Classify user message intent and determine processing tier.</p> </li> <li> <p><code>classify_task(message, context_len, intents)</code>   \u2014 Classify user message intent and determine processing tier.</p> </li> <li><code>get_extra_tools(message)</code>   \u2014 Return extra tools based on emoji, time patterns, and question words.</li> </ul>"},{"location":"api/generated/#salmalmcorecompaction","title":"<code>salmalm.core.compaction</code>","text":"<p>Context compaction \u2014 auto-summarize long conversations to save tokens.</p> <ul> <li><code>compact_messages(messages, model, session, on_status)</code>   \u2014 Multi-stage compaction: trim tool results \u2192 drop old tools \u2192 summarize.</li> <li><code>estimate_tokens(text_or_messages)</code>   \u2014 Estimate tokens \u2014 accepts string or message list.</li> <li><code>enhanced_compact(messages, target_tokens, max_tokens)</code>   \u2014 Enhanced compaction using importance scoring.</li> </ul>"},{"location":"api/generated/#salmalmcorecore","title":"<code>salmalm.core.core</code>","text":"<p>SalmAlm core \u2014 audit, cache, usage, router, compaction, search,</p>"},{"location":"api/generated/#class-responsecache","title":"<code>class ResponseCache</code>","text":"<p>Simple TTL cache for LLM responses to avoid duplicate calls.</p> <ul> <li><code>get(model, messages, session_id, system_prompt, tools)</code>   \u2014 Get a cached response by key, or None if expired/missing.</li> <li><code>put(model, messages, response, session_id, system_prompt)</code>   \u2014 Store a response in cache with TTL.</li> </ul>"},{"location":"api/generated/#class-costcapexceeded","title":"<code>class CostCapExceeded</code>","text":"<p>Raised when cumulative API spend exceeds the cost cap.</p>"},{"location":"api/generated/#class-modelrouter","title":"<code>class ModelRouter</code>","text":"<p>Routes queries to appropriate models based on complexity.</p> <ul> <li><code>set_force_model(model)</code>   \u2014 Set and persist model preference.</li> <li> <p><code>route(user_message, has_tools, iteration)</code>   \u2014 Route a message to the best model based on intent classification.</p> </li> <li> <p><code>audit_log_cleanup(days)</code>   \u2014 Delete audit_log_v2 entries older than <code>days</code> days.</p> </li> <li><code>close_all_db_connections()</code>   \u2014 Close all tracked SQLite connections (for graceful shutdown).</li> <li><code>check_cost_cap()</code>   \u2014 Raise CostCapExceeded if cumulative cost exceeds the cap. 0 = disabled.</li> <li><code>set_current_user_id(user_id)</code>   \u2014 Set the current user_id for cost tracking (thread-local).</li> <li><code>get_current_user_id()</code>   \u2014 Get the current user_id from thread-local context.</li> <li><code>track_usage(model, input_tokens, output_tokens, user_id)</code>   \u2014 Record token usage and cost for a model call.</li> <li><code>get_usage_report()</code>   \u2014 Generate a formatted usage report with token counts and costs.</li> <li><code>compact_session(session_id, force)</code>   \u2014 Compact a session's conversation by summarizing old messages.</li> <li><code>auto_compact_if_needed(session_id)</code>   \u2014 Check and auto-compact session if over token threshold.</li> <li><code>auto_title_session(session_id, first_message)</code>   \u2014 Generate a title from the first user message (first 50 chars, cleaned up).</li> <li><code>write_daily_log(entry)</code>   \u2014 Append to today's memory log.</li> </ul>"},{"location":"api/generated/#salmalmcorecore_messages","title":"<code>salmalm.core.core_messages</code>","text":"<p>Message operations: search, edit, delete.</p> <ul> <li><code>edit_message(session_id, message_index, new_content)</code>   \u2014 Edit a message at the given index in a session.</li> <li><code>delete_message(session_id, message_index)</code>   \u2014 Delete a user message and its paired assistant response.</li> <li><code>search_messages(query, limit)</code>   \u2014 Search messages across all sessions using LIKE matching.</li> </ul>"},{"location":"api/generated/#salmalmcorecost","title":"<code>salmalm.core.cost</code>","text":"<p>Cost estimation and token counting \u2014 single source of truth.</p> <ul> <li><code>estimate_tokens(text)</code>   \u2014 Estimate tokens: Korean /2, English /4, mixed weighted.</li> <li><code>get_pricing(model)</code>   \u2014 Get pricing for a model string (fuzzy match).</li> <li><code>estimate_cost(model, usage)</code>   \u2014 Estimate cost in USD from usage dict.</li> </ul>"},{"location":"api/generated/#salmalmcoreengine","title":"<code>salmalm.core.engine</code>","text":"<p>SalmAlm Intelligence Engine \u2014 TaskClassifier + IntelligenceEngine + process_message.</p>"},{"location":"api/generated/#class-intelligenceengine","title":"<code>class IntelligenceEngine</code>","text":"<p>Core AI reasoning engine \u2014 surpasses OpenClaw's capabilities.</p> <ul> <li><code>async run(session, user_message, model_override, on_tool, classification)</code>   \u2014 Main execution loop \u2014 Plan \u2192 Execute \u2192 Reflect.</li> </ul>"},{"location":"api/generated/#salmalmcoreengine_pipeline","title":"<code>salmalm.core.engine_pipeline</code>","text":"<p>Engine message processing pipeline.</p> <ul> <li><code>async process_message(session_id, user_message, model_override, image_data, on_tool)</code>   \u2014 Process a user message through the Intelligence Engine pipeline.</li> <li><code>begin_shutdown()</code>   \u2014 Signal the engine to stop accepting new requests.</li> <li><code>wait_for_active_requests(timeout)</code>   \u2014 Wait for active requests to complete. Returns True if all done, False if timed out.</li> </ul>"},{"location":"api/generated/#salmalmcoreerror_messages","title":"<code>salmalm.core.error_messages</code>","text":"<p>User-friendly error messages \u2014 bilingual KR/EN mapping.</p> <ul> <li><code>friendly_error(exc)</code>   \u2014 Convert raw exception to user-friendly bilingual error message.</li> </ul>"},{"location":"api/generated/#salmalmcoreerror_recovery","title":"<code>salmalm.core.error_recovery</code>","text":"<p>Error recovery and resilience \u2014 OpenClaw-level fault tolerance.</p>"},{"location":"api/generated/#class-errorkind","title":"<code>class ErrorKind</code>","text":""},{"location":"api/generated/#class-circuitstate","title":"<code>class CircuitState</code>","text":"<ul> <li><code>record_failure()</code>   \u2014 Record failure.</li> <li><code>record_success()</code>   \u2014 Record success.</li> <li><code>is_available()</code>   \u2014 Is available.</li> </ul>"},{"location":"api/generated/#class-circuitbreakerregistry","title":"<code>class CircuitBreakerRegistry</code>","text":"<p>Per-provider circuit breakers.</p> <ul> <li><code>get(provider)</code>   \u2014 Get.</li> <li><code>record_failure(provider)</code>   \u2014 Record failure.</li> <li><code>record_success(provider)</code>   \u2014 Record success.</li> <li><code>is_available(provider)</code>   \u2014 Is available.</li> <li><code>status()</code>   \u2014 Status.</li> </ul>"},{"location":"api/generated/#class-streambuffer","title":"<code>class StreamBuffer</code>","text":"<p>Buffer for streaming responses \u2014 saves partial content on failure.</p> <ul> <li><code>start(model)</code>   \u2014 Start.</li> <li><code>add_chunk(text)</code>   \u2014 Add chunk.</li> <li><code>set_tokens(tokens)</code>   \u2014 Set tokens.</li> <li><code>content()</code>   \u2014 Content.</li> <li><code>has_content()</code>   \u2014 Has content.</li> <li> <p><code>recover()</code>   \u2014 Recover partial response as a result dict.</p> </li> <li> <p><code>classify_error(error, status_code, body)</code>   \u2014 Classify an error for recovery strategy.</p> </li> <li><code>backoff_delay(attempt, base, max_delay, jitter)</code>   \u2014 Calculate exponential backoff delay with optional jitter.</li> <li><code>async retry_with_recovery(fn, max_retries, provider, on_retry)</code>   \u2014 Execute fn with automatic retry, backoff, and circuit breaker.</li> <li><code>friendly_error(error, provider)</code>   \u2014 Convert technical errors to user-friendly messages.</li> </ul>"},{"location":"api/generated/#salmalmcoreexceptions","title":"<code>salmalm.core.exceptions</code>","text":"<p>SalmAlm exception hierarchy.</p>"},{"location":"api/generated/#class-salmalmerror","title":"<code>class SalmAlmError</code>","text":"<p>Base exception for all SalmAlm errors.</p>"},{"location":"api/generated/#class-llmerror","title":"<code>class LLMError</code>","text":"<p>LLM API call or response errors.</p>"},{"location":"api/generated/#class-toolerror","title":"<code>class ToolError</code>","text":"<p>Tool execution errors.</p>"},{"location":"api/generated/#class-autherror","title":"<code>class AuthError</code>","text":"<p>Authentication / authorization errors.</p>"},{"location":"api/generated/#class-configerror","title":"<code>class ConfigError</code>","text":"<p>Configuration loading / validation errors.</p>"},{"location":"api/generated/#class-sessionerror","title":"<code>class SessionError</code>","text":"<p>Session management errors.</p>"},{"location":"api/generated/#salmalmcoreexport","title":"<code>salmalm.core.export</code>","text":"<p>Conversation Export \u2014 export current session as Markdown, JSON, or HTML.</p> <ul> <li><code>export_session(session, fmt)</code>   \u2014 Export a session to the specified format.</li> </ul>"},{"location":"api/generated/#salmalmcorehealth","title":"<code>salmalm.core.health</code>","text":"<p>Health Endpoint \u2014 K8s readiness/liveness probe compatible.</p> <ul> <li><code>get_health_report()</code>   \u2014 Build comprehensive health report.</li> </ul>"},{"location":"api/generated/#salmalmcoreimage_resize","title":"<code>salmalm.core.image_resize</code>","text":"<p>Auto-resize images for vision input to reduce token cost.</p> <ul> <li><code>resize_image_b64(b64_data, mime, max_dim)</code>   \u2014 Resize a base64-encoded image so its longest side &lt;= max_dim.</li> </ul>"},{"location":"api/generated/#salmalmcorellm","title":"<code>salmalm.core.llm</code>","text":"<p>SalmAlm LLM \u2014 Multi-provider API calls with caching and fallback.</p>"},{"location":"api/generated/#class-_responsesonlymodel","title":"<code>class _ResponsesOnlyModel</code>","text":"<p>Raised when a model is v1/responses-only (404 'not a chat model').</p> <ul> <li><code>call_llm(messages, model, tools, max_tokens, thinking)</code>   \u2014 Call LLM API. Returns {'content': str, 'tool_calls': list, 'usage': dict}.</li> </ul>"},{"location":"api/generated/#salmalmcorellm_cron","title":"<code>salmalm.core.llm_cron</code>","text":"<p>LLM Cron Manager \u2014 scheduled AI tasks with error tracking and auto-disable.</p>"},{"location":"api/generated/#class-llmcronmanager","title":"<code>class LLMCronManager</code>","text":"<p>OpenClaw-style LLM cron with isolated session execution.</p> <ul> <li><code>load_jobs()</code>   \u2014 Load persisted cron jobs from file.</li> <li><code>save_jobs()</code>   \u2014 Persist cron jobs to file.</li> <li><code>add_job(name, schedule, prompt, model, notify)</code>   \u2014 Add a new LLM cron job.</li> <li><code>remove_job(job_id)</code>   \u2014 Remove a scheduled cron job by ID.</li> <li><code>list_jobs()</code>   \u2014 List all registered cron jobs with their schedules.</li> <li><code>async tick()</code>   \u2014 Check and execute due jobs. Also runs heartbeat if due.</li> </ul>"},{"location":"api/generated/#salmalmcorellm_loop","title":"<code>salmalm.core.llm_loop</code>","text":"<p>LLM call loop \u2014 streaming, failover, cooldowns, routing.</p> <ul> <li><code>reset_cooldowns()</code>   \u2014 Clear all model/provider cooldowns.</li> <li><code>get_cooldown_status()</code>   \u2014 Return current cooldown state with human-readable info.</li> <li><code>get_failover_config()</code>   \u2014 Public getter for failover config (used by web API / settings).</li> <li><code>save_failover_config(config)</code>   \u2014 Save user's failover chain config.</li> <li><code>async call_with_failover(messages, model, tools, max_tokens, thinking)</code>   \u2014 LLM call with automatic failover on failure.</li> <li><code>async try_llm_call(messages, model, tools, max_tokens, thinking)</code>   \u2014 Single LLM call attempt with transient error retry.</li> </ul>"},{"location":"api/generated/#salmalmcorellm_router","title":"<code>salmalm.core.llm_router</code>","text":"<p>Multi-Provider LLM Router \u2014 unified API across Anthropic, OpenAI, Google, Groq, Ollama.</p>"},{"location":"api/generated/#class-llmrouter","title":"<code>class LLMRouter</code>","text":"<p>Multi-provider LLM router with fallback.</p> <ul> <li><code>current_model()</code>   \u2014 Current model.</li> <li><code>current_model(model)</code>   \u2014 Current model.</li> <li><code>switch_model(model)</code>   \u2014 Switch to a new model. Returns confirmation message.</li> <li><code>list_models()</code>   \u2014 Format available models for display.</li> <li> <p><code>call(messages, model, max_tokens, tools, timeout)</code>   \u2014 Call LLM with automatic fallback.</p> </li> <li> <p><code>get_provider_models(provider)</code>   \u2014 Return model list for provider \u2014 live from API if possible, cached for 1h.</p> </li> <li><code>refresh_model_cache()</code>   \u2014 Force-refresh model cache for all providers. Returns {provider: count}.</li> <li><code>detect_provider(model)</code>   \u2014 Detect provider from model string. Returns (provider_name, bare_model).</li> <li><code>get_api_key(provider)</code>   \u2014 Get API key for provider from environment or vault.</li> <li><code>detect_ollama(base_url)</code>   \u2014 Auto-detect Ollama and list installed models.</li> <li><code>is_provider_available(provider)</code>   \u2014 Check if a provider is available (has API key or is local).</li> <li><code>list_available_models()</code>   \u2014 List all available models across configured providers (live from API).</li> <li><code>handle_model_command(cmd, session)</code>   \u2014 Handle /model list | /model switch . <li><code>register_commands(router)</code>   \u2014 Register /model commands with CommandRouter.</li> <li><code>register_tools(registry_module)</code>   \u2014 Register LLM router tools.</li>"},{"location":"api/generated/#salmalmcorellm_stream","title":"<code>salmalm.core.llm_stream</code>","text":"<p>LLM streaming response handlers.</p> <ul> <li><code>stream_google(messages, model, tools, max_tokens)</code>   \u2014 Stream Google Gemini API responses using streamGenerateContent SSE.</li> <li><code>stream_anthropic(messages, model, tools, max_tokens, thinking)</code>   \u2014 Stream Anthropic API responses token-by-token using raw urllib SSE.</li> </ul>"},{"location":"api/generated/#salmalmcorellm_task","title":"<code>salmalm.core.llm_task</code>","text":"<p>Structured LLM output \u2014 JSON Schema validated LLM calls.</p>"},{"location":"api/generated/#class-llmtask","title":"<code>class LLMTask</code>","text":"<p>JSON Schema \uac80\uc99d \uae30\ubc18 \uad6c\uc870\ud654 LLM \ud638\ucd9c.</p> <ul> <li><code>async run(prompt, input_data, schema, model, max_tokens)</code>   \u2014 LLM\uc5d0 JSON-only \uc751\ub2f5 \uc694\uccad, schema\ub85c \uac80\uc99d.</li> </ul>"},{"location":"api/generated/#salmalmcoreloop_helpers","title":"<code>salmalm.core.loop_helpers</code>","text":"<p>Extracted helpers from IntelligenceEngine._execute_loop.</p> <ul> <li><code>check_abort(session_id)</code>   \u2014 Check if generation was aborted. Returns partial response or None.</li> <li><code>select_model(model_override, user_message, tier, iteration, router)</code>   \u2014 Select model based on override, tier, or router.</li> <li><code>trim_history(session, classification)</code>   \u2014 Aggressive history trim for simple intents.</li> <li><code>prune_session_context(session, model)</code>   \u2014 Prune context if cache TTL expired.</li> <li><code>record_usage(session_id, model, result, classification, iteration)</code>   \u2014 Record API usage and audit log.</li> <li><code>validate_tool_calls(tool_calls)</code>   \u2014 Validate and parse tool call arguments. Returns (valid_tools, error_outputs).</li> <li><code>check_circuit_breaker(tool_outputs, consecutive_errors, max_errors)</code>   \u2014 Check for consecutive tool errors. Returns (new_error_count, error_message_or_None).</li> <li><code>check_loop_detection(tool_calls, recent_calls)</code>   \u2014 Detect infinite loops from repeated tool calls. Returns error message or None.</li> <li><code>async handle_empty_response(call_fn, pruned_messages, model, tools)</code>   \u2014 Retry empty responses up to 2 times with backoff.</li> <li><code>finalize_response(result, response)</code>   \u2014 Handle truncation and content filter edge cases.</li> <li><code>is_truncated(result)</code>   \u2014 Check if a response was truncated (hit max_tokens).</li> <li><code>auto_log_conversation(user_message, response, classification)</code>   \u2014 Auto-log significant conversations to daily memory.</li> </ul>"},{"location":"api/generated/#salmalmcorememory","title":"<code>salmalm.core.memory</code>","text":"<p>Enhanced Memory System \u2014 OpenClaw-style two-layer memory.</p>"},{"location":"api/generated/#class-memorymanager","title":"<code>class MemoryManager</code>","text":"<p>OpenClaw-style memory management with auto-curation.</p> <ul> <li><code>read(filename)</code>   \u2014 Read a memory file. Supports MEMORY.md and memory/YYYY-MM-DD.md.</li> <li><code>write(filename, content, append)</code>   \u2014 Write to a memory file. Secrets are automatically scrubbed.</li> <li><code>search(query, max_results)</code>   \u2014 Search across all memory files using TF-IDF.</li> <li><code>list_files()</code>   \u2014 List all memory files.</li> <li><code>load_session_context()</code>   \u2014 Load today + yesterday memory for session startup injection.</li> <li><code>auto_recall(user_message, max_results)</code>   \u2014 Search memory for context relevant to user message.</li> <li><code>flush_before_compaction(session)</code>   \u2014 Save important context from session to daily log before compaction.</li> <li><code>auto_curate(days_back)</code>   \u2014 Scan recent daily logs and promote important entries to MEMORY.md.</li> </ul>"},{"location":"api/generated/#salmalmcoremodel_selection","title":"<code>salmalm.core.model_selection</code>","text":"<p>Model selection \u2014 single authority for choosing which model handles a message.</p> <ul> <li><code>fix_model_name(model)</code>   \u2014 Correct outdated model names to actual API IDs.</li> <li><code>load_routing_config()</code>   \u2014 Load user's model routing config. Returns {simple, moderate, complex} model IDs.</li> <li><code>save_routing_config(config)</code>   \u2014 Save user's model routing config.</li> <li><code>auto_optimize_routing(available_keys)</code>   \u2014 Generate optimal routing config based on available API keys.</li> <li><code>auto_optimize_and_save(available_keys)</code>   \u2014 Auto-optimize routing and save to config file. Returns the config.</li> <li><code>select_model(message, session)</code>   \u2014 Select optimal model based on message complexity.</li> </ul>"},{"location":"api/generated/#salmalmcoreplugin_watcher","title":"<code>salmalm.core.plugin_watcher</code>","text":"<p>Plugin Hot-Reload \u2014 polling-based watcher for plugins/ directory.</p>"},{"location":"api/generated/#class-pluginwatcher","title":"<code>class PluginWatcher</code>","text":"<p>Polling-based watcher for plugin hot-reload.</p> <ul> <li><code>start()</code>   \u2014 Start watching plugins/ directory in background.</li> <li><code>stop()</code>   \u2014 Stop the watcher.</li> <li><code>running()</code>   \u2014 Running.</li> <li><code>reload_plugins(names)</code>   \u2014 Reload specific plugins or all if names is None.</li> <li><code>reload_all()</code>   \u2014 Reload all plugins (for /plugins reload command).</li> </ul>"},{"location":"api/generated/#salmalmcoreprompt","title":"<code>salmalm.core.prompt</code>","text":"<ul> <li><code>ensure_personas_dir()</code>   \u2014 Create personas directory and install built-in presets if missing.</li> <li><code>list_personas()</code>   \u2014 List all available personas.</li> <li><code>get_persona(name)</code>   \u2014 Get persona content by name.</li> <li><code>create_persona(name, content)</code>   \u2014 Create or update a custom persona.</li> <li><code>delete_persona(name)</code>   \u2014 Delete a custom persona (cannot delete built-in ones).</li> <li><code>switch_persona(session_id, name)</code>   \u2014 Switch active persona for a session. Returns persona content or None.</li> <li><code>get_active_persona(session_id)</code>   \u2014 Get the active persona name for a session.</li> <li><code>get_user_soul()</code>   \u2014 Read user SOUL.md from ~/.salmalm/SOUL.md. Returns empty string if not found.</li> <li><code>set_user_soul(content)</code>   \u2014 Write user SOUL.md to ~/.salmalm/SOUL.md.</li> <li><code>reset_user_soul()</code>   \u2014 Delete user SOUL.md (revert to default).</li> <li><code>build_system_prompt(full, mode)</code>   \u2014 Build system prompt from SOUL.md + context files.</li> </ul>"},{"location":"api/generated/#salmalmcorescheduler","title":"<code>salmalm.core.scheduler</code>","text":"<p>Cron scheduler + Heartbeat manager \u2014 extracted from core.py.</p>"},{"location":"api/generated/#class-cronscheduler","title":"<code>class CronScheduler</code>","text":"<p>OpenClaw-style cron scheduler with isolated session execution.</p> <ul> <li><code>add_job(name, interval_seconds, callback)</code>   \u2014 Add a new cron job with the given schedule and callback.</li> <li><code>async run()</code>   \u2014 Start the cron scheduler loop.</li> <li><code>stop()</code>   \u2014 Stop the cron scheduler loop.</li> </ul>"},{"location":"api/generated/#class-heartbeatmanager","title":"<code>class HeartbeatManager</code>","text":"<p>OpenClaw-style heartbeat: periodic self-check with HEARTBEAT.md.</p> <ul> <li><code>get_prompt(cls)</code>   \u2014 Read HEARTBEAT.md for the heartbeat checklist.</li> <li><code>should_beat(cls)</code>   \u2014 Check if it's time for a heartbeat.</li> <li><code>get_state(cls)</code>   \u2014 Get current heartbeat state (for tools/API).</li> <li><code>update_check(cls, check_name)</code>   \u2014 Record that a specific check was performed (email, calendar, etc).</li> <li><code>time_since_check(cls, check_name)</code>   \u2014 Seconds since a named check was last performed. None if never.</li> <li><code>async beat(cls)</code>   \u2014 Execute a heartbeat check in an isolated session.</li> </ul>"},{"location":"api/generated/#salmalmcoresearch","title":"<code>salmalm.core.search</code>","text":"<p>TF-IDF search engine \u2014 pure Python, no external deps.</p>"},{"location":"api/generated/#class-tfidfsearch","title":"<code>class TFIDFSearch</code>","text":"<p>Lightweight TF-IDF + cosine similarity search. No external deps.</p> <ul> <li><code>search(query, max_results)</code>   \u2014 Search with TF-IDF + cosine similarity. Returns [(score, label, lineno, snippet)].</li> </ul>"},{"location":"api/generated/#salmalmcoresession_manager","title":"<code>salmalm.core.session_manager</code>","text":"<p>Session management \u2014 pruning, compaction, cache TTL tracking.</p> <ul> <li><code>estimate_context_window(model_name)</code>   \u2014 Estimate context window tokens for a model by substring match.</li> <li><code>prune_context(messages, context_window_tokens)</code>   \u2014 Prune old tool_result messages before LLM call.</li> </ul>"},{"location":"api/generated/#salmalmcoresession_store","title":"<code>salmalm.core.session_store</code>","text":"<p>Session management \u2014 Session class, get/rollback/branch/save/restore.</p>"},{"location":"api/generated/#class-session","title":"<code>class Session</code>","text":"<p>OpenClaw-style isolated session with its own context.</p> <ul> <li><code>add_system(content)</code>   \u2014 Add a system message to the session.</li> <li><code>add_user(content)</code>   \u2014 Add a user message to the session.</li> <li><code>add_assistant(content)</code>   \u2014 Add an assistant response to the session.</li> <li> <p><code>add_tool_results(results)</code>   \u2014 Add tool results as a single user message with all results.</p> </li> <li> <p><code>get_telegram_bot()</code>   \u2014 Accessor for the Telegram bot instance (avoids direct global access).</p> </li> <li><code>set_telegram_bot(bot)</code>   \u2014 Set the Telegram bot instance (called during startup).</li> <li><code>get_session(session_id, user_id)</code>   \u2014 Get or create a chat session by ID.</li> <li><code>rollback_session(session_id, count)</code>   \u2014 Roll back the last <code>count</code> user+assistant message pairs.</li> <li><code>branch_session(session_id, message_index)</code>   \u2014 Create a new session branching from session_id at message_index.</li> <li><code>save_session_to_disk(session_id)</code>   \u2014 Serialize session state to ~/.salmalm/sessions/{id}.json.</li> <li><code>restore_session(session_id)</code>   \u2014 Load session from ~/.salmalm/sessions/{id}.json.</li> <li><code>restore_all_sessions_from_disk()</code>   \u2014 On startup, restore all sessions from disk.</li> </ul>"},{"location":"api/generated/#salmalmcoreshutdown","title":"<code>salmalm.core.shutdown</code>","text":"<p>Graceful Shutdown Manager \u2014 drain LLM streams, cancel tools, flush sessions, notify WS.</p>"},{"location":"api/generated/#class-shutdownmanager","title":"<code>class ShutdownManager</code>","text":"<p>Coordinates graceful shutdown across all subsystems.</p> <ul> <li><code>is_shutting_down()</code>   \u2014 Is shutting down.</li> <li><code>async execute(timeout)</code>   \u2014 Run the full shutdown sequence.</li> </ul>"},{"location":"api/generated/#salmalmcoreslash_commands","title":"<code>salmalm.core.slash_commands</code>","text":"<p>Slash command handlers \u2014 extracted from engine.py for maintainability.</p> <ul> <li><code>record_response_usage(session_id, model, usage)</code>   \u2014 Record per-response usage for /usage command.</li> </ul>"},{"location":"api/generated/#salmalmcoreslash_commands_ext","title":"<code>salmalm.core.slash_commands_ext</code>","text":"<p>Extended slash commands: context, usage, thought, subagents.</p>"},{"location":"api/generated/#salmalmcoresmart_context","title":"<code>salmalm.core.smart_context</code>","text":"<p>Smart Context Window \u2014 intelligent context injection with token budget.</p>"},{"location":"api/generated/#class-contextchunk","title":"<code>class ContextChunk</code>","text":"<p>A piece of context with metadata.</p>"},{"location":"api/generated/#class-smartcontextwindow","title":"<code>class SmartContextWindow</code>","text":"<p>Intelligent context window manager.</p> <ul> <li><code>budget()</code>   \u2014 Budget.</li> <li><code>budget(tokens)</code>   \u2014 Budget.</li> <li><code>used_tokens()</code>   \u2014 Used tokens.</li> <li><code>remaining_tokens()</code>   \u2014 Remaining tokens.</li> <li><code>set_recent_messages(messages)</code>   \u2014 Set recent conversation messages for topic analysis.</li> <li><code>analyze_topic()</code>   \u2014 Analyze current conversation topic from recent messages.</li> <li><code>gather_context(sources)</code>   \u2014 Gather and rank context chunks within token budget.</li> <li><code>build_context_string()</code>   \u2014 Build the injected context as a single string.</li> <li><code>show()</code>   \u2014 Format current injected context for display.</li> <li> <p><code>clear()</code>   \u2014 Clear injected context.</p> </li> <li> <p><code>estimate_tokens(text)</code>   \u2014 Rough token count estimate.</p> </li> <li><code>extract_keywords(text, top_n)</code>   \u2014 Extract top keywords from text using simple TF analysis.</li> <li><code>relevance_score(keywords, text)</code>   \u2014 Score text relevance against keywords (0.0-1.0).</li> <li><code>handle_context_command(cmd, session)</code>   \u2014 Handle /context show | /context budget . <li><code>register_commands(router)</code>   \u2014 Register /context commands.</li> <li><code>register_tools(registry_module)</code>   \u2014 Register smart context tools.</li>"},{"location":"api/generated/#salmalmcoretool_selector","title":"<code>salmalm.core.tool_selector</code>","text":"<p>Dynamic tool selection \u2014 intent-based tool filtering for token optimization.</p> <ul> <li><code>get_tools_for_provider(provider, intent, user_message)</code>   \u2014 Get tools for provider.</li> </ul>"},{"location":"api/generated/#tools-tools-58-built-in-tools-58","title":"tools/ \u2014 Tools \u2014 58+ Built-in Tools / \ub3c4\uad6c \u2014 58\uac1c \uc774\uc0c1 \ub0b4\uc7a5 \ub3c4\uad6c","text":""},{"location":"api/generated/#salmalmtoolstool_handlers","title":"<code>salmalm.tools.tool_handlers</code>","text":"<p>SalmAlm tool handlers \u2014 delegates to tool_registry + re-exports shared utilities.</p> <ul> <li><code>execute_tool(name, args)</code>   \u2014 Execute a tool \u2014 delegates to tool_registry.</li> </ul>"},{"location":"api/generated/#salmalmtoolstool_registry","title":"<code>salmalm.tools.tool_registry</code>","text":"<p>Tool registry \u2014 decorator-based tool dispatch replacing if-elif chain.</p> <ul> <li><code>register(name)</code>   \u2014 Decorator to register a tool handler function.</li> <li><code>register_dynamic(name, handler, tool_def)</code>   \u2014 Dynamically register a tool at runtime (for plugins).</li> <li><code>unregister_dynamic(name)</code>   \u2014 Remove a dynamically registered tool.</li> <li><code>get_dynamic_tools()</code>   \u2014 Return all dynamically registered tool definitions.</li> <li><code>get_all_tools()</code>   \u2014 Return all tool definitions (static + dynamic).</li> <li><code>execute_tool(name, args)</code>   \u2014 Execute a tool and return result string. Auto-dispatches to remote node if available.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools","title":"<code>salmalm.tools.tools</code>","text":"<p>SalmAlm tool definitions \u2014 schema for all built-in tools.</p>"},{"location":"api/generated/#salmalmtoolstools_agent","title":"<code>salmalm.tools.tools_agent</code>","text":"<p>Agent tools: sub_agent, skill_manage, plugin_manage, cron_manage, mcp_manage, node_manage.</p> <ul> <li><code>handle_sub_agent(args)</code>   \u2014 Handle sub agent.</li> <li><code>handle_skill_manage(args)</code>   \u2014 Handle skill manage.</li> <li><code>handle_plugin_manage(args)</code>   \u2014 Handle plugin manage.</li> <li><code>handle_cron_manage(args)</code>   \u2014 Handle cron manage.</li> <li><code>handle_mcp_manage(args)</code>   \u2014 Handle mcp manage.</li> <li><code>handle_node_manage(args)</code>   \u2014 Handle node manage.</li> <li><code>handle_rag_search(args)</code>   \u2014 Handle rag search.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_brave","title":"<code>salmalm.tools.tools_brave</code>","text":"<p>Brave Search API tools \u2014 web, news, images, LLM context.</p> <ul> <li><code>brave_web_search(args)</code>   \u2014 Brave \uc6f9 \uac80\uc0c9.</li> <li><code>brave_llm_context(args)</code>   \u2014 Brave LLM Context API \u2014 RAG \uac15\ud654\uc6a9.</li> <li><code>brave_news_search(args)</code>   \u2014 Brave \ub274\uc2a4 \uac80\uc0c9.</li> <li><code>brave_image_search(args)</code>   \u2014 Brave \uc774\ubbf8\uc9c0 \uac80\uc0c9.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_browser","title":"<code>salmalm.tools.tools_browser</code>","text":"<p>Browser automation tool \u2014 OpenClaw snapshot/act pattern via Playwright subprocess.</p> <ul> <li><code>handle_browser(args)</code>   \u2014 Browser automation \u2014 OpenClaw snapshot/act pattern.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_calendar","title":"<code>salmalm.tools.tools_calendar</code>","text":"<p>Google Calendar tools \u2014 granular calendar_list, calendar_add, calendar_delete.</p> <ul> <li><code>handle_calendar_list(args)</code>   \u2014 List upcoming calendar events.</li> <li><code>handle_calendar_add(args)</code>   \u2014 Add a calendar event.</li> <li><code>handle_calendar_delete(args)</code>   \u2014 Delete a calendar event.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_common","title":"<code>salmalm.tools.tools_common</code>","text":"<p>Shared helper functions for tool modules.</p>"},{"location":"api/generated/#salmalmtoolstools_email","title":"<code>salmalm.tools.tools_email</code>","text":"<p>Gmail tools \u2014 granular email_inbox, email_read, email_send, email_search.</p> <ul> <li><code>handle_email_inbox(args)</code>   \u2014 List recent inbox messages.</li> <li><code>handle_email_read(args)</code>   \u2014 Read a specific email by message_id.</li> <li><code>handle_email_send(args)</code>   \u2014 Send an email.</li> <li><code>handle_email_search(args)</code>   \u2014 Search emails with Gmail query syntax.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_exec","title":"<code>salmalm.tools.tools_exec</code>","text":"<p>Exec tools: exec, python_eval, background session management.</p> <ul> <li><code>handle_exec(args)</code>   \u2014 Handle exec.</li> <li><code>handle_exec_session(args)</code>   \u2014 Manage background exec sessions: list, poll, kill.</li> <li><code>handle_python_eval(args)</code>   \u2014 Handle python eval. Disabled by default \u2014 enable with SALMALM_PYTHON_EVAL=1.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_file","title":"<code>salmalm.tools.tools_file</code>","text":"<p>File tools: read_file, write_file, edit_file, diff_files.</p> <ul> <li><code>handle_read_file(args)</code>   \u2014 Handle read file.</li> <li><code>handle_write_file(args)</code>   \u2014 Handle write file.</li> <li><code>handle_edit_file(args)</code>   \u2014 Handle edit file.</li> <li><code>handle_diff_files(args)</code>   \u2014 Handle diff files.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_google","title":"<code>salmalm.tools.tools_google</code>","text":"<p>Google tools: google_calendar, gmail.</p> <ul> <li><code>handle_google_calendar(args)</code>   \u2014 Handle google calendar.</li> <li><code>handle_gmail(args)</code>   \u2014 Handle gmail.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_media","title":"<code>salmalm.tools.tools_media</code>","text":"<p>Media tools: image_generate, image_analyze, tts, stt, screenshot, tts_generate.</p> <ul> <li><code>handle_image_generate(args)</code>   \u2014 Handle image generate.</li> <li><code>handle_image_analyze(args)</code>   \u2014 Handle image analyze.</li> <li><code>handle_tts(args)</code>   \u2014 Handle tts.</li> <li><code>handle_stt(args)</code>   \u2014 Handle stt.</li> <li><code>handle_screenshot(args)</code>   \u2014 Handle screenshot.</li> <li><code>handle_tts_generate(args)</code>   \u2014 Handle tts generate.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_memory","title":"<code>salmalm.tools.tools_memory</code>","text":"<p>Memory tools: memory_read, memory_write, memory_search, usage_report.</p> <ul> <li><code>handle_memory_read(args)</code>   \u2014 Handle memory read.</li> <li><code>handle_memory_write(args)</code>   \u2014 Handle memory write.</li> <li><code>handle_memory_search(args)</code>   \u2014 Handle memory search.</li> <li><code>handle_usage_report(args)</code>   \u2014 Handle usage report.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_mesh","title":"<code>salmalm.tools.tools_mesh</code>","text":"<p>Mesh and Canvas tool handlers. / \uba54\uc2dc \ubc0f \uce94\ubc84\uc2a4 \ub3c4\uad6c \ud578\ub4e4\ub7ec.</p> <ul> <li><code>handle_mesh(args)</code>   \u2014 SalmAlm Mesh \u2014 peer-to-peer networking.</li> <li><code>handle_canvas(args)</code>   \u2014 Canvas \u2014 local HTML preview and rendering. / \ub85c\uceec HTML \ud504\ub9ac\ubdf0 \ubc0f \ub80c\ub354\ub9c1.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_misc","title":"<code>salmalm.tools.tools_misc</code>","text":"<p>Misc tools: reminder, workflow, file_index, notification, weather, rss_reader.</p> <ul> <li><code>handle_reminder(args)</code>   \u2014 Handle reminder.</li> <li><code>handle_workflow(args)</code>   \u2014 Handle workflow.</li> <li><code>handle_file_index(args)</code>   \u2014 Handle file index.</li> <li><code>handle_notification(args)</code>   \u2014 Handle notification.</li> <li><code>handle_weather(args)</code>   \u2014 Handle weather.</li> <li><code>handle_rss_reader(args)</code>   \u2014 Handle rss reader.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_patch","title":"<code>salmalm.tools.tools_patch</code>","text":"<p>apply_patch tool \u2014 multi-file patch application.</p> <ul> <li><code>apply_patch(patch_text, base_dir)</code>   \u2014 Apply a multi-file patch.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_personal","title":"<code>salmalm.tools.tools_personal</code>","text":"<p>Personal assistant tools \u2014 notes, expenses, saved links, pomodoro, routines, briefing.</p> <ul> <li><code>handle_note(args)</code>   \u2014 Personal notes / knowledge base.</li> <li><code>handle_expense(args)</code>   \u2014 Expense tracker.</li> <li><code>handle_save_link(args)</code>   \u2014 Save a link/article for later reading.</li> <li><code>handle_pomodoro(args)</code>   \u2014 Pomodoro timer.</li> <li><code>handle_routine(args)</code>   \u2014 Morning/evening routine automation.</li> <li><code>handle_briefing(args)</code>   \u2014 Generate daily briefing.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_reaction","title":"<code>salmalm.tools.tools_reaction</code>","text":"<p>SalmAlm Reaction Tools \u2014 Send emoji reactions across channels.</p> <ul> <li><code>send_reaction(channel, message_id, emoji)</code>   \u2014 Send an emoji reaction to a message.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_reminder","title":"<code>salmalm.tools.tools_reminder</code>","text":"<p>Enhanced reminder tools \u2014 natural language time parsing (KR+EN), recurring reminders.</p> <ul> <li><code>parse_natural_time(text)</code>   \u2014 Parse natural language time expression into datetime.</li> <li><code>parse_repeat_pattern(text)</code>   \u2014 Parse repeat pattern from text.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_sandbox","title":"<code>salmalm.tools.tools_sandbox</code>","text":"<p>Sandbox exec tool handler. / \uc0cc\ub4dc\ubc15\uc2a4 \uc2e4\ud589 \ub3c4\uad6c \ud578\ub4e4\ub7ec.</p> <ul> <li><code>handle_sandbox_exec(args)</code>   \u2014 Execute a command in OS-native sandbox. / OS \uae30\ubcf8 \uc0cc\ub4dc\ubc15\uc2a4\uc5d0\uc11c \uba85\ub839 \uc2e4\ud589.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_schema_ext","title":"<code>salmalm.tools.tools_schema_ext</code>","text":"<p>Extended tool definitions (tools 32-62).</p>"},{"location":"api/generated/#salmalmtoolstools_system","title":"<code>salmalm.tools.tools_system</code>","text":"<p>System tools: system_monitor, health_check.</p> <ul> <li><code>handle_system_monitor(args)</code>   \u2014 Handle system monitor.</li> <li><code>handle_health_check(args)</code>   \u2014 Handle health check.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_ui","title":"<code>salmalm.tools.tools_ui</code>","text":"<p>UI control tool \u2014 lets AI change UI settings via WebSocket commands.</p> <ul> <li><code>handle_ui_control(args)</code>   \u2014 Execute a UI control command.</li> <li><code>pop_pending_commands()</code>   \u2014 Pop all pending UI commands (called by WebSocket broadcaster).</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_util","title":"<code>salmalm.tools.tools_util</code>","text":"<p>Utility tools: hash_text, regex_test, json_query, clipboard, qr_code, translate.</p> <ul> <li><code>handle_hash_text(args)</code>   \u2014 Handle hash text.</li> <li><code>handle_regex_test(args)</code>   \u2014 Handle regex test.</li> <li><code>handle_json_query(args)</code>   \u2014 Handle json query.</li> <li><code>handle_clipboard(args)</code>   \u2014 Handle clipboard.</li> <li><code>handle_translate(args)</code>   \u2014 Handle translate.</li> <li><code>handle_qr_code(args)</code>   \u2014 Handle qr code.</li> </ul>"},{"location":"api/generated/#salmalmtoolstools_web","title":"<code>salmalm.tools.tools_web</code>","text":"<p>Web tools: web_search, web_fetch, http_request.</p> <ul> <li><code>handle_web_search(args)</code>   \u2014 Handle web search.</li> <li><code>handle_web_fetch(args)</code>   \u2014 Handle web fetch.</li> <li><code>handle_http_request(args)</code>   \u2014 Handle http request.</li> </ul>"},{"location":"api/generated/#features-features-commands-rag-mcp-rag-mcp","title":"features/ \u2014 Features \u2014 Commands, RAG, MCP / \uae30\ub2a5 \u2014 \uba85\ub839\uc5b4, RAG, MCP","text":""},{"location":"api/generated/#salmalmfeaturesa2a","title":"<code>salmalm.features.a2a</code>","text":"<p>SalmAlm Agent-to-Agent Protocol \u2014 inter-instance communication.</p>"},{"location":"api/generated/#class-a2aprotocol","title":"<code>class A2AProtocol</code>","text":"<p>SalmAlm instance-to-instance negotiation protocol.</p> <ul> <li><code>sign(payload, secret)</code>   \u2014 HMAC-SHA256 signature over canonical JSON.</li> <li><code>verify(payload, signature, secret)</code>   \u2014 Verify.</li> <li><code>pair(url, shared_secret, peer_name)</code>   \u2014 Register a peer instance.</li> <li><code>unpair(peer_id)</code>   \u2014 Unpair.</li> <li><code>list_peers()</code>   \u2014 List peers.</li> <li><code>build_request(action, params)</code>   \u2014 Build an unsigned A2A request payload.</li> <li><code>send(peer_id, action, params, timeout)</code>   \u2014 Send an A2A request to a paired peer. Returns the response dict.</li> <li><code>receive(body)</code>   \u2014 Process an incoming A2A request. Returns response dict.</li> <li><code>approve(request_id)</code>   \u2014 Approve a pending inbox request.</li> <li><code>reject(request_id)</code>   \u2014 Reject a pending inbox request.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesabort","title":"<code>salmalm.features.abort</code>","text":"<p>Abort Generation (\uc0dd\uc131 \uc911\uc9c0) \u2014 OpenClaw/LibreChat style.</p>"},{"location":"api/generated/#class-abortcontroller","title":"<code>class AbortController</code>","text":"<p>Per-session abort flag + streaming partial response preservation.</p> <ul> <li><code>set_abort(session_id)</code>   \u2014 Set abort.</li> <li><code>is_aborted(session_id)</code>   \u2014 Is aborted.</li> <li><code>clear(session_id)</code>   \u2014 Clear.</li> <li><code>save_partial(session_id, text)</code>   \u2014 Save partial.</li> <li><code>get_partial(session_id)</code>   \u2014 Get partial.</li> <li><code>accumulate_token(session_id, token)</code>   \u2014 Accumulate streaming tokens for abort recovery.</li> <li><code>start_streaming(session_id)</code>   \u2014 Mark the start of a streaming response (reset accumulator).</li> <li><code>get_accumulated(session_id)</code>   \u2014 Get current accumulated tokens without clearing.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesagents","title":"<code>salmalm.features.agents</code>","text":""},{"location":"api/generated/#class-subagent","title":"<code>class SubAgent</code>","text":"<p>Background task executor with notification on completion.</p> <ul> <li><code>spawn(cls, task, model, notify_telegram, _depth)</code>   \u2014 Spawn a background sub-agent. Returns agent ID.</li> <li><code>list_agents(cls)</code>   \u2014 List all sub-agents with their status, label, and runtime.</li> <li><code>stop_agent(cls, agent_id)</code>   \u2014 Stop a running sub-agent.</li> <li><code>get_log(cls, agent_id, limit)</code>   \u2014 Get sub-agent transcript.</li> <li><code>get_info(cls, agent_id)</code>   \u2014 Get detailed metadata for a sub-agent.</li> <li><code>get_result(cls, agent_id)</code>   \u2014 Get the result of a completed sub-agent run.</li> <li><code>send_message(cls, agent_id, message)</code>   \u2014 Send a follow-up message to a completed sub-agent's session.</li> <li><code>get_agent(cls, agent_id, label)</code>   \u2014 Get agent by id or label.</li> <li><code>steer(cls, agent_id, message, label)</code>   \u2014 Send a steering message to a running sub-agent by id or label.</li> <li><code>send_to_agent(cls, from_id, to_label, message)</code>   \u2014 Inter-agent communication: send message from one agent to another by label.</li> </ul>"},{"location":"api/generated/#class-pluginloader","title":"<code>class PluginLoader</code>","text":"<p>Discover and load tool plugins from plugins/*.py files.</p> <ul> <li><code>scan(cls)</code>   \u2014 Scan plugins/ directory and load all .py files as tool providers.</li> <li><code>get_all_tools(cls)</code>   \u2014 Return all tool definitions from all plugins.</li> <li><code>execute(cls, tool_name, args)</code>   \u2014 Execute a plugin tool by name.</li> <li><code>reload(cls)</code>   \u2014 Reload all plugins.</li> </ul>"},{"location":"api/generated/#class-agentconfig","title":"<code>class AgentConfig</code>","text":"<p>Configuration and paths for a single agent (\uc5d0\uc774\uc804\ud2b8 \uc124\uc815).</p> <ul> <li><code>save()</code>   \u2014 Save.</li> <li><code>display_name()</code>   \u2014 Display name.</li> <li><code>model()</code>   \u2014 Model.</li> <li><code>soul_file()</code>   \u2014 Soul file.</li> <li><code>api_key()</code>   \u2014 Api key.</li> <li><code>allowed_tools()</code>   \u2014 None means all tools allowed.</li> <li><code>to_dict()</code>   \u2014 To dict.</li> </ul>"},{"location":"api/generated/#class-agentmanager","title":"<code>class AgentManager</code>","text":"<p>Manages multiple agents with routing by Telegram chat/user.</p> <ul> <li><code>scan()</code>   \u2014 Scan agents directory and load all agent configs.</li> <li><code>resolve(chat_key)</code>   \u2014 Resolve which agent handles a given chat key (e.g. 'telegram:12345').</li> <li><code>get_agent(agent_id)</code>   \u2014 Get agent config by ID.</li> <li><code>get_session_id(agent_id, base_session_id)</code>   \u2014 Get agent-scoped session ID.</li> <li><code>create(agent_id, display_name, model)</code>   \u2014 Create a new agent. \uc0c8 \uc5d0\uc774\uc804\ud2b8 \uc0dd\uc131.</li> <li><code>delete(agent_id)</code>   \u2014 Delete an agent (cannot delete 'main').</li> <li><code>bind(chat_key, agent_id)</code>   \u2014 Bind a chat to an agent. \ucc44\ud305\uc744 \uc5d0\uc774\uc804\ud2b8\uc5d0 \ubc14\uc778\ub529.</li> <li><code>unbind(chat_key)</code>   \u2014 Remove a chat binding.</li> <li><code>list_agents()</code>   \u2014 List all agents. \uc804\uccb4 \uc5d0\uc774\uc804\ud2b8 \ubaa9\ub85d.</li> <li><code>list_bindings()</code>   \u2014 Return all chat\u2192agent bindings.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesagents_skills","title":"<code>salmalm.features.agents_skills</code>","text":"<p>Skill loading and management.</p>"},{"location":"api/generated/#class-skillloader","title":"<code>class SkillLoader</code>","text":"<p>OpenClaw-style skill loader.</p> <ul> <li><code>scan(cls)</code>   \u2014 Scan skills directory, return list of available skills.</li> <li><code>load(cls, skill_name)</code>   \u2014 Load a skill's SKILL.md content.</li> <li><code>match(cls, user_message)</code>   \u2014 Auto-detect which skill matches the user's request. Returns skill content or None.</li> <li><code>install(cls, url)</code>   \u2014 Install a skill from a Git URL or GitHub shorthand (user/repo).</li> <li><code>uninstall(cls, skill_name)</code>   \u2014 Remove a skill directory.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesartifacts","title":"<code>salmalm.features.artifacts</code>","text":"<p>Conversation Artifacts \u2014 auto-detect and save code/docs/JSON from conversations.</p>"},{"location":"api/generated/#class-artifacttype","title":"<code>class ArtifactType</code>","text":""},{"location":"api/generated/#class-artifact","title":"<code>class Artifact</code>","text":"<p>Single artifact.</p> <ul> <li><code>to_dict()</code>   \u2014 To dict.</li> <li><code>from_dict(cls, d)</code>   \u2014 From dict.</li> </ul>"},{"location":"api/generated/#class-artifactmanager","title":"<code>class ArtifactManager</code>","text":"<p>Manage conversation artifacts.</p> <ul> <li><code>add(type, content, language, session_id, metadata)</code>   \u2014 Add an artifact.</li> <li><code>get(artifact_id)</code>   \u2014 Get.</li> <li><code>list_all(limit)</code>   \u2014 List all.</li> <li><code>remove(artifact_id)</code>   \u2014 Remove.</li> <li><code>export_all()</code>   \u2014 Export all artifacts as JSON string.</li> <li><code>detect_and_save(text, session_id)</code>   \u2014 Auto-detect artifacts in text and save them.</li> <li> <p><code>count()</code>   \u2014 Count.</p> </li> <li> <p><code>handle_artifacts_command(cmd, session)</code>   \u2014 Handle /artifacts list|get|export.</p> </li> <li><code>register_commands(router)</code>   \u2014 Register /artifacts commands.</li> <li><code>register_tools(registry_module)</code>   \u2014 Register artifact tools.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesaudit_cron","title":"<code>salmalm.features.audit_cron</code>","text":"<p>Periodic audit checkpoint automation.</p> <ul> <li><code>start_audit_cron(interval_hours)</code>   \u2014 Start periodic audit checkpoint. Safe to call multiple times (idempotent).</li> <li><code>stop_audit_cron()</code>   \u2014 Cancel the audit checkpoint timer.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesbookmarks","title":"<code>salmalm.features.bookmarks</code>","text":"<p>Message Bookmarks (\uba54\uc2dc\uc9c0 \ubd81\ub9c8\ud06c) \u2014 LobeChat style.</p>"},{"location":"api/generated/#class-bookmarkmanager","title":"<code>class BookmarkManager</code>","text":"<p>Manage message bookmarks across sessions.</p> <ul> <li><code>add(session_id, message_index, content_preview, note, role)</code>   \u2014 Add.</li> <li><code>remove(session_id, message_index)</code>   \u2014 Remove.</li> <li><code>list_all(limit)</code>   \u2014 List all.</li> <li><code>list_session(session_id)</code>   \u2014 List session.</li> <li><code>is_bookmarked(session_id, message_index)</code>   \u2014 Is bookmarked.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesbriefing","title":"<code>salmalm.features.briefing</code>","text":"<p>Daily Briefing \u2014 morning/evening summary generator.</p>"},{"location":"api/generated/#class-dailybriefing","title":"<code>class DailyBriefing</code>","text":"<p>Generate daily briefing summaries.</p> <ul> <li><code>generate(sections)</code>   \u2014 Generate a full briefing. sections: list of section names to include.</li> <li><code>configure(key, value)</code>   \u2014 Update briefing config.</li> </ul>"},{"location":"api/generated/#salmalmfeaturescanvas","title":"<code>salmalm.features.canvas</code>","text":"<p>Canvas \u2014 local HTML preview and rendering.</p>"},{"location":"api/generated/#class-canvasserver","title":"<code>class CanvasServer</code>","text":"<p>Lightweight HTTP server for previewing generated content.</p> <ul> <li><code>start(port, host)</code>   \u2014 Start the canvas preview server.</li> <li><code>stop()</code>   \u2014 Stop the canvas server.</li> <li><code>present(html_content, title, open_browser)</code>   \u2014 Present HTML content on the canvas.</li> <li><code>render_markdown(markdown_text, title)</code>   \u2014 Render markdown as HTML and present on canvas.</li> <li><code>render_code(code, language, title)</code>   \u2014 Render code with syntax highlighting (basic CSS-based).</li> <li><code>render_chart_svg(svg_content, title)</code>   \u2014 Render an SVG chart on canvas.</li> <li><code>list_pages()</code>   \u2014 List all canvas pages.</li> <li><code>get_status()</code>   \u2014 Get canvas server status.</li> </ul>"},{"location":"api/generated/#salmalmfeaturescommands","title":"<code>salmalm.features.commands</code>","text":"<p>Extended slash command router (30+ commands).</p>"},{"location":"api/generated/#class-commandrouter","title":"<code>class CommandRouter</code>","text":"<p>Central slash-command dispatcher.</p> <ul> <li><code>register(command, handler)</code>   \u2014 Register exact-match command.</li> <li><code>register_prefix(prefix, handler)</code>   \u2014 Register prefix-match command.</li> <li><code>async dispatch(text, session)</code>   \u2014 Dispatch a command string. Returns response or None.</li> <li><code>parse_directives(text)</code>   \u2014 Extract directive commands from message text.</li> <li><code>find_inline_shortcuts(text)</code>   \u2014 Find inline shortcut commands within a message.</li> <li> <p><code>get_completions()</code>   \u2014 Return command list for autocomplete / /api/commands.</p> </li> <li> <p><code>register_telegram_commands(bot_token)</code>   \u2014 Register commands with Telegram's setMyCommands API.</p> </li> <li><code>get_router(engine_dispatch)</code>   \u2014 Get router.</li> </ul>"},{"location":"api/generated/#salmalmfeaturescompare","title":"<code>salmalm.features.compare</code>","text":"<p>Response Compare / Beam (\uc751\ub2f5 \ube44\uad50) \u2014 BIG-AGI style.</p> <ul> <li><code>async compare_models(session_id, message, models)</code>   \u2014 Compare models.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesdashboard_life","title":"<code>salmalm.features.dashboard_life</code>","text":"<p>Life Dashboard \u2014 one-page overview of personal data from existing tools.</p>"},{"location":"api/generated/#class-lifedashboard","title":"<code>class LifeDashboard</code>","text":"<p>Aggregates data from personal tools into a unified dashboard.</p> <ul> <li><code>generate_dashboard()</code>   \u2014 Generate dashboard.</li> <li><code>text_summary(section)</code>   \u2014 Text summary.</li> <li><code>render_html()</code>   \u2014 Render html.</li> </ul>"},{"location":"api/generated/#class-proactivedigest","title":"<code>class ProactiveDigest</code>","text":"<p>Generates morning/evening digest messages.</p> <ul> <li><code>morning_digest()</code>   \u2014 Morning digest.</li> <li><code>evening_digest()</code>   \u2014 Evening digest.</li> <li> <p><code>should_send(hour)</code>   \u2014 Should send.</p> </li> <li> <p><code>get_dashboard()</code>   \u2014 Get dashboard.</p> </li> <li><code>get_digest()</code>   \u2014 Get digest.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesdeadman","title":"<code>salmalm.features.deadman</code>","text":"<p>Dead Man's Switch \u2014 triggers actions after prolonged user inactivity.</p>"},{"location":"api/generated/#class-deadmanswitch","title":"<code>class DeadManSwitch</code>","text":"<p>Monitors user activity and triggers emergency actions on prolonged inactivity.</p> <ul> <li><code>record_activity()</code>   \u2014 Record user activity (message or command).</li> <li><code>reset()</code>   \u2014 Manually reset the timer.</li> <li><code>status()</code>   \u2014 Return current switch status.</li> <li><code>format_status()</code>   \u2014 Format status.</li> <li><code>setup(inactivity_days, warning_hours, actions, confirmation_required)</code>   \u2014 Setup.</li> <li><code>disable()</code>   \u2014 Disable.</li> <li><code>check(send_fn, user_name)</code>   \u2014 Periodic check \u2014 called from heartbeat.</li> <li><code>confirm_alive()</code>   \u2014 User confirms they're alive after warning.</li> <li><code>test(user_name)</code>   \u2014 Simulate activation without actually sending anything.</li> <li><code>handle_command(args, send_fn, user_name)</code>   \u2014 Handle /deadman subcommands.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesdocs","title":"<code>salmalm.features.docs</code>","text":"<ul> <li><code>generate_api_docs_html()</code>   \u2014 Generate API documentation HTML page.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesdoctor","title":"<code>salmalm.features.doctor</code>","text":"<p>SalmAlm Doctor \u2014 self-diagnosis and repair tool.</p>"},{"location":"api/generated/#class-doctor","title":"<code>class Doctor</code>","text":"<p>SalmAlm \uc790\uac00 \uc9c4\ub2e8 + \uc218\ubcf5 \ub3c4\uad6c.</p> <ul> <li><code>check_python_version()</code>   \u2014 Python \ubc84\uc804 \ud655\uc778 (3.9+ \ud544\uc218).</li> <li><code>check_crypto()</code>   \u2014 cryptography \ud328\ud0a4\uc9c0 \uc124\uce58 \uc5ec\ubd80.</li> <li><code>check_channels()</code>   \u2014 Telegram/Discord \ubd07 \ud1a0\ud070 \uc720\ud6a8\uc131.</li> <li><code>run_all(auto_fix)</code>   \u2014 \uc804\uccb4 \uc9c4\ub2e8 \uc2e4\ud589, \uacb0\uacfc \ub9ac\uc2a4\ud2b8 \ubc18\ud658.</li> <li><code>check_config_integrity()</code>   \u2014 \uc124\uc815 \ud30c\uc77c \uc874\uc7ac/\uc720\ud6a8\uc131/\uad8c\ud55c \uac80\uc0ac.</li> <li><code>check_database_integrity()</code>   \u2014 SQLite DB \ubb34\uacb0\uc131 (PRAGMA integrity_check).</li> <li><code>check_session_integrity()</code>   \u2014 \uc138\uc158 \ud30c\uc77c \uc874\uc7ac/\ud06c\uae30/\uc190\uc0c1 \uac80\uc0ac.</li> <li><code>check_api_keys()</code>   \u2014 API \ud0a4 \uc124\uc815 \uc5ec\ubd80 + \uc2e4\uc81c \uc720\ud6a8\uc131 \uac80\uc99d.</li> <li><code>check_port_availability()</code>   \u2014 \uc11c\ubc84 \ud3ec\ud2b8 \uc0ac\uc6a9 \uac00\ub2a5 \uc5ec\ubd80.</li> <li><code>check_disk_space()</code>   \u2014 \ub514\uc2a4\ud06c \uc5ec\uc720 \uacf5\uac04.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesedge_cases","title":"<code>salmalm.features.edge_cases</code>","text":"<p>Backward-compatibility shim \u2014 re-exports from decomposed modules.</p>"},{"location":"api/generated/#salmalmfeaturesfile_upload","title":"<code>salmalm.features.file_upload</code>","text":"<p>Enhanced File Upload (\ud30c\uc77c \uc5c5\ub85c\ub4dc \uac15\ud654) \u2014 Open WebUI style.</p> <ul> <li><code>validate_upload(filename, size_bytes)</code>   \u2014 Validate upload.</li> <li><code>extract_pdf_text(data)</code>   \u2014 Extract pdf text.</li> <li><code>process_uploaded_file(filename, data)</code>   \u2014 Process uploaded file.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesfocus","title":"<code>salmalm.features.focus</code>","text":"<p>Focus Mode \u2014 \uc9d1\uc911 \ubaa8\ub4dc.</p>"},{"location":"api/generated/#class-focussession","title":"<code>class FocusSession</code>","text":"<p>Single focus session data.</p> <ul> <li><code>active()</code>   \u2014 Active.</li> <li><code>duration_seconds()</code>   \u2014 Duration seconds.</li> <li><code>duration_str()</code>   \u2014 Duration str.</li> <li><code>end()</code>   \u2014 End.</li> <li><code>to_dict()</code>   \u2014 To dict.</li> </ul>"},{"location":"api/generated/#class-focusmanager","title":"<code>class FocusManager</code>","text":"<p>\uc9d1\uc911 \ubaa8\ub4dc \uad00\ub9ac\uc790.</p> <ul> <li><code>start(topic, user_id)</code>   \u2014 \uc9d1\uc911 \ubaa8\ub4dc \uc2dc\uc791.</li> <li><code>end(user_id)</code>   \u2014 \uc9d1\uc911 \ubaa8\ub4dc \uc885\ub8cc.</li> <li><code>is_focused(user_id)</code>   \u2014 \ud604\uc7ac \uc9d1\uc911 \ubaa8\ub4dc\uc778\uc9c0.</li> <li><code>get_topic(user_id)</code>   \u2014 \ud604\uc7ac \uc9d1\uc911 \uc8fc\uc81c.</li> <li><code>check_message(message, user_id)</code>   \u2014 \uba54\uc2dc\uc9c0\uac00 \uc8fc\uc81c\uc640 \uad00\ub828 \uc788\ub294\uc9c0 \uccb4\ud06c.</li> <li><code>status(user_id)</code>   \u2014 \ud604\uc7ac \uc0c1\ud0dc.</li> <li> <p><code>history_summary()</code>   \u2014 \uc138\uc158 \ud788\uc2a4\ud1a0\ub9ac.</p> </li> <li> <p><code>get_focus_manager()</code>   \u2014 Get focus manager.</p> </li> <li><code>async handle_focus_command(cmd, session)</code>   \u2014 Handle /focus commands.</li> <li><code>register_focus_commands(command_router)</code>   \u2014 Register /focus command.</li> <li><code>register_focus_tools()</code>   \u2014 Register focus tools.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesfork","title":"<code>salmalm.features.fork</code>","text":"<p>Conversation Fork / Regenerate (\ub300\ud654 \ud3ec\ud06c) \u2014 LibreChat style.</p>"},{"location":"api/generated/#class-conversationfork","title":"<code>class ConversationFork</code>","text":"<p>Manage alternative responses at the same message index.</p> <ul> <li><code>save_alternative(session_id, message_index, content, model, active)</code>   \u2014 Save alternative.</li> <li><code>get_alternatives(session_id, message_index)</code>   \u2014 Get alternatives.</li> <li><code>switch_alternative(session_id, message_index, alt_id)</code>   \u2014 Switch alternative.</li> <li><code>async regenerate(session_id, message_index)</code>   \u2014 Regenerate.</li> </ul>"},{"location":"api/generated/#salmalmfeatureshabits","title":"<code>salmalm.features.habits</code>","text":"<p>Habit Tracker \u2014 \uc77c\uc77c \uc2b5\uad00 \ucd94\uc801\uae30.</p>"},{"location":"api/generated/#class-habittracker","title":"<code>class HabitTracker</code>","text":"<p>\uc2b5\uad00 \ucd94\uc801\uae30.</p> <ul> <li><code>conn()</code>   \u2014 Conn.</li> <li><code>close()</code>   \u2014 Close.</li> <li><code>add_habit(name)</code>   \u2014 \uc2b5\uad00 \ub4f1\ub85d.</li> <li><code>remove_habit(name)</code>   \u2014 \uc2b5\uad00 \uc0ad\uc81c (\ube44\ud65c\uc131\ud654).</li> <li><code>check_habit(name, date)</code>   \u2014 \uc624\ub298 \uc644\ub8cc \ud45c\uc2dc.</li> <li><code>uncheck_habit(name, date)</code>   \u2014 \uc644\ub8cc \ucde8\uc18c.</li> <li><code>get_habits()</code>   \u2014 \ud65c\uc131 \uc2b5\uad00 \ubaa9\ub85d.</li> <li><code>stats(days)</code>   \u2014 \uc8fc\uac04/\uc6d4\uac04 \ud1b5\uacc4 + streak.</li> <li><code>monthly_stats()</code>   \u2014 \uc6d4\uac04 \ud1b5\uacc4.</li> <li> <p><code>remind()</code>   \u2014 \ubbf8\uc644\ub8cc \uc2b5\uad00 \uc54c\ub9bc.</p> </li> <li> <p><code>get_tracker(db_path)</code>   \u2014 Get tracker.</p> </li> <li><code>async handle_habit_command(cmd, session)</code>   \u2014 Handle /habit commands.</li> <li><code>register_habit_commands(command_router)</code>   \u2014 Register /habit command with the command router.</li> <li><code>register_habit_tools()</code>   \u2014 Register habit tools with the tool registry.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesheartbeat","title":"<code>salmalm.features.heartbeat</code>","text":"<p>SalmAlm Heartbeat \u2014 Cache warming for Anthropic prompt caching.</p>"},{"location":"api/generated/#class-cachewarmer","title":"<code>class CacheWarmer</code>","text":"<p>Periodically warm Anthropic prompt cache to prevent TTL expiry.</p> <ul> <li><code>start()</code>   \u2014 Start the cache warming background thread.</li> <li><code>stop()</code>   \u2014 Stop the cache warming thread.</li> <li><code>stats()</code>   \u2014 Stats.</li> </ul>"},{"location":"api/generated/#class-heartbeatmanager_1","title":"<code>class HeartbeatManager</code>","text":"<p>Heartbeat manager with active hours support.</p> <ul> <li><code>reload()</code>   \u2014 Reload.</li> <li><code>config()</code>   \u2014 Config.</li> <li><code>is_active_hours()</code>   \u2014 Check if current time is within active hours.</li> <li> <p><code>should_heartbeat()</code>   \u2014 Check if heartbeat should run now.</p> </li> <li> <p><code>load_cache_config()</code>   \u2014 Load cache config from ~/.salmalm/cache.json.</p> </li> <li><code>save_cache_config(config)</code>   \u2014 Save cache config.</li> </ul>"},{"location":"api/generated/#salmalmfeatureshooks","title":"<code>salmalm.features.hooks</code>","text":"<p>SalmAlm Hooks System \u2014 \uc774\ubca4\ud2b8 \ud6c5 \ub9e4\ub2c8\uc800 (Event Hook Manager).</p>"},{"location":"api/generated/#class-hookmanager","title":"<code>class HookManager</code>","text":"<p>Manages event hooks \u2014 loads config, fires hooks asynchronously.</p> <ul> <li><code>reload()</code>   \u2014 Reload hooks from ~/.salmalm/hooks.json.</li> <li><code>save()</code>   \u2014 Save current hooks config.</li> <li><code>register_plugin_hook(event, callback)</code>   \u2014 Register a plugin callback for an event.</li> <li><code>unregister_plugin_hooks(callbacks)</code>   \u2014 Remove specific plugin callbacks.</li> <li><code>fire(event, context)</code>   \u2014 Fire an event \u2014 runs all registered hooks asynchronously (non-blocking).</li> <li><code>list_hooks()</code>   \u2014 Return all configured hooks.</li> <li><code>test_hook(event)</code>   \u2014 Test-fire a hook event with dummy context.</li> <li><code>add_hook(event, command)</code>   \u2014 Add a command to an event hook.</li> <li><code>remove_hook(event, index)</code>   \u2014 Remove a hook command by event and index.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesjournal","title":"<code>salmalm.features.journal</code>","text":"<p>AI Journal \u2014 AI \uc77c\uc9c0, \uac10\uc815 \ubd84\uc11d, \ud558\ub8e8 \uc694\uc57d.</p>"},{"location":"api/generated/#class-journalmanager","title":"<code>class JournalManager</code>","text":"<p>AI \uc77c\uc9c0 \uad00\ub9ac\uc790.</p> <ul> <li><code>conn()</code>   \u2014 Conn.</li> <li><code>close()</code>   \u2014 Close.</li> <li><code>write(text, date)</code>   \u2014 \uc77c\uc9c0 \uc791\uc131.</li> <li><code>review(date)</code>   \u2014 \ud2b9\uc815 \ub0a0\uc9dc \uc77c\uc9c0 \uc870\ud68c.</li> <li><code>today()</code>   \u2014 \uc624\ub298 \uc77c\uc9c0 \uc870\ud68c.</li> <li><code>generate_today_summary(conversations)</code>   \u2014 \uc624\ub298\uc758 \ub300\ud654 \uae30\ubc18 \uc790\ub3d9 \uc77c\uc9c0 \uc0dd\uc131.</li> <li><code>mood_trend(days)</code>   \u2014 \uac10\uc815 \ud2b8\ub80c\ub4dc \ucc28\ud2b8 (\ud14d\uc2a4\ud2b8 \uae30\ubc18).</li> <li><code>mood_from_mood_py(text)</code>   \u2014 \uae30\uc874 mood.py \uc5f0\ub3d9.</li> <li> <p><code>get_entries_for_date(date)</code>   \u2014 \ud2b9\uc815 \ub0a0\uc9dc \uc5d4\ud2b8\ub9ac (API\uc6a9).</p> </li> <li> <p><code>get_journal(db_path)</code>   \u2014 Get journal.</p> </li> <li><code>async handle_journal_command(cmd, session)</code>   \u2014 Handle /journal commands.</li> <li><code>register_journal_commands(command_router)</code>   \u2014 Register /journal command.</li> <li><code>register_journal_tools()</code>   \u2014 Register journal tools.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesmcp","title":"<code>salmalm.features.mcp</code>","text":""},{"location":"api/generated/#class-mcpserver","title":"<code>class MCPServer</code>","text":"<p>MCP Server that exposes SalmAlm tools via JSON-RPC 2.0.</p> <ul> <li><code>set_tools(tools, executor)</code>   \u2014 Register tools and their executor function.</li> <li><code>async handle_message(msg)</code>   \u2014 Handle a single JSON-RPC message. Returns response or None for notifications.</li> <li><code>async run_stdio()</code>   \u2014 Run MCP server on stdin/stdout (for subprocess transport).</li> </ul>"},{"location":"api/generated/#class-mcpclientconnection","title":"<code>class MCPClientConnection</code>","text":"<p>A connection to a single external MCP server (stdio transport).</p> <ul> <li><code>connect()</code>   \u2014 Start the MCP server subprocess and initialize.</li> <li><code>disconnect()</code>   \u2014 Disconnect from an MCP server.</li> <li><code>tools()</code>   \u2014 List all available tools from connected MCP servers.</li> <li><code>call_tool(name, arguments, timeout)</code>   \u2014 Call a tool on the remote MCP server.</li> <li><code>read_resource(uri)</code>   \u2014 Read a resource from the remote MCP server.</li> </ul>"},{"location":"api/generated/#class-mcpmanager","title":"<code>class MCPManager</code>","text":"<p>Manages multiple MCP client connections + the server instance.</p> <ul> <li><code>server()</code>   \u2014 Get connection info for a specific MCP server.</li> <li><code>add_server(name, command, env, cwd, auto_connect)</code>   \u2014 Add and optionally connect to an external MCP server.</li> <li><code>remove_server(name)</code>   \u2014 Disconnect and remove an MCP server.</li> <li><code>list_servers()</code>   \u2014 List all configured MCP servers and their status.</li> <li><code>get_all_tools()</code>   \u2014 Get all tools from all connected MCP servers (for LLM tool lists).</li> <li><code>call_tool(prefixed_name, arguments)</code>   \u2014 Call an MCP tool by its prefixed name (mcp_servername_toolname).</li> <li><code>save_config()</code>   \u2014 Save server configurations to JSON.</li> <li><code>load_config()</code>   \u2014 Load and auto-connect configured MCP servers.</li> <li><code>shutdown()</code>   \u2014 Disconnect all clients.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesmcp_marketplace","title":"<code>salmalm.features.mcp_marketplace</code>","text":"<p>MCP Marketplace \u2014 catalog, install, manage MCP servers.</p>"},{"location":"api/generated/#class-mcpmarketplace","title":"<code>class MCPMarketplace</code>","text":"<p>Manage MCP server catalog, installation, and lifecycle.</p> <ul> <li><code>install(name, params)</code>   \u2014 Install an MCP server from catalog.</li> <li><code>remove(name)</code>   \u2014 Remove.</li> <li><code>list_installed()</code>   \u2014 List installed.</li> <li><code>catalog()</code>   \u2014 Catalog.</li> <li><code>status()</code>   \u2014 Status.</li> <li><code>search(query)</code>   \u2014 Search.</li> <li><code>auto_connect_all(retries)</code>   \u2014 Connect all installed servers on startup.</li> <li><code>get_catalog_json()</code>   \u2014 Return catalog for /api/mcp/catalog.</li> <li><code>get_installed_json()</code>   \u2014 Return installed list for /api/mcp/installed.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesmesh","title":"<code>salmalm.features.mesh</code>","text":"<p>SalmAlm Mesh \u2014 peer-to-peer networking between SalmAlm instances.</p>"},{"location":"api/generated/#class-meshpeer","title":"<code>class MeshPeer</code>","text":"<p>Represents a remote SalmAlm instance.</p> <ul> <li><code>ping()</code>   \u2014 Check if peer is alive.</li> <li><code>send_task(task, model)</code>   \u2014 Delegate a task to this peer.</li> <li><code>send_clipboard(text)</code>   \u2014 Share clipboard content with peer.</li> <li><code>get_status()</code>   \u2014 Get detailed status from peer.</li> <li><code>to_dict()</code>   \u2014 To dict.</li> </ul>"},{"location":"api/generated/#class-meshmanager","title":"<code>class MeshManager</code>","text":"<p>Manages peer-to-peer SalmAlm mesh network.</p> <ul> <li><code>add_peer(url, name, secret)</code>   \u2014 Add a peer by URL. Returns status message.</li> <li><code>remove_peer(peer_id)</code>   \u2014 Remove a peer.</li> <li><code>list_peers()</code>   \u2014 List all peers with their status.</li> <li><code>ping_all()</code>   \u2014 Ping all peers and return status.</li> <li><code>delegate_task(peer_id, task, model)</code>   \u2014 Send a task to a specific peer for execution.</li> <li><code>broadcast_task(task, model)</code>   \u2014 Send task to all online peers (parallel execution).</li> <li><code>share_clipboard(text)</code>   \u2014 Share clipboard with all online peers.</li> <li><code>get_clipboard()</code>   \u2014 Get the latest shared clipboard content.</li> <li><code>set_clipboard(text)</code>   \u2014 Set clipboard (called when receiving from a peer).</li> <li><code>handle_ping()</code>   \u2014 Handle /api/mesh/ping \u2014 return this instance's info.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesmessage_queue","title":"<code>salmalm.features.message_queue</code>","text":"<p>Message Queue \u2014 OpenClaw-style offline message queue.</p>"},{"location":"api/generated/#class-messagequeue","title":"<code>class MessageQueue</code>","text":"<p>Persistent message queue with retry and dead-letter support.</p> <ul> <li><code>enqueue(session_id, message, priority, model_override, image_data)</code>   \u2014 Add a message to the queue when LLM is unavailable.</li> <li><code>peek()</code>   \u2014 Get the next message without removing it.</li> <li><code>dequeue()</code>   \u2014 Get and mark the next message as processing.</li> <li><code>complete(entry_id, result)</code>   \u2014 Mark a queued message as completed.</li> <li><code>fail(entry_id, error)</code>   \u2014 Mark a message as failed. Retry or move to dead letter.</li> <li><code>set_drain_callback(callback)</code>   \u2014 Set the callback for draining queued messages.</li> <li><code>async drain()</code>   \u2014 Process all queued messages (called when service recovers).</li> <li><code>get_status()</code>   \u2014 Get queue status for /queue command.</li> <li><code>clear()</code>   \u2014 Clear all queued messages. Returns count cleared.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesmodel_detect","title":"<code>salmalm.features.model_detect</code>","text":"<p>Model Auto-Detection (\ubaa8\ub378 \uc790\ub3d9 \uac10\uc9c0) \u2014 Open WebUI style.</p>"},{"location":"api/generated/#class-modeldetector","title":"<code>class ModelDetector</code>","text":"<p>Auto-detect available models from all configured providers.</p> <ul> <li><code>detect_all(force)</code>   \u2014 Detect all.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesmood","title":"<code>salmalm.features.mood</code>","text":"<p>SalmAlm Mood-Aware Response \u2014 detects user emotion and adjusts response tone.</p>"},{"location":"api/generated/#class-mooddetector","title":"<code>class MoodDetector</code>","text":"<p>Detects user mood from text using keywords, patterns, and emoji.</p> <ul> <li><code>enabled()</code>   \u2014 Enabled.</li> <li><code>sensitivity()</code>   \u2014 Sensitivity.</li> <li><code>set_mode(mode)</code>   \u2014 Set mood detection mode: on, off, sensitive.</li> <li><code>detect(text)</code>   \u2014 Detect mood from text. Returns (mood, confidence 0.0-1.0).</li> <li><code>get_tone_injection(mood)</code>   \u2014 Get tone injection string for system prompt.</li> <li><code>record_mood(mood, confidence)</code>   \u2014 Record mood to history.</li> <li><code>get_status(text)</code>   \u2014 Return current mood status.</li> <li><code>generate_report(period)</code>   \u2014 Generate mood report for the given period.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesnodes","title":"<code>salmalm.features.nodes</code>","text":""},{"location":"api/generated/#class-sshnode","title":"<code>class SSHNode</code>","text":"<p>Remote node accessible via SSH.</p> <ul> <li><code>run(command, timeout)</code>   \u2014 Execute command on remote node.</li> <li><code>status()</code>   \u2014 Get node system status (CPU, memory, disk, uptime).</li> <li><code>upload(local_path, remote_path)</code>   \u2014 Upload file via SCP.</li> <li><code>download(remote_path, local_path)</code>   \u2014 Download file via SCP.</li> <li><code>is_reachable()</code>   \u2014 Quick ping check.</li> </ul>"},{"location":"api/generated/#class-httpnode","title":"<code>class HTTPNode</code>","text":"<p>Remote node accessible via HTTP agent protocol.</p> <ul> <li><code>run(command, timeout)</code>   \u2014 Execute a command on a remote node.</li> <li><code>status()</code>   \u2014 Get the status of a remote node.</li> <li><code>upload(local_path, remote_path)</code>   \u2014 Upload via HTTP (base64 in JSON \u2014 for small files).</li> <li><code>is_reachable()</code>   \u2014 Check if a remote node is reachable.</li> </ul>"},{"location":"api/generated/#class-nodemanager","title":"<code>class NodeManager</code>","text":"<p>Manages all remote nodes.</p> <ul> <li><code>load_config()</code>   \u2014 Load nodes from nodes.json.</li> <li><code>save_config()</code>   \u2014 Save node configs to JSON.</li> <li><code>add_ssh_node(name, host, user, port, key)</code>   \u2014 Add an SSH node.</li> <li><code>add_http_node(name, url, token)</code>   \u2014 Add an HTTP agent node.</li> <li><code>remove_node(name)</code>   \u2014 Remove a registered remote node.</li> <li><code>get_node(name)</code>   \u2014 Get configuration for a specific node.</li> <li><code>list_nodes()</code>   \u2014 List all nodes with basic status.</li> <li><code>run_on(name, command, timeout)</code>   \u2014 Execute command on a specific node.</li> <li><code>status_all()</code>   \u2014 Get status of all nodes.</li> <li><code>wake_on_lan(mac_address, broadcast, port)</code>   \u2014 Send Wake-on-LAN magic packet.</li> </ul>"},{"location":"api/generated/#class-gatewayregistry","title":"<code>class GatewayRegistry</code>","text":"<p>Gateway side: manages registered nodes that can execute tools remotely.</p> <ul> <li><code>set_gateway_token(token)</code>   \u2014 Set the gateway authentication token. Nodes must provide this to register.</li> <li><code>register(node_id, url, token, capabilities, name)</code>   \u2014 Register a node with the gateway. Requires auth_token if gateway_token is set.</li> <li><code>heartbeat(node_id)</code>   \u2014 Update node heartbeat timestamp.</li> <li><code>unregister(node_id)</code>   \u2014 Remove a node.</li> <li><code>list_nodes()</code>   \u2014 List all registered nodes with status.</li> <li><code>find_node(tool_name)</code>   \u2014 Find an online node that supports the given tool.</li> <li><code>dispatch(node_id, tool_name, tool_args, timeout)</code>   \u2014 Dispatch a tool call to a specific node with HMAC-signed payloads.</li> <li><code>dispatch_auto(tool_name, tool_args, timeout)</code>   \u2014 Auto-find a node for this tool and dispatch. Returns None if no node available.</li> </ul>"},{"location":"api/generated/#class-nodeagent","title":"<code>class NodeAgent</code>","text":"<p>Node side: lightweight agent that receives and executes tool calls from gateway.</p> <ul> <li><code>register()</code>   \u2014 Register this node with the gateway.</li> <li><code>start_heartbeat(interval)</code>   \u2014 Start background heartbeat to gateway.</li> <li><code>stop()</code>   \u2014 Stop the node manager and close connections.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesplayground","title":"<code>salmalm.features.playground</code>","text":"<p>Code Playground \u2014 \uc548\uc804\ud55c \ucf54\ub4dc \uc2e4\ud589 \ud658\uacbd.</p>"},{"location":"api/generated/#class-codeplayground","title":"<code>class CodePlayground</code>","text":"<p>\uaca9\ub9ac\ub41c \ucf54\ub4dc \uc2e4\ud589 \ud658\uacbd.</p> <ul> <li><code>conn()</code>   \u2014 Conn.</li> <li><code>close()</code>   \u2014 Close.</li> <li><code>run_python(code)</code>   \u2014 Python \ucf54\ub4dc \uc2e4\ud589 (subprocess \uaca9\ub9ac).</li> <li><code>run_js(code)</code>   \u2014 Node.js \ucf54\ub4dc \uc2e4\ud589.</li> <li><code>history(limit)</code>   \u2014 \uc2e4\ud589 \ud788\uc2a4\ud1a0\ub9ac.</li> <li><code>clear_history()</code>   \u2014 \ud788\uc2a4\ud1a0\ub9ac \uc0ad\uc81c.</li> <li> <p><code>format_result(record)</code>   \u2014 \uc2e4\ud589 \uacb0\uacfc \ud3ec\ub9f7.</p> </li> <li> <p><code>get_playground(db_path)</code>   \u2014 Get playground.</p> </li> <li><code>async handle_play_command(cmd, session)</code>   \u2014 Handle /play commands.</li> <li><code>register_play_commands(command_router)</code>   \u2014 Register /play command.</li> <li><code>register_play_tools()</code>   \u2014 Register play tools.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesplugin_manager","title":"<code>salmalm.features.plugin_manager</code>","text":"<p>SalmAlm Plugin Architecture \u2014 \ub514\ub809\ud1a0\ub9ac \uae30\ubc18 \ud50c\ub7ec\uadf8\uc778 \uc2dc\uc2a4\ud15c.</p>"},{"location":"api/generated/#class-plugininfo","title":"<code>class PluginInfo</code>","text":"<p>Metadata and runtime state for a loaded plugin.</p> <ul> <li><code>to_dict()</code>   \u2014 To dict.</li> </ul>"},{"location":"api/generated/#class-pluginmanager","title":"<code>class PluginManager</code>","text":"<p>Manages directory-based plugins with tool registration and hook integration.</p> <ul> <li><code>scan_and_load()</code>   \u2014 Scan ~/SalmAlm/plugins/ and load all valid plugins.</li> <li><code>get_all_tools()</code>   \u2014 Return all tool definitions from enabled plugins.</li> <li><code>list_plugins()</code>   \u2014 Return list of all plugins with their status.</li> <li><code>enable(name)</code>   \u2014 Enable a plugin.</li> <li><code>disable(name)</code>   \u2014 Disable a plugin.</li> <li><code>reload_all()</code>   \u2014 Reload all plugins.</li> </ul>"},{"location":"api/generated/#salmalmfeaturespresence","title":"<code>salmalm.features.presence</code>","text":"<p>SalmAlm Presence System \u2014 Track connected clients.</p>"},{"location":"api/generated/#class-presenceentry","title":"<code>class PresenceEntry</code>","text":"<ul> <li><code>state()</code>   \u2014 State.</li> <li><code>is_expired()</code>   \u2014 Is expired.</li> <li><code>touch()</code>   \u2014 Update last activity and optional fields.</li> <li><code>to_dict()</code>   \u2014 To dict.</li> </ul>"},{"location":"api/generated/#class-presencemanager","title":"<code>class PresenceManager</code>","text":"<p>Track connected client instances with TTL-based expiry.</p> <ul> <li><code>register(instance_id)</code>   \u2014 Register or update a client instance.</li> <li><code>heartbeat(instance_id)</code>   \u2014 Update last activity for a client.</li> <li><code>unregister(instance_id)</code>   \u2014 Unregister.</li> <li><code>get(instance_id)</code>   \u2014 Get.</li> <li><code>list_all(include_expired)</code>   \u2014 List all presence entries.</li> <li><code>count()</code>   \u2014 Count.</li> <li><code>count_by_state()</code>   \u2014 Count by state.</li> <li><code>clear()</code>   \u2014 Clear.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesprompt_vars","title":"<code>salmalm.features.prompt_vars</code>","text":"<p>System Prompt Variables (\uc2dc\uc2a4\ud15c \ud504\ub86c\ud504\ud2b8 \ubcc0\uc218) \u2014 LobeChat style.</p> <ul> <li><code>substitute_prompt_variables(text, session_id, model, user)</code>   \u2014 Substitute prompt variables.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesprovider_health","title":"<code>salmalm.features.provider_health</code>","text":"<p>Provider Health Check (\ud504\ub85c\ubc14\uc774\ub354 \uc0c1\ud0dc \ud655\uc778) \u2014 Open WebUI style.</p>"},{"location":"api/generated/#class-providerhealthcheck","title":"<code>class ProviderHealthCheck</code>","text":"<p>Check health of all configured LLM providers.</p> <ul> <li><code>check_all(force)</code>   \u2014 Check all.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesqueue","title":"<code>salmalm.features.queue</code>","text":"<p>Message Queue \u2014 5 queue modes for message handling during AI processing.</p>"},{"location":"api/generated/#class-queuemode","title":"<code>class QueueMode</code>","text":""},{"location":"api/generated/#class-queuedmessage","title":"<code>class QueuedMessage</code>","text":""},{"location":"api/generated/#class-messagequeue_1","title":"<code>class MessageQueue</code>","text":"<p>Per-session message queue with configurable modes.</p> <ul> <li><code>mode()</code>   \u2014 Mode.</li> <li><code>mode(value)</code>   \u2014 Mode.</li> <li><code>is_processing()</code>   \u2014 Is processing.</li> <li><code>is_processing(value)</code>   \u2014 Is processing.</li> <li><code>cancel_requested()</code>   \u2014 Cancel requested.</li> <li><code>enqueue(text, session_id, user_id)</code>   \u2014 Add message to queue. Returns action dict for the caller.</li> <li><code>drain()</code>   \u2014 Get all queued messages and clear the queue.</li> <li><code>drain_as_context()</code>   \u2014 Drain queue and format as follow-up context string.</li> <li><code>get_backlog()</code>   \u2014 Get and clear the backlog (steer-backlog mode).</li> <li> <p><code>pending_count()</code>   \u2014 Pending count.</p> </li> <li> <p><code>get_queue(session_id, mode)</code>   \u2014 Get or create a message queue for a session.</p> </li> <li><code>set_queue_mode(session_id, mode)</code>   \u2014 Set queue mode for a session. Returns confirmation message.</li> <li><code>queue_status(session_id)</code>   \u2014 Get queue status for a session.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesquick_actions","title":"<code>salmalm.features.quick_actions</code>","text":"<p>Quick Actions \u2014 \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uc791\uc5c5\uc744 \ub2e8\ucd95\ud0a4\ub85c \ub4f1\ub85d.</p>"},{"location":"api/generated/#class-quickactionmanager","title":"<code>class QuickActionManager</code>","text":"<p>\ub2e8\ucd95 \uc561\uc158 \uad00\ub9ac\uc790.</p> <ul> <li><code>conn()</code>   \u2014 Conn.</li> <li><code>close()</code>   \u2014 Close.</li> <li><code>set_dispatcher(dispatcher)</code>   \u2014 Set command dispatcher for executing chains.</li> <li><code>add(name, commands, description)</code>   \u2014 \ub2e8\ucd95 \uc561\uc158 \ub4f1\ub85d.</li> <li><code>remove(name)</code>   \u2014 \uc561\uc158 \uc0ad\uc81c.</li> <li><code>get(name)</code>   \u2014 \uc561\uc158 \uc870\ud68c.</li> <li><code>list_all()</code>   \u2014 \ubaa9\ub85d.</li> <li><code>async run(name, dispatcher)</code>   \u2014 \uc561\uc158 \uc2e4\ud589.</li> <li> <p><code>rename(old_name, new_name)</code>   \u2014 \uc561\uc158 \uc774\ub984 \ubcc0\uacbd.</p> </li> <li> <p><code>get_qa(db_path)</code>   \u2014 Get qa.</p> </li> <li><code>async handle_qa_command(cmd, session)</code>   \u2014 Handle /qa commands.</li> <li><code>register_qa_commands(command_router)</code>   \u2014 Register /qa command.</li> <li><code>register_qa_tools()</code>   \u2014 Register qa tools.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesrag","title":"<code>salmalm.features.rag</code>","text":""},{"location":"api/generated/#class-ragengine","title":"<code>class RAGEngine</code>","text":"<p>Hybrid BM25 + TF-IDF vector retrieval engine with persistent SQLite index.</p> <ul> <li><code>config()</code>   \u2014 Config.</li> <li><code>index_file(label, fpath)</code>   \u2014 Index a single file.</li> <li><code>reindex(force)</code>   \u2014 Rebuild the index from source files.</li> <li><code>search(query, max_results, min_score)</code>   \u2014 Hybrid search (BM25 + Vector). Returns list of {score, source, line, text}.</li> <li><code>build_context(query, max_chars, max_results)</code>   \u2014 Build a context string for RAG injection into LLM prompts.</li> <li><code>get_stats()</code>   \u2014 Return index statistics.</li> <li> <p><code>close()</code>   \u2014 Close the RAG database connection.</p> </li> <li> <p><code>inject_rag_context(messages, system_prompt, max_chars)</code>   \u2014 Analyze recent messages and inject relevant RAG context into system prompt.</p> </li> <li><code>brave_augment_context(query, max_chars)</code>   \u2014 Augment RAG context with Brave LLM Context API when local results are thin.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesrag_embeddings","title":"<code>salmalm.features.rag_embeddings</code>","text":"<p>Embedding-based vector search using AI provider APIs.</p> <ul> <li><code>get_available_provider()</code>   \u2014 Return first available embedding provider or None.</li> <li><code>get_embedding(text, provider, conn)</code>   \u2014 Get embedding for text, using cache if available.</li> <li><code>batch_embed(texts, provider, conn)</code>   \u2014 Batch embed texts. Returns list of (embedding, provider) or None for failures.</li> <li><code>cosine_similarity_vec(a, b)</code>   \u2014 Cosine similarity between two dense float vectors. Pure Python.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesrag_indexer","title":"<code>salmalm.features.rag_indexer</code>","text":"<p>RAG indexing methods mixin.</p>"},{"location":"api/generated/#class-ragindexermixin","title":"<code>class RAGIndexerMixin</code>","text":"<p>Mixin for RAG indexing operations.</p>"},{"location":"api/generated/#salmalmfeaturesrag_utils","title":"<code>salmalm.features.rag_utils</code>","text":"<p>RAG utility functions: tokenization, stemming, similarity.</p> <ul> <li><code>decompose_jamo(text)</code>   \u2014 Decompose Korean syllables into jamo (\ucd08\uc131/\uc911\uc131/\uc885\uc131).</li> <li><code>simple_stem(word)</code>   \u2014 Simple English suffix stripping.</li> <li><code>expand_query(tokens)</code>   \u2014 Expand query tokens with synonyms.</li> <li><code>load_rag_config(config_path)</code>   \u2014 Load rag.json config, falling back to defaults.</li> <li><code>compute_tf(tokens)</code>   \u2014 Compute term frequency vector (normalized).</li> <li><code>cosine_similarity_vec(a, b)</code>   \u2014 Cosine similarity between two dense float vectors. Pure Python, no numpy.</li> <li><code>cosine_similarity(v1, v2)</code>   \u2014 Cosine similarity between two sparse vectors (dict-based).</li> </ul>"},{"location":"api/generated/#salmalmfeaturesscreen_capture","title":"<code>salmalm.features.screen_capture</code>","text":"<p>Screen capture and Computer Use module.</p>"},{"location":"api/generated/#class-screencapture","title":"<code>class ScreenCapture</code>","text":"<p>Platform-aware screen capture using native tools.</p> <ul> <li><code>capture_screen()</code>   \u2014 Capture screen and return PNG bytes.</li> <li><code>ocr_image(image_path)</code>   \u2014 Run OCR on image using tesseract if available.</li> <li><code>image_to_base64(png_bytes)</code>   \u2014 Image to base64.</li> <li><code>capture_and_analyze(llm_func)</code>   \u2014 Capture screen and optionally analyze with LLM Vision.</li> </ul>"},{"location":"api/generated/#class-screenhistory","title":"<code>class ScreenHistory</code>","text":"<p>Manages periodic capture history (Rewind-style).</p> <ul> <li><code>save_capture(png_bytes, ocr_text)</code>   \u2014 Save a capture to history.</li> <li><code>get_history(n)</code>   \u2014 Get most recent N captures.</li> <li><code>search(query)</code>   \u2014 Search captures by OCR text.</li> <li><code>start_watching()</code>   \u2014 Start periodic capture.</li> <li><code>stop_watching()</code>   \u2014 Stop watching.</li> </ul>"},{"location":"api/generated/#class-screenmanager","title":"<code>class ScreenManager</code>","text":"<p>High-level interface for /screen commands.</p> <ul> <li><code>capture(llm_func)</code>   \u2014 Capture.</li> <li><code>watch(toggle)</code>   \u2014 Watch.</li> <li><code>history(n)</code>   \u2014 History.</li> <li><code>search(query)</code>   \u2014 Search.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesself_evolve","title":"<code>salmalm.features.self_evolve</code>","text":"<p>SalmAlm Self-Evolving Prompt \u2014 learns user preferences from conversation patterns.</p>"},{"location":"api/generated/#class-patternanalyzer","title":"<code>class PatternAnalyzer</code>","text":"<p>Analyzes conversation patterns using pure Python heuristics.</p> <ul> <li><code>analyze_length_preference(messages)</code>   \u2014 Analyze if user prefers concise or detailed responses.</li> <li><code>analyze_time_patterns(messages)</code>   \u2014 Analyze conversation tone by time of day.</li> <li><code>analyze_topic_frequency(messages)</code>   \u2014 Count topic categories from messages.</li> <li><code>analyze_language_ratio(messages)</code>   \u2014 Analyze Korean vs English ratio. 0.0=all EN, 1.0=all KR.</li> <li><code>analyze_feedback_signals(messages)</code>   \u2014 Detect positive/negative feedback patterns.</li> <li><code>analyze_code_comment_preference(messages)</code>   \u2014 Detect if user prefers or dislikes code comments.</li> </ul>"},{"location":"api/generated/#class-promptevolver","title":"<code>class PromptEvolver</code>","text":"<p>Learns user preferences and evolves the system prompt over time.</p> <ul> <li><code>record_conversation(messages)</code>   \u2014 Record a conversation for pattern analysis.</li> <li><code>should_suggest_evolution()</code>   \u2014 Check if we should suggest evolving SOUL.md.</li> <li><code>generate_rules()</code>   \u2014 Generate auto-evolution rules from learned preferences.</li> <li><code>apply_to_soul(soul_path)</code>   \u2014 Apply auto-evolved rules to SOUL.md. Returns status message.</li> <li><code>get_status()</code>   \u2014 Return current evolution status.</li> <li><code>get_history()</code>   \u2014 Return evolution history.</li> <li><code>reset()</code>   \u2014 Reset all evolution data.</li> </ul>"},{"location":"api/generated/#salmalmfeaturessession_groups","title":"<code>salmalm.features.session_groups</code>","text":"<p>Session Groups (\ub300\ud654 \uc8fc\uc81c \uadf8\ub8f9) \u2014 LobeChat style.</p>"},{"location":"api/generated/#class-sessiongroupmanager","title":"<code>class SessionGroupManager</code>","text":"<p>Manage session groups/folders for organizing conversations.</p> <ul> <li><code>list_groups()</code>   \u2014 List groups.</li> <li><code>create_group(name, color)</code>   \u2014 Create group.</li> <li><code>update_group(group_id)</code>   \u2014 Update group.</li> <li><code>delete_group(group_id)</code>   \u2014 Delete group.</li> <li><code>move_session(session_id, group_id)</code>   \u2014 Move session.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesshadow","title":"<code>salmalm.features.shadow</code>","text":"<p>SalmAlm Shadow Mode \u2014 learn user style and proxy-reply when absent.</p>"},{"location":"api/generated/#class-shadowmode","title":"<code>class ShadowMode</code>","text":"<p>Learn user messaging style and generate proxy replies when absent.</p> <ul> <li><code>learn(messages)</code>   \u2014 Analyse user messages and build a style profile.</li> <li><code>build_proxy_prompt(incoming_message)</code>   \u2014 Build an LLM system prompt that mimics the user's style.</li> <li><code>generate_proxy_response(incoming_message, confidence)</code>   \u2014 Generate a proxy response. If confidence is below threshold, return a polite away message.</li> <li><code>should_proxy()</code>   \u2014 Return True if shadow mode is active and profile exists.</li> <li><code>handle_command(args, session_messages)</code>   \u2014 Handle /shadow subcommands. Returns response text.</li> </ul>"},{"location":"api/generated/#salmalmfeaturessla","title":"<code>salmalm.features.sla</code>","text":"<p>SalmAlm SLA Engine \u2014 Uptime monitoring, latency tracking, watchdog.</p>"},{"location":"api/generated/#class-slaconfig","title":"<code>class SLAConfig</code>","text":"<p>Runtime-reloadable SLA configuration from ~/.salmalm/sla.json.</p> <ul> <li><code>load()</code>   \u2014 Load config from disk. Creates default if missing.</li> <li><code>save()</code>   \u2014 Write current config to disk.</li> <li><code>get(key, default)</code>   \u2014 Get.</li> <li><code>set(key, value)</code>   \u2014 Set.</li> <li><code>get_all()</code>   \u2014 Get all.</li> <li><code>update(data)</code>   \u2014 Update.</li> </ul>"},{"location":"api/generated/#class-uptimemonitor","title":"<code>class UptimeMonitor</code>","text":"<p>Track server uptime, detect crashes, log downtime events.</p> <ul> <li><code>init_db()</code>   \u2014 Create uptime_log table if not exists.</li> <li><code>on_startup()</code>   \u2014 Called at server startup: check lockfile, record crash if needed.</li> <li><code>on_shutdown()</code>   \u2014 Called on graceful shutdown: remove lockfile.</li> <li><code>record_downtime(start, end, duration, reason)</code>   \u2014 Manually record a downtime event.</li> <li><code>get_uptime_seconds()</code>   \u2014 Get uptime seconds.</li> <li><code>get_uptime_human()</code>   \u2014 Get uptime human.</li> <li><code>get_monthly_uptime_pct(year, month)</code>   \u2014 Calculate uptime percentage for a given month.</li> <li><code>get_daily_uptime_pct(date_str)</code>   \u2014 Calculate uptime percentage for a given day.</li> <li><code>get_recent_incidents(limit)</code>   \u2014 Get recent downtime incidents.</li> <li><code>get_stats()</code>   \u2014 Full uptime stats for API/dashboard.</li> </ul>"},{"location":"api/generated/#class-latencytracker","title":"<code>class LatencyTracker</code>","text":"<p>Track TTFT and total response time with ring buffer.</p> <ul> <li><code>record(ttft_ms, total_ms, model, timed_out, session_id)</code>   \u2014 Record a single request's latency.</li> <li><code>should_failover()</code>   \u2014 Check if consecutive timeouts warrant a model failover.</li> <li><code>reset_timeout_counter()</code>   \u2014 Reset timeout counter.</li> <li><code>get_stats()</code>   \u2014 Get latency statistics: P50/P95/P99 + histogram.</li> </ul>"},{"location":"api/generated/#class-watchdog","title":"<code>class Watchdog</code>","text":"<p>Background watchdog: periodic self-diagnosis + auto-recovery.</p> <ul> <li><code>start()</code>   \u2014 Start watchdog background thread.</li> <li><code>stop()</code>   \u2014 Stop watchdog.</li> <li><code>get_last_report()</code>   \u2014 Get the most recent watchdog report.</li> <li><code>get_detailed_health()</code>   \u2014 Detailed health report for /health detail command.</li> </ul>"},{"location":"api/generated/#salmalmfeaturessmart_paste","title":"<code>salmalm.features.smart_paste</code>","text":"<p>Smart Paste (\uc2a4\ub9c8\ud2b8 \ubd99\uc5ec\ub123\uae30) \u2014 BIG-AGI style.</p> <ul> <li><code>detect_paste_type(text)</code>   \u2014 Detect paste type.</li> </ul>"},{"location":"api/generated/#salmalmfeaturessplit_response","title":"<code>salmalm.features.split_response</code>","text":"<p>SalmAlm A/B Split Response \u2014 dual-perspective answers.</p>"},{"location":"api/generated/#class-splitresponder","title":"<code>class SplitResponder</code>","text":"<p>Generate dual-perspective responses for a single question.</p> <ul> <li><code>available_modes()</code>   \u2014 Available modes.</li> <li><code>should_suggest_split(text)</code>   \u2014 Check if the text contains patterns suggesting a split response.</li> <li><code>set_custom(label_a, label_b, prompt_a, prompt_b)</code>   \u2014 Set custom.</li> <li><code>async generate(question, mode)</code>   \u2014 Generate split responses. Returns dict with responses and metadata.</li> <li><code>format_result(result)</code>   \u2014 Format split result for display.</li> <li><code>format_buttons()</code>   \u2014 Return inline button descriptors.</li> <li><code>suggest_button()</code>   \u2014 Return a 'suggest split' inline button descriptor.</li> <li><code>async merge(result)</code>   \u2014 Merge two perspectives into a combined response.</li> <li><code>async continue_with(result, choice, follow_up)</code>   \u2014 Continue conversation with the chosen perspective.</li> <li><code>handle_command(args)</code>   \u2014 Handle /split subcommands (sync wrapper). Returns text.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesstability","title":"<code>salmalm.features.stability</code>","text":""},{"location":"api/generated/#class-circuitbreaker","title":"<code>class CircuitBreaker</code>","text":"<p>Track error rates per component. Trip after threshold.</p> <ul> <li><code>record_error(component, error)</code>   \u2014 Record an error for a component.</li> <li><code>record_success(component)</code>   \u2014 Record successful operation \u2014 helps reset breaker.</li> <li><code>is_tripped(component)</code>   \u2014 Check if circuit breaker is open (too many errors).</li> <li><code>get_status()</code>   \u2014 Get all component statuses.</li> </ul>"},{"location":"api/generated/#class-healthmonitor","title":"<code>class HealthMonitor</code>","text":"<p>Comprehensive health monitoring and auto-recovery.</p> <ul> <li><code>check_health()</code>   \u2014 Run comprehensive health check. Returns health report.</li> <li><code>async auto_recover()</code>   \u2014 Attempt to recover crashed components.</li> <li> <p><code>startup_selftest()</code>   \u2014 Run self-test on startup to verify all modules.</p> </li> <li> <p><code>async watchdog_tick(monitor)</code>   \u2014 Periodic watchdog check \u2014 run via cron every 5 minutes.</p> </li> </ul>"},{"location":"api/generated/#salmalmfeaturesstt","title":"<code>salmalm.features.stt</code>","text":"<p>STT (Speech-to-Text) Manager \u2014 voice input via Web Speech API and OpenAI Whisper.</p>"},{"location":"api/generated/#class-sttmanager","title":"<code>class STTManager</code>","text":"<p>Speech-to-text manager supporting Web Speech API and OpenAI Whisper.</p> <ul> <li><code>enabled()</code>   \u2014 Enabled.</li> <li><code>web_enabled()</code>   \u2014 Web enabled.</li> <li><code>telegram_voice()</code>   \u2014 Telegram voice.</li> <li><code>get_web_js()</code>   \u2014 Return JavaScript snippet for Web Speech API integration.</li> <li><code>transcribe(audio_data, filename, content_type)</code>   \u2014 Transcribe audio using OpenAI Whisper API. Returns text or error.</li> <li><code>handle_telegram_voice(file_data, file_name)</code>   \u2014 Process a Telegram voice message. Returns transcribed text or None.</li> </ul>"},{"location":"api/generated/#salmalmfeaturessubagents","title":"<code>salmalm.features.subagents</code>","text":"<p>Sub-agent system: spawn isolated AI workers for parallel tasks.</p>"},{"location":"api/generated/#class-subagenttask","title":"<code>class SubAgentTask</code>","text":"<p>A sub-agent task definition.</p> <ul> <li><code>elapsed_s()</code>   \u2014 Elapsed s.</li> <li><code>to_dict()</code>   \u2014 To dict.</li> </ul>"},{"location":"api/generated/#class-subagentmanager","title":"<code>class SubAgentManager</code>","text":"<p>Manages sub-agent lifecycle: spawn, monitor, kill, collect results.</p> <ul> <li><code>spawn(description, model, thinking_level, label, max_turns)</code>   \u2014 Spawn a new sub-agent task.</li> <li><code>list_tasks(include_completed)</code>   \u2014 List all tasks.</li> <li><code>get_task(task_id)</code>   \u2014 Get task by ID.</li> <li><code>kill(task_id)</code>   \u2014 Kill a running sub-agent.</li> <li><code>kill_all()</code>   \u2014 Kill all running sub-agents.</li> <li><code>steer(task_id, message)</code>   \u2014 Send a steering message to a running or completed sub-agent.</li> <li><code>collect_results(parent_session)</code>   \u2014 Collect all completed results for a parent session (OpenClaw push-style).</li> </ul>"},{"location":"api/generated/#salmalmfeaturessummary_card","title":"<code>salmalm.features.summary_card</code>","text":"<p>Conversation Summary Card (\ub300\ud654 \uc694\uc57d \uce74\ub4dc) \u2014 BIG-AGI style.</p> <ul> <li><code>get_summary_card(session_id)</code>   \u2014 Get summary card.</li> </ul>"},{"location":"api/generated/#salmalmfeaturestemplates_chat","title":"<code>salmalm.features.templates_chat</code>","text":"<p>Conversation Templates \u2014 predefined chat templates with system prompts.</p>"},{"location":"api/generated/#class-template","title":"<code>class Template</code>","text":"<p>Chat template.</p> <ul> <li><code>to_dict()</code>   \u2014 To dict.</li> <li><code>from_dict(cls, d)</code>   \u2014 From dict.</li> <li><code>to_yaml()</code>   \u2014 Serialize to simple YAML-like format.</li> </ul>"},{"location":"api/generated/#class-templatemanager","title":"<code>class TemplateManager</code>","text":"<p>Manage conversation templates.</p> <ul> <li><code>list_templates()</code>   \u2014 List templates.</li> <li><code>get(name)</code>   \u2014 Get.</li> <li><code>use(name)</code>   \u2014 Activate a template. Returns template or None.</li> <li><code>active()</code>   \u2014 Active.</li> <li><code>deactivate()</code>   \u2014 Deactivate.</li> <li><code>create(name, system_prompt, description, tools, tags)</code>   \u2014 Create and save a custom template.</li> <li> <p><code>remove(name)</code>   \u2014 Remove.</p> </li> <li> <p><code>handle_template_command(cmd, session)</code>   \u2014 Handle /template list|use|create.</p> </li> <li><code>register_commands(router)</code>   \u2014 Register /template commands.</li> <li><code>register_tools(registry_module)</code>   \u2014 Register template tools.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesthoughts","title":"<code>salmalm.features.thoughts</code>","text":"<p>SalmAlm Thought Stream \u2014 quick thought capture with SQLite storage and RAG integration.</p>"},{"location":"api/generated/#class-thoughtstream","title":"<code>class ThoughtStream</code>","text":"<p>Quick thought capture with SQLite storage.</p> <ul> <li><code>add(content, mood)</code>   \u2014 Add a thought. Returns the thought ID.</li> <li><code>list_recent(n)</code>   \u2014 List most recent N thoughts.</li> <li><code>search(query)</code>   \u2014 Search thoughts using RAG or simple LIKE.</li> <li><code>by_tag(tag)</code>   \u2014 Filter thoughts by tag.</li> <li><code>timeline(date_str)</code>   \u2014 Get thoughts for a specific date (YYYY-MM-DD). Defaults to today.</li> <li><code>stats()</code>   \u2014 Get thought statistics.</li> <li><code>export_markdown()</code>   \u2014 Export all thoughts as Markdown.</li> <li><code>delete(thought_id)</code>   \u2014 Delete a thought by ID.</li> </ul>"},{"location":"api/generated/#salmalmfeaturestimecapsule","title":"<code>salmalm.features.timecapsule</code>","text":"<p>Time Capsule \u2014 schedule messages to your future self.</p>"},{"location":"api/generated/#class-timecapsule","title":"<code>class TimeCapsule</code>","text":"<p>Manages time capsules stored in SQLite.</p> <ul> <li><code>create(date_text, message, channel)</code>   \u2014 Create a new time capsule.</li> <li><code>list_pending()</code>   \u2014 List capsules not yet delivered.</li> <li><code>list_delivered()</code>   \u2014 List already delivered capsules.</li> <li><code>peek(capsule_id)</code>   \u2014 Peek at a capsule (spoiler warning).</li> <li><code>cancel(capsule_id)</code>   \u2014 Cancel (delete) a pending capsule.</li> <li><code>get_due_capsules(today)</code>   \u2014 Get capsules due for delivery today.</li> <li><code>mark_delivered(capsule_id)</code>   \u2014 Mark a capsule as delivered.</li> <li><code>deliver_due(send_fn, today)</code>   \u2014 Deliver all due capsules. Returns list of delivery results.</li> <li><code>handle_command(args, channel)</code>   \u2014 Handle /capsule subcommands.</li> </ul>"},{"location":"api/generated/#salmalmfeaturestranscript_hygiene","title":"<code>salmalm.features.transcript_hygiene</code>","text":"<p>Transcript Hygiene \u2014 provider-specific session history sanitization.</p>"},{"location":"api/generated/#class-transcripthygiene","title":"<code>class TranscriptHygiene</code>","text":"<p>Clean conversation history per provider rules before LLM API calls.</p> <ul> <li><code>clean(messages)</code>   \u2014 Return a sanitized copy of messages. Original is never modified.</li> </ul>"},{"location":"api/generated/#salmalmfeaturestray","title":"<code>salmalm.features.tray</code>","text":"<p>Windows System Tray for SalmAlm \u2014 pure ctypes implementation.</p> <ul> <li><code>is_windows()</code>   \u2014 Is windows.</li> <li><code>run_tray(port)</code>   \u2014 Run SalmAlm with system tray icon (Windows only).</li> </ul>"},{"location":"api/generated/#salmalmfeaturesusage","title":"<code>salmalm.features.usage</code>","text":"<p>Token Usage Tracking (\uc0ac\uc6a9\ub7c9 \ucd94\uc801) \u2014 LibreChat style.</p>"},{"location":"api/generated/#class-usagetracker","title":"<code>class UsageTracker</code>","text":"<p>Per-user, per-model token usage tracking with daily/monthly reports.</p> <ul> <li><code>record(session_id, model, input_tokens, output_tokens, cost)</code>   \u2014 Record.</li> <li><code>daily_report(days)</code>   \u2014 Daily report.</li> <li><code>monthly_report(months)</code>   \u2014 Monthly report.</li> <li><code>model_breakdown()</code>   \u2014 Model breakdown.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesusers","title":"<code>salmalm.features.users</code>","text":"<p>SalmAlm Users \u2014 Multi-tenant user management, quotas, per-user isolation.</p>"},{"location":"api/generated/#class-quotaexceeded","title":"<code>class QuotaExceeded</code>","text":"<p>Raised when a user exceeds their daily or monthly cost quota.</p>"},{"location":"api/generated/#class-usermanager","title":"<code>class UserManager</code>","text":"<p>Multi-tenant user manager with quotas and data isolation.</p> <ul> <li><code>multi_tenant_enabled()</code>   \u2014 Check if multi-tenant mode is enabled.</li> <li><code>enable_multi_tenant(enabled)</code>   \u2014 Enable or disable multi-tenant mode.</li> <li><code>get_config(key, default)</code>   \u2014 Get a multi-tenant config value.</li> <li><code>set_config(key, value)</code>   \u2014 Set a multi-tenant config value.</li> <li><code>ensure_quota(user_id)</code>   \u2014 Create quota record for user if it doesn't exist.</li> <li><code>check_quota(user_id)</code>   \u2014 Check if user is within quota. Returns quota info.</li> <li><code>record_cost(user_id, cost)</code>   \u2014 Record cost against user quota.</li> <li><code>set_quota(user_id, daily_limit, monthly_limit)</code>   \u2014 Set quota limits for a user (admin only).</li> <li><code>get_quota(user_id)</code>   \u2014 Get quota info for a user.</li> <li><code>reset_all_daily_quotas()</code>   \u2014 Reset all users' daily quotas. Called at midnight.</li> </ul>"},{"location":"api/generated/#salmalmfeaturesvault_chat","title":"<code>salmalm.features.vault_chat</code>","text":"<p>Encrypted Vault Chat \u2014 AES-256-GCM encrypted conversation store.</p>"},{"location":"api/generated/#class-vaultchat","title":"<code>class VaultChat</code>","text":"<p>Encrypted vault for private notes and conversations.</p> <ul> <li><code>is_setup()</code>   \u2014 Check if vault has been set up (meta file exists).</li> <li><code>setup(password)</code>   \u2014 Initial vault setup \u2014 create password hash and empty encrypted DB.</li> <li><code>change_password(old_password, new_password)</code>   \u2014 Change vault password.</li> <li><code>open(password)</code>   \u2014 Unlock the vault.</li> <li><code>close()</code>   \u2014 Lock the vault \u2014 flush to disk and wipe key from memory.</li> <li><code>is_open()</code>   \u2014 Is open.</li> <li><code>vault_note(content, category)</code>   \u2014 Add a note to the vault.</li> <li><code>vault_list(category, limit)</code>   \u2014 List vault entries.</li> <li><code>vault_search(query)</code>   \u2014 Search vault entries.</li> <li><code>vault_delete(entry_id)</code>   \u2014 Delete a vault entry.</li> </ul>"},{"location":"api/generated/#salmalmfeatureswatcher","title":"<code>salmalm.features.watcher</code>","text":"<p>File Watcher + Auto-Index \u2014 polling-based file change detection with RAG re-indexing.</p>"},{"location":"api/generated/#class-filewatcher","title":"<code>class FileWatcher</code>","text":"<p>Polling-based file watcher that detects created/modified/deleted files.</p> <ul> <li><code>start()</code>   \u2014 Start watching in a background thread.</li> <li><code>stop()</code>   \u2014 Stop the watcher.</li> <li><code>running()</code>   \u2014 Running.</li> <li><code>get_watched_files()</code>   \u2014 Return current tracked files and their mtimes.</li> </ul>"},{"location":"api/generated/#class-ragfilewatcher","title":"<code>class RAGFileWatcher</code>","text":"<p>FileWatcher that triggers RAG re-indexing on file changes.</p>"},{"location":"api/generated/#salmalmfeaturesweb_clip","title":"<code>salmalm.features.web_clip</code>","text":"<p>Web Clipboard \u2014 clip URLs, extract content, search clips.</p>"},{"location":"api/generated/#class-_tagstripper","title":"<code>class _TagStripper</code>","text":"<p>Simple HTML tag stripper with readability heuristics.</p> <ul> <li><code>handle_starttag(tag, attrs)</code>   \u2014 Handle starttag.</li> <li><code>handle_endtag(tag)</code>   \u2014 Handle endtag.</li> <li><code>handle_data(data)</code>   \u2014 Handle data.</li> <li><code>get_text()</code>   \u2014 Get text.</li> <li><code>get_title()</code>   \u2014 Get title.</li> </ul>"},{"location":"api/generated/#class-webclip","title":"<code>class WebClip</code>","text":"<p>A saved web clip.</p> <ul> <li><code>to_dict()</code>   \u2014 To dict.</li> <li><code>from_dict(cls, d)</code>   \u2014 From dict.</li> </ul>"},{"location":"api/generated/#class-clipmanager","title":"<code>class ClipManager</code>","text":"<p>Manage web clips.</p> <ul> <li><code>clip_url(url)</code>   \u2014 Fetch, extract, and save a URL.</li> <li><code>add_clip(url, title, content)</code>   \u2014 Manually add a clip without fetching.</li> <li><code>get(clip_id)</code>   \u2014 Get.</li> <li><code>list_all(limit)</code>   \u2014 List all.</li> <li><code>search(query)</code>   \u2014 Simple keyword search across clips.</li> <li><code>remove(clip_id)</code>   \u2014 Remove.</li> <li> <p><code>count()</code>   \u2014 Count.</p> </li> <li> <p><code>extract_readable(html_text)</code>   \u2014 Extract readable text and title from HTML.</p> </li> <li><code>fetch_url(url, timeout)</code>   \u2014 Fetch URL content. Returns HTML string.</li> <li><code>handle_clip_command(cmd, session)</code>   \u2014 Handle /clip  | /clip search  | /clip list. <li><code>register_commands(router)</code>   \u2014 Register /clip commands.</li> <li><code>register_tools(registry_module)</code>   \u2014 Register web clip tools.</li>"},{"location":"api/generated/#salmalmfeaturesworkflow","title":"<code>salmalm.features.workflow</code>","text":"<p>Workflow Engine \u2014 multi-step automation pipelines with variable substitution.</p>"},{"location":"api/generated/#class-stepresult","title":"<code>class StepResult</code>","text":"<ul> <li><code>to_dict()</code>   \u2014 To dict.</li> </ul>"},{"location":"api/generated/#class-workflowengine","title":"<code>class WorkflowEngine</code>","text":"<p>Execute multi-step workflows with variable substitution.</p> <ul> <li><code>list_workflows()</code>   \u2014 List workflows.</li> <li><code>get_workflow(name)</code>   \u2014 Get workflow.</li> <li><code>save_workflow(workflow)</code>   \u2014 Save workflow.</li> <li><code>delete_workflow(name)</code>   \u2014 Delete workflow.</li> <li><code>run(name)</code>   \u2014 Run.</li> <li><code>execute(workflow)</code>   \u2014 Execute.</li> <li><code>get_logs(name, limit)</code>   \u2014 Get logs.</li> <li><code>get_presets()</code>   \u2014 Get presets.</li> <li> <p><code>install_preset(name)</code>   \u2014 Install preset.</p> </li> <li> <p><code>handle_workflow_command(text)</code>   \u2014 Handle workflow command.</p> </li> </ul>"},{"location":"api/generated/#channels-channels-telegram-discord","title":"channels/ \u2014 Channels \u2014 Telegram, Discord / \ucc44\ub110 \u2014 \ud154\ub808\uadf8\ub7a8, \ub514\uc2a4\ucf54\ub4dc","text":""},{"location":"api/generated/#salmalmchannelschannel_router","title":"<code>salmalm.channels.channel_router</code>","text":"<p>SalmAlm Channel Router \u2014 Multi-channel message routing.</p>"},{"location":"api/generated/#class-channelrouter","title":"<code>class ChannelRouter</code>","text":"<p>Routes messages between multiple channels and the agent engine.</p> <ul> <li><code>register(name)</code>   \u2014 Register a channel for routing.</li> <li><code>unregister(name)</code>   \u2014 Unregister.</li> <li><code>set_handler(channel, handler)</code>   \u2014 Set inbound message handler for a channel.</li> <li><code>get_handler(channel)</code>   \u2014 Get handler.</li> <li><code>channels()</code>   \u2014 Channels.</li> <li><code>is_enabled(name)</code>   \u2014 Is enabled.</li> <li><code>route_outbound(channel, is_group)</code>   \u2014 Send a message through the specified channel.</li> <li><code>async route_inbound(channel, message, process_fn)</code>   \u2014 Route an inbound message from a channel to the agent, return response.</li> <li><code>list_channels()</code>   \u2014 List all registered channels with status.</li> <li> <p><code>save_config()</code>   \u2014 Persist current channel config.</p> </li> <li> <p><code>format_for_channel(text, channel)</code>   \u2014 Format text according to channel-specific rules.</p> </li> </ul>"},{"location":"api/generated/#salmalmchannelsdiscord_bot","title":"<code>salmalm.channels.discord_bot</code>","text":"<p>SalmAlm Discord Bot \u2014 Discord Gateway + HTTP API.</p>"},{"location":"api/generated/#class-discordbot","title":"<code>class DiscordBot</code>","text":"<p>Minimal Discord bot using Gateway WebSocket + REST API.</p> <ul> <li><code>configure(token, owner_id)</code>   \u2014 Configure the Discord bot with token and channel settings.</li> <li><code>on_message(func)</code>   \u2014 Decorator to register message handler.</li> <li><code>send_message(channel_id, content, reply_to)</code>   \u2014 Send a message to a channel, splitting if over 2000 chars.</li> <li><code>send_typing(channel_id)</code>   \u2014 Send typing indicator.</li> <li><code>start_typing_loop(channel_id)</code>   \u2014 Start a continuous typing indicator loop (refreshes every 8s).</li> <li><code>add_reaction(channel_id, message_id, emoji)</code>   \u2014 Add an emoji reaction to a Discord message.</li> <li><code>remove_reaction(channel_id, message_id, emoji)</code>   \u2014 Remove bot's own reaction from a Discord message.</li> <li><code>async poll()</code>   \u2014 Main gateway loop \u2014 uses websockets lib if available, raw SSL otherwise.</li> <li><code>stop()</code>   \u2014 Stop the Discord bot.</li> </ul>"},{"location":"api/generated/#salmalmchannelsslack_bot","title":"<code>salmalm.channels.slack_bot</code>","text":"<p>SalmAlm Slack Bot \u2014 Pure stdlib Slack integration.</p>"},{"location":"api/generated/#class-slackbot","title":"<code>class SlackBot</code>","text":"<p>Minimal Slack bot using Event API (webhook) + Web API (urllib).</p> <ul> <li><code>configure(bot_token, signing_secret)</code>   \u2014 Configure the Slack bot.</li> <li><code>on_message(func)</code>   \u2014 Register message handler.</li> <li><code>send_message(channel, text)</code>   \u2014 Send a message to a Slack channel.</li> <li><code>add_reaction(channel, timestamp, emoji)</code>   \u2014 Add an emoji reaction to a message.</li> <li><code>get_bot_info()</code>   \u2014 Fetch bot user info.</li> <li><code>verify_request(timestamp, signature, body)</code>   \u2014 Verify Slack request signature.</li> <li><code>handle_event(payload)</code>   \u2014 Handle an incoming Slack event.</li> <li><code>update_message(channel, ts, text)</code>   \u2014 Update an existing message.</li> <li><code>delete_message(channel, ts)</code>   \u2014 Delete a message.</li> </ul>"},{"location":"api/generated/#salmalmchannelstelegram","title":"<code>salmalm.channels.telegram</code>","text":"<p>SalmAlm Telegram bot.</p>"},{"location":"api/generated/#class-telegrambot","title":"<code>class TelegramBot</code>","text":"<ul> <li><code>configure(token, owner_id)</code>   \u2014 Configure the Telegram bot with token and owner chat ID.</li> <li><code>ack_reaction(chat_id, message_id)</code>   \u2014 Send ack reaction (\ud83d\udc40) while processing \u2014 OpenClaw-style.</li> <li><code>clear_reaction(chat_id, message_id)</code>   \u2014 Clear reaction after processing completes.</li> <li><code>set_message_reaction(chat_id, message_id, emoji)</code>   \u2014 React to a message with an emoji via setMessageReaction API.</li> <li><code>send_message(chat_id, text, parse_mode, reply_markup, message_thread_id)</code>   \u2014 Send a text message to a Telegram chat, with optional inline keyboard.</li> <li><code>send_typing(chat_id)</code>   \u2014 Send a typing indicator to a Telegram chat.</li> <li><code>edit_message(chat_id, message_id, text, parse_mode)</code>   \u2014 Edit an existing Telegram message.</li> <li><code>set_webhook(url)</code>   \u2014 Set Telegram webhook. Generates a secret_token for request verification.</li> <li><code>delete_webhook()</code>   \u2014 Delete Telegram webhook and return to polling mode.</li> <li><code>verify_webhook_request(secret_token)</code>   \u2014 Verify the X-Telegram-Bot-Api-Secret-Token header.</li> </ul>"},{"location":"api/generated/#salmalmchannelstelegram_commands","title":"<code>salmalm.channels.telegram_commands</code>","text":"<p>Telegram command handler \u2014 extracted from TelegramBot._handle_command.</p>"},{"location":"api/generated/#class-telegramcommandsmixin","title":"<code>class TelegramCommandsMixin</code>","text":"<p>Mixin for /command handling in Telegram bot.</p>"},{"location":"api/generated/#salmalmchannelstelegram_media","title":"<code>salmalm.channels.telegram_media</code>","text":"<p>Telegram media handling mixin.</p>"},{"location":"api/generated/#class-telegrammediamixin","title":"<code>class TelegramMediaMixin</code>","text":"<p>Mixin for media extraction and TTS.</p>"},{"location":"api/generated/#security-security-crypto-sandbox","title":"security/ \u2014 Security \u2014 Crypto, Sandbox / \ubcf4\uc548 \u2014 \uc554\ud638\ud654, \uc0cc\ub4dc\ubc15\uc2a4","text":""},{"location":"api/generated/#salmalmsecuritycontainer","title":"<code>salmalm.security.container</code>","text":"<p>SalmAlm DI Container \u2014 Lightweight service registry.</p>"},{"location":"api/generated/#class-container","title":"<code>class Container</code>","text":"<p>Lightweight DI container with lazy initialization.</p> <ul> <li><code>register(name, factory)</code>   \u2014 Register a lazy factory for a service.</li> <li><code>set(name, instance)</code>   \u2014 Set an already-created service instance.</li> <li><code>get(name)</code>   \u2014 Get a service, creating it lazily if needed.</li> <li><code>replace(name, instance)</code>   \u2014 Replace a service (for testing). Returns old instance.</li> <li><code>has(name)</code>   \u2014 Check if a service is registered.</li> <li><code>reset()</code>   \u2014 Clear all services (for testing).</li> <li><code>vault()</code>   \u2014 Get the Vault service instance.</li> <li><code>router()</code>   \u2014 Get the ModelRouter service instance.</li> <li><code>auth_manager()</code>   \u2014 Get the AuthManager service instance.</li> <li><code>rate_limiter()</code>   \u2014 Get the RateLimiter service instance.</li> </ul>"},{"location":"api/generated/#salmalmsecuritycrypto","title":"<code>salmalm.security.crypto</code>","text":"<p>SalmAlm crypto \u2014 AES-256-GCM vault with HMAC-CTR fallback.</p>"},{"location":"api/generated/#class-vault","title":"<code>class Vault</code>","text":"<p>Encrypted key-value store for API keys and secrets.</p> <ul> <li><code>is_unlocked()</code>   \u2014 Whether the vault has been unlocked with a valid password.</li> <li><code>create(password, save_to_keychain, force)</code>   \u2014 Create a new vault with the given master password.</li> <li><code>try_keychain_unlock()</code>   \u2014 Attempt to unlock vault using OS keychain. Returns True on success.</li> <li><code>unlock(password, save_to_keychain)</code>   \u2014 Unlock an existing vault. Returns True on success.</li> <li><code>get(key, default)</code>   \u2014 Get a stored value. Falls back to environment variable if not in vault.</li> <li><code>set(key, value)</code>   \u2014 Store a value (triggers re-encryption).</li> <li><code>delete(key)</code>   \u2014 Delete a key.</li> <li><code>change_password(old_password, new_password)</code>   \u2014 Change vault master password. Returns True on success.</li> <li><code>keys()</code>   \u2014 List all stored key names.</li> </ul>"},{"location":"api/generated/#salmalmsecurityexec_approvals","title":"<code>salmalm.security.exec_approvals</code>","text":"<p>Exec approval system \u2014 allowlist/denylist + dangerous command detection.</p>"},{"location":"api/generated/#class-backgroundsession","title":"<code>class BackgroundSession</code>","text":"<p>Manages a background exec process.</p> <ul> <li><code>start()</code>   \u2014 Start the background process.</li> <li><code>poll()</code>   \u2014 Poll current status.</li> <li><code>kill()</code>   \u2014 Kill the background process and its children.</li> <li><code>list_sessions(cls)</code>   \u2014 List all background sessions.</li> <li><code>get_session(cls, session_id)</code>   \u2014 Get a background session by ID.</li> <li> <p><code>kill_session(cls, session_id)</code>   \u2014 Kill a specific background session.</p> </li> <li> <p><code>check_approval(command)</code>   \u2014 Check if a command needs approval.</p> </li> <li><code>check_env_override(env)</code>   \u2014 Check if env dict tries to override blocked variables.</li> </ul>"},{"location":"api/generated/#salmalmsecurityredact","title":"<code>salmalm.security.redact</code>","text":"<p>Shared secret redaction utilities.</p> <ul> <li><code>contains_secret(text)</code>   \u2014 Check if text contains potential secrets.</li> <li><code>scrub_secrets(text)</code>   \u2014 Redact secrets from text, keeping surrounding context.</li> </ul>"},{"location":"api/generated/#salmalmsecuritysandbox","title":"<code>salmalm.security.sandbox</code>","text":"<p>Lightweight Process Sandbox \u2014 OS-native isolation without Docker.</p>"},{"location":"api/generated/#class-sandboxcapabilities","title":"<code>class SandboxCapabilities</code>","text":"<p>Detect available sandbox capabilities on this OS.</p> <ul> <li><code>detect(cls)</code>   \u2014 Detect.</li> </ul>"},{"location":"api/generated/#class-sandboxconfig","title":"<code>class SandboxConfig</code>","text":"<p>Configuration for sandboxed execution.</p> <ul> <li><code>strict(cls)</code>   \u2014 Strict.</li> <li><code>standard(cls)</code>   \u2014 Standard.</li> <li><code>permissive(cls)</code>   \u2014 Permissive.</li> </ul>"},{"location":"api/generated/#class-sandboxresult","title":"<code>class SandboxResult</code>","text":"<p>Result of a sandboxed execution.</p> <ul> <li><code>success()</code>   \u2014 Success.</li> <li> <p><code>format_output()</code>   \u2014 Format output.</p> </li> <li> <p><code>sandbox_exec(command, timeout, allow_network, memory_mb, workspace)</code>   \u2014 Execute a command in the best available sandbox.</p> </li> <li><code>get_sandbox_status()</code>   \u2014 Get sandbox capabilities status (for /security and UI).</li> <li><code>sandboxed_exec(command, config, shell)</code>   \u2014 Execute a command in sandbox (backward-compatible wrapper).</li> <li><code>path_jail(path_str, root)</code>   \u2014 Check if a path is within allowed boundaries.</li> </ul>"},{"location":"api/generated/#salmalmsecuritysecurity","title":"<code>salmalm.security.security</code>","text":"<p>SalmAlm Security Module \u2014 OWASP compliance, security audit, hardening.</p>"},{"location":"api/generated/#class-loginratelimiter","title":"<code>class LoginRateLimiter</code>","text":"<p>Per-key exponential backoff for login attempts.</p> <ul> <li><code>check(key)</code>   \u2014 Check if login attempt is allowed.</li> <li><code>record_failure(key)</code>   \u2014 Record a failed login attempt. \uc2e4\ud328\ud55c \ub85c\uadf8\uc778 \uae30\ub85d.</li> <li><code>record_success(key)</code>   \u2014 Clear attempts on successful login. \uc131\uacf5 \uc2dc \uc2dc\ub3c4 \uae30\ub85d \ucd08\uae30\ud654.</li> <li><code>cleanup()</code>   \u2014 Remove stale entries. \uc624\ub798\ub41c \ud56d\ubaa9 \uc815\ub9ac.</li> </ul>"},{"location":"api/generated/#class-securityauditor","title":"<code>class SecurityAuditor</code>","text":"<p>Generate OWASP Top 10 compliance report.</p> <ul> <li><code>audit()</code>   \u2014 Run full security audit. Returns report dict.</li> <li> <p><code>format_report()</code>   \u2014 Format audit report as human-readable text.</p> </li> <li> <p><code>redact_sensitive(text)</code>   \u2014 \ubbfc\uac10 \uc815\ubcf4\ub97c [REDACTED]\ub85c \uce58\ud658.</p> </li> <li><code>is_internal_ip(url)</code>   \u2014 Check if URL resolves to internal/private IP.</li> <li><code>sanitize_session_id(session_id)</code>   \u2014 Sanitize session ID to prevent injection.</li> <li><code>validate_input_size(data, max_size)</code>   \u2014 Check input doesn't exceed size limit.</li> </ul>"},{"location":"api/generated/#utils-utils-http-queue-retry-http","title":"utils/ \u2014 Utils \u2014 HTTP, Queue, Retry / \uc720\ud2f8\ub9ac\ud2f0 \u2014 HTTP, \ud050, \uc7ac\uc2dc\ub3c4","text":""},{"location":"api/generated/#salmalmutilsasync_http","title":"<code>salmalm.utils.async_http</code>","text":"<p>Async HTTP client built on stdlib asyncio (no third-party deps).</p>"},{"location":"api/generated/#class-asynchttpresponse","title":"<code>class AsyncHTTPResponse</code>","text":"<p>Lightweight async HTTP response wrapper.</p> <ul> <li><code>async read()</code>   \u2014 Read entire response body (handles chunked transfer-encoding).</li> <li><code>async json()</code>   \u2014 Json.</li> <li><code>async text()</code>   \u2014 Text.</li> <li><code>async iter_lines()</code>   \u2014 Yield lines as they arrive (for SSE / streaming).</li> <li><code>async iter_chunks(size)</code>   \u2014 Yield raw byte chunks.</li> </ul>"},{"location":"api/generated/#class-asynchttpclient","title":"<code>class AsyncHTTPClient</code>","text":"<p>Pure-stdlib asyncio HTTP/1.1 client.</p> <ul> <li><code>async request(method, url)</code>   \u2014 Send an HTTP/1.1 request and return an :class:<code>AsyncHTTPResponse</code>.</li> <li><code>async get(url)</code>   \u2014 Get.</li> <li><code>async post(url)</code>   \u2014 Post.</li> <li><code>async post_json(url, data)</code>   \u2014 Post json.</li> </ul>"},{"location":"api/generated/#salmalmutilsbrowser","title":"<code>salmalm.utils.browser</code>","text":""},{"location":"api/generated/#class-cdpconnection","title":"<code>class CDPConnection</code>","text":"<p>Low-level CDP WebSocket connection to Chrome.</p> <ul> <li><code>async connect(ws_url)</code>   \u2014 Connect to CDP WebSocket endpoint.</li> <li><code>async disconnect()</code>   \u2014 Disconnect from the browser WebSocket.</li> <li><code>async send(method, params, timeout)</code>   \u2014 Send CDP command and wait for response.</li> <li><code>on_event(method, handler)</code>   \u2014 Register event handler.</li> </ul>"},{"location":"api/generated/#class-browsercontroller","title":"<code>class BrowserController</code>","text":"<p>High-level browser automation API over CDP.</p> <ul> <li><code>connected()</code>   \u2014 Check if the browser connection is active.</li> <li><code>async connect(tab_index)</code>   \u2014 Connect to Chrome's first tab via CDP.</li> <li><code>async disconnect()</code>   \u2014 Disconnect from the browser WebSocket.</li> <li><code>async navigate(url, wait_load)</code>   \u2014 Navigate to URL. Returns {frameId, loaderId}.</li> <li><code>async screenshot(full_page, format, quality)</code>   \u2014 Take screenshot, return base64 encoded image.</li> <li><code>async get_text()</code>   \u2014 Extract page text content.</li> <li><code>async get_html()</code>   \u2014 Get page HTML.</li> <li><code>async evaluate(expression, return_by_value)</code>   \u2014 Execute JavaScript and return result.</li> <li><code>async click(selector)</code>   \u2014 Click an element by CSS selector.</li> <li><code>async type_text(selector, text)</code>   \u2014 Type text into an input element.</li> </ul>"},{"location":"api/generated/#class-browsermanager","title":"<code>class BrowserManager</code>","text":"<p>Manages Chrome lifecycle \u2014 auto-detect, launch, connect, close.</p> <ul> <li><code>find_chrome()</code>   \u2014 Auto-detect Chrome/Chromium binary.</li> <li><code>async launch(url, headless)</code>   \u2014 Launch Chrome and connect via CDP.</li> <li><code>controller()</code>   \u2014 Controller.</li> <li><code>connected()</code>   \u2014 Connected.</li> <li><code>async close()</code>   \u2014 Disconnect and kill Chrome.</li> <li> <p><code>close_sync()</code>   \u2014 Kill Chrome process (sync).</p> </li> <li> <p><code>async browser_open(url)</code>   \u2014 Open a URL. Launches Chrome if not connected.</p> </li> <li><code>async browser_screenshot()</code>   \u2014 Take screenshot, return base64 PNG.</li> <li><code>async browser_snapshot()</code>   \u2014 Extract page text (accessibility tree approximation).</li> <li><code>async browser_click(selector)</code>   \u2014 Click element by CSS selector.</li> <li><code>async browser_type(selector, text)</code>   \u2014 Type text into element.</li> <li><code>async browser_evaluate(js)</code>   \u2014 Execute JavaScript and return result.</li> <li><code>async browser_close()</code>   \u2014 Close browser.</li> </ul>"},{"location":"api/generated/#salmalmutilschunker","title":"<code>salmalm.utils.chunker</code>","text":"<p>Smart block chunking \u2014 code fence aware, coalescing, human-like pacing.</p>"},{"location":"api/generated/#class-chunkerconfig","title":"<code>class ChunkerConfig</code>","text":"<p>Configuration for EmbeddedBlockChunker.</p> <ul> <li><code>effective_hard_cap()</code>   \u2014 Effective hard cap.</li> <li><code>effective_max_lines()</code>   \u2014 Effective max lines.</li> <li><code>uses_plain_fallback()</code>   \u2014 Uses plain fallback.</li> </ul>"},{"location":"api/generated/#class-embeddedblockchunker","title":"<code>class EmbeddedBlockChunker</code>","text":"<p>Accumulates streaming text and emits Markdown-safe chunks.</p> <ul> <li><code>buffer()</code>   \u2014 Buffer.</li> <li><code>chunk_count()</code>   \u2014 Chunk count.</li> <li><code>feed(text)</code>   \u2014 Feed a token/text fragment. May emit a chunk via callback.</li> <li><code>check_idle()</code>   \u2014 Check if idle timeout has elapsed and flush if needed.</li> <li><code>flush()</code>   \u2014 Flush any remaining buffer as the final chunk.</li> <li><code>compute_delay()</code>   \u2014 Compute human-like delay before sending the next chunk.</li> <li> <p><code>split_for_channel(text)</code>   \u2014 Split a complete text into channel-appropriate messages.</p> </li> <li> <p><code>load_config_from_file(path)</code>   \u2014 Load streaming config from ~/.salmalm/streaming.json if it exists.</p> </li> </ul>"},{"location":"api/generated/#salmalmutilscommon","title":"<code>salmalm.utils.common</code>","text":"<p>Common helpers \u2014 \ub0a0\uc9dc, JSON, \ud30c\uc77c I/O \uacf5\ud1b5 \uc720\ud2f8.</p> <ul> <li><code>now_kst()</code>   \u2014 Return current datetime in KST.</li> <li><code>today_str(fmt)</code>   \u2014 Return today's date string in KST.</li> <li><code>format_datetime(dt, fmt)</code>   \u2014 Format a datetime object.</li> <li><code>json_loads_safe(text, default)</code>   \u2014 Parse JSON with fallback to default on error.</li> <li><code>json_dumps(obj)</code>   \u2014 Compact JSON dump (default ensure_ascii=False for Korean).</li> <li><code>read_text_safe(path, default)</code>   \u2014 Read a text file; return default if missing or unreadable.</li> <li><code>write_text_atomic(path, content)</code>   \u2014 Write text to file, creating parent dirs if needed.</li> </ul>"},{"location":"api/generated/#salmalmutilsdb","title":"<code>salmalm.utils.db</code>","text":"<p>SQLite common patterns \u2014 DB \ucd08\uae30\ud654, \uc5f0\uacb0 \ub798\ud37c.</p> <ul> <li><code>connect(path)</code>   \u2014 Open a SQLite connection with common defaults.</li> <li><code>ensure_table(conn, ddl)</code>   \u2014 Execute a CREATE TABLE IF NOT EXISTS statement.</li> <li><code>query_all(conn, sql, params)</code>   \u2014 Fetch all rows for a query.</li> <li><code>query_one(conn, sql, params)</code>   \u2014 Fetch a single row.</li> </ul>"},{"location":"api/generated/#salmalmutilsdedup","title":"<code>salmalm.utils.dedup</code>","text":"<p>Message deduplication and channel-aware debouncing.</p>"},{"location":"api/generated/#class-messagededuplicator","title":"<code>class MessageDeduplicator</code>","text":"<p>Deduplicates inbound messages using a TTL cache.</p> <ul> <li><code>is_duplicate(channel, account, peer, message_id)</code>   \u2014 Return True if this message was already seen within the TTL window.</li> <li><code>size()</code>   \u2014 Size.</li> <li> <p><code>clear()</code>   \u2014 Clear.</p> </li> <li> <p><code>get_debounce_ms(channel)</code>   \u2014 Get debounce time in ms for a channel.</p> </li> <li><code>should_skip_debounce(message, has_media)</code>   \u2014 Return True if this message should skip debouncing.</li> </ul>"},{"location":"api/generated/#salmalmutilsfile_logger","title":"<code>salmalm.utils.file_logger</code>","text":"<p>Structured file logger \u2014 JSON Lines format.</p>"},{"location":"api/generated/#class-filelogger","title":"<code>class FileLogger</code>","text":"<p>JSON Lines \ud30c\uc77c \ub85c\uac70.</p> <ul> <li><code>log(level, category, message)</code>   \u2014 JSON \ub77c\uc778 \ub85c\uadf8 \uae30\ub85d.</li> <li><code>tail(lines, level)</code>   \u2014 \ucd5c\uadfc \ub85c\uadf8 \uc870\ud68c.</li> <li><code>search(query, days)</code>   \u2014 \ub85c\uadf8 \uac80\uc0c9.</li> <li><code>cleanup(retain_days)</code>   \u2014 \uc624\ub798\ub41c \ub85c\uadf8 \uc0ad\uc81c. Returns number of files removed.</li> </ul>"},{"location":"api/generated/#salmalmutilshttp","title":"<code>salmalm.utils.http</code>","text":"<p>HTTP request common functions \u2014 urllib.request \ub798\ud37c.</p> <ul> <li><code>request(url)</code>   \u2014 Perform an HTTP request and return the response body as bytes.</li> <li><code>request_json(url)</code>   \u2014 Perform an HTTP request and return JSON-decoded response.</li> <li><code>post_json(url, payload)</code>   \u2014 POST JSON data and return JSON-decoded response.</li> </ul>"},{"location":"api/generated/#salmalmutilslog","title":"<code>salmalm.utils.log</code>","text":"<p>Centralized logging configuration for SalmAlm.</p> <ul> <li><code>setup_logging(level, fmt, datefmt, log_file, max_bytes)</code>   \u2014 Configure the <code>salmalm</code> root logger.</li> </ul>"},{"location":"api/generated/#salmalmutilslogging_ext","title":"<code>salmalm.utils.logging_ext</code>","text":""},{"location":"api/generated/#class-jsonformatter","title":"<code>class JSONFormatter</code>","text":"<p>Format log records as JSON lines.</p> <ul> <li><code>format(record)</code>   \u2014 Format a log record with correlation ID prefix.</li> </ul>"},{"location":"api/generated/#class-requestlogger","title":"<code>class RequestLogger</code>","text":"<p>Middleware-style request/response logger.</p> <ul> <li><code>log_request(method, path, ip, user, status_code)</code>   \u2014 Log a request with structured data.</li> <li> <p><code>get_metrics()</code>   \u2014 Get request metrics (exclude internal durations list).</p> </li> <li> <p><code>setup_production_logging(json_log, max_bytes, backup_count)</code>   \u2014 Configure production-grade logging with rotation.</p> </li> <li><code>get_correlation_id()</code>   \u2014 Get or create correlation ID for current request.</li> <li><code>set_correlation_id(cid)</code>   \u2014 Set the correlation ID for the current thread context.</li> <li><code>safe_execute(func)</code>   \u2014 Execute a function with graceful error recovery.</li> <li><code>async safe_execute_async(coro, fallback, tag)</code>   \u2014 Async version of safe_execute.</li> </ul>"},{"location":"api/generated/#salmalmutilsmarkdown_ir","title":"<code>salmalm.utils.markdown_ir</code>","text":"<p>Markdown IR \u2014 intermediate representation for cross-channel rendering.</p>"},{"location":"api/generated/#class-stylespan","title":"<code>class StyleSpan</code>","text":""},{"location":"api/generated/#class-linkspan","title":"<code>class LinkSpan</code>","text":""},{"location":"api/generated/#class-codeblock","title":"<code>class CodeBlock</code>","text":""},{"location":"api/generated/#class-tabledata","title":"<code>class TableData</code>","text":""},{"location":"api/generated/#class-markdownir","title":"<code>class MarkdownIR</code>","text":"<ul> <li><code>parse(markdown)</code>   \u2014 Parse markdown text into MarkdownIR.</li> <li><code>render_telegram(ir, table_mode)</code>   \u2014 Render IR to Telegram HTML.</li> <li><code>render_discord(ir, table_mode)</code>   \u2014 Render IR to Discord Markdown.</li> <li><code>render_slack(ir, table_mode)</code>   \u2014 Render IR to Slack mrkdwn format.</li> <li><code>render_plain(ir)</code>   \u2014 Render IR as plain text (no formatting).</li> <li><code>chunk_ir(ir, max_chars)</code>   \u2014 Split IR into chunks that don't break style spans.</li> </ul>"},{"location":"api/generated/#salmalmutilsmigration","title":"<code>salmalm.utils.migration</code>","text":"<p>SalmAlm Agent Migration \u2014 Export/Import agent state (\uc778\uaca9/\uae30\uc5b5/\uc124\uc815 \uc774\ub3d9).</p>"},{"location":"api/generated/#class-agentexporter","title":"<code>class AgentExporter</code>","text":"<p>Export agent state to a ZIP file.</p> <ul> <li><code>export_agent()</code>   \u2014 Export agent state to ZIP bytes.</li> </ul>"},{"location":"api/generated/#class-importresult","title":"<code>class ImportResult</code>","text":"<p>Result of an import operation.</p> <ul> <li><code>to_dict()</code>   \u2014 To dict.</li> <li><code>summary()</code>   \u2014 Human-readable summary / \uc0ac\ub78c\uc774 \uc77d\uc744 \uc218 \uc788\ub294 \uc694\uc57d.</li> </ul>"},{"location":"api/generated/#class-agentimporter","title":"<code>class AgentImporter</code>","text":"<p>Import agent state from a ZIP file.</p> <ul> <li><code>preview(zip_data)</code>   \u2014 Preview what's in the ZIP without importing.</li> <li> <p><code>import_agent(zip_data)</code>   \u2014 Import agent state from ZIP bytes.</p> </li> <li> <p><code>quick_sync_export()</code>   \u2014 Export core agent state as lightweight JSON.</p> </li> <li><code>quick_sync_import(data)</code>   \u2014 Import core agent state from lightweight JSON.</li> <li><code>export_agent(include_vault, include_sessions, include_data)</code>   \u2014 Export agent state to ZIP bytes. Convenience wrapper.</li> <li><code>import_agent(zip_data, conflict_mode)</code>   \u2014 Import agent state from ZIP bytes. Convenience wrapper.</li> <li><code>preview_import(zip_data)</code>   \u2014 Preview ZIP contents without importing.</li> <li><code>export_filename()</code>   \u2014 Generate export filename with date.</li> </ul>"},{"location":"api/generated/#salmalmutilsqueue","title":"<code>salmalm.utils.queue</code>","text":"<p>SalmAlm Message Queue \u2014 lane-based FIFO with 5 modes, overflow policies, concurrency control.</p>"},{"location":"api/generated/#class-queuemode_1","title":"<code>class QueueMode</code>","text":""},{"location":"api/generated/#class-droppolicy","title":"<code>class DropPolicy</code>","text":""},{"location":"api/generated/#class-queuedmessage_1","title":"<code>class QueuedMessage</code>","text":""},{"location":"api/generated/#class-sessionoptions","title":"<code>class SessionOptions</code>","text":"<p>Per-session overrides, set via /queue command.</p>"},{"location":"api/generated/#class-queuelane","title":"<code>class QueueLane</code>","text":"<p>Per-session FIFO lane with serial execution guarantee.</p> <ul> <li><code>async enqueue(message, processor, cfg, channel)</code>   \u2014 Main entry: enqueue message, apply mode logic, return result.</li> <li><code>get_steer_event()</code>   \u2014 Get/create the steer event for the current execution.</li> <li><code>consume_steer()</code>   \u2014 Consume a steered message (called at tool boundaries).</li> <li><code>reset_options()</code>   \u2014 Reset per-session overrides to defaults.</li> </ul>"},{"location":"api/generated/#class-_semaphorecontext","title":"<code>class _SemaphoreContext</code>","text":"<p>Async context manager for semaphore.</p>"},{"location":"api/generated/#class-messagequeue_2","title":"<code>class MessageQueue</code>","text":"<p>Global message queue manager with lane-based concurrency control.</p> <ul> <li><code>config()</code>   \u2014 Config.</li> <li><code>reload_config()</code>   \u2014 Reload config.</li> <li><code>async process(session_id, message, processor, channel)</code>   \u2014 Process a message through the session's lane.</li> <li><code>get_lane(session_id)</code>   \u2014 Get lane without creating.</li> <li><code>handle_queue_command(session_id, args)</code>   \u2014 Handle /queue command. Returns user-facing response.</li> <li><code>cleanup(max_idle)</code>   \u2014 Remove idle session lanes.</li> <li><code>active_sessions()</code>   \u2014 Active sessions.</li> <li><code>main_semaphore()</code>   \u2014 Main semaphore.</li> <li> <p><code>subagent_semaphore()</code>   \u2014 Subagent semaphore.</p> </li> <li> <p><code>load_config()</code>   \u2014 Load queue config from ~/.salmalm/queue.json, falling back to defaults.</p> </li> <li><code>save_config(cfg)</code>   \u2014 Persist config to ~/.salmalm/queue.json.</li> <li><code>apply_overflow(pending, cap, policy)</code>   \u2014 Enforce cap on pending list. Returns (trimmed_list, summary_or_none).</li> </ul>"},{"location":"api/generated/#salmalmutilsretry","title":"<code>salmalm.utils.retry</code>","text":"<p>SalmAlm Retry Policy \u2014 exponential backoff with jitter.</p> <ul> <li><code>retry_with_backoff(fn)</code>   \u2014 Decorator: retry function with exponential backoff + jitter.</li> <li><code>async async_retry_with_backoff(coro_fn)</code>   \u2014 Async version: retry an async callable with exponential backoff.</li> <li><code>retry_call(fn)</code>   \u2014 Functional retry: call fn with retry logic (not a decorator).</li> </ul>"},{"location":"api/generated/#salmalmutilsshim","title":"<code>salmalm.utils.shim</code>","text":"<p>Shared subpackage proxy shim for backward compatibility.</p> <ul> <li><code>install_shim(package_name, real_module, submodules)</code>   \u2014 Install a lazy-loading proxy module for backward compat imports.</li> </ul>"},{"location":"api/generated/#salmalmutilstls","title":"<code>salmalm.utils.tls</code>","text":"<ul> <li><code>ensure_cert(cn, days)</code>   \u2014 Generate self-signed certificate if not exists. Returns True if cert exists.</li> <li><code>create_ssl_context()</code>   \u2014 Create SSL context with the server certificate.</li> <li><code>create_https_server(address, handler_class, ssl_context)</code>   \u2014 Create a ThreadingHTTPServer with optional TLS.</li> <li><code>get_cert_info()</code>   \u2014 Get certificate info.</li> </ul>"},{"location":"api/generated/#web-web-server-websocket-oauth-oauth","title":"web/ \u2014 Web \u2014 Server, WebSocket, OAuth / \uc6f9 \u2014 \uc11c\ubc84, \uc6f9\uc18c\ucf13, OAuth","text":""},{"location":"api/generated/#salmalmwebasgi","title":"<code>salmalm.web.asgi</code>","text":"<p>ASGI application \u2014 FastAPI + uvicorn transport layer.</p>"},{"location":"api/generated/#class-_jsonresp","title":"<code>class _JSONResp</code>","text":"<p>Signals a JSON response \u2014 inherits BaseException so that</p>"},{"location":"api/generated/#class-_htmlresp","title":"<code>class _HTMLResp</code>","text":""},{"location":"api/generated/#class-_rawresp","title":"<code>class _RawResp</code>","text":"<p>Raw bytes response (SVG, JS, etc.).</p>"},{"location":"api/generated/#class-_ssequeue","title":"<code>class _SSEQueue</code>","text":"<p>Bridges sync wfile.write() calls into an async StreamingResponse.</p> <ul> <li><code>write(data)</code></li> <li><code>flush()</code></li> <li><code>close()</code>   \u2014 Signal generator to stop.</li> </ul>"},{"location":"api/generated/#class-_ciheaders","title":"<code>class _CIHeaders</code>","text":"<p>Case-insensitive header lookup (mirrors http.server.BaseHTTPRequestHandler.headers).</p> <ul> <li><code>get(key, default)</code></li> </ul>"},{"location":"api/generated/#class-fasthandler","title":"<code>class FastHandler</code>","text":"<p>ASGI-compatible handler that mimics BaseHTTPRequestHandler interface.</p> <ul> <li><code>send_error(code, message)</code></li> <li><code>log_message()</code></li> <li><code>log_error()</code></li> <li><code>send_response(status)</code></li> <li><code>send_header(key, value)</code></li> <li><code>end_headers()</code></li> <li> <p><code>wfile()</code></p> </li> <li> <p><code>create_asgi_app()</code>   \u2014 Build and return the FastAPI ASGI application.</p> </li> </ul>"},{"location":"api/generated/#salmalmwebauth","title":"<code>salmalm.web.auth</code>","text":"<p>SalmAlm Auth \u2014 Multi-user authentication, session isolation, RBAC, rate limiting.</p>"},{"location":"api/generated/#class-tokenmanager","title":"<code>class TokenManager</code>","text":"<p>Token creation/verification using HMAC-SHA256 with jti revocation support.</p> <ul> <li><code>rotate()</code>   \u2014 Create a new signing key. Old keys kept for verification.</li> <li><code>create(payload, expires_in)</code>   \u2014 Create a signed token with unique jti + kid. Default expiry: 24h.</li> <li><code>verify(token)</code>   \u2014 Verify token signature, expiry, and revocation status.</li> <li><code>revoke(token)</code>   \u2014 Revoke a token by its jti. Returns True if successfully revoked.</li> <li><code>revoke_all_for_user(user_id)</code>   \u2014 Rotate the secret to invalidate ALL tokens. Nuclear option.</li> <li><code>cleanup_expired()</code>   \u2014 Remove revocation entries for tokens that have expired anyway.</li> </ul>"},{"location":"api/generated/#class-ratelimitexceeded","title":"<code>class RateLimitExceeded</code>","text":""},{"location":"api/generated/#class-ratelimiter","title":"<code>class RateLimiter</code>","text":"<p>Token bucket rate limiter per key (user_id or IP).</p> <ul> <li><code>check(key, role)</code>   \u2014 Check rate limit. Raises RateLimitExceeded if exceeded.</li> <li><code>get_remaining(key)</code>   \u2014 Get remaining requests allowed in the current rate limit window.</li> <li><code>cleanup()</code>   \u2014 Remove stale buckets (&gt;1h inactive).</li> </ul>"},{"location":"api/generated/#class-authmanager","title":"<code>class AuthManager</code>","text":"<p>Multi-user authentication with SQLite backend.</p> <ul> <li><code>create_user(username, password, role)</code>   \u2014 Create a new user. Returns user info.</li> <li><code>authenticate(username, password)</code>   \u2014 Authenticate user. Returns user dict or None.</li> <li><code>authenticate_api_key(api_key)</code>   \u2014 Authenticate via API key (constant-time hash comparison).</li> <li><code>create_token(user, expires_in)</code>   \u2014 Create auth token for authenticated user.</li> <li><code>verify_token(token)</code>   \u2014 Verify auth token. Returns user info or None.</li> <li><code>revoke_token(token)</code>   \u2014 Revoke a token (logout). Returns True on success.</li> <li><code>list_users()</code>   \u2014 List all users (admin only).</li> <li><code>delete_user(username)</code>   \u2014 Delete a user account by username.</li> <li><code>change_password(username, new_password)</code>   \u2014 Change a user password. Returns True on success.</li> <li> <p><code>has_permission(user, action)</code>   \u2014 Check if user has permission for action.</p> </li> <li> <p><code>extract_auth(headers)</code>   \u2014 Extract user from headers. Accepts dict (case-sensitive) or HTTPMessage (case-insensitive).</p> </li> </ul>"},{"location":"api/generated/#salmalmwebmiddleware","title":"<code>salmalm.web.middleware</code>","text":"<p>Request middleware chain \u2014 auth, audit, rate limiting for all routes.</p>"},{"location":"api/generated/#class-routepolicy","title":"<code>class RoutePolicy</code>","text":"<p>Security policy for a single route.</p> <ul> <li><code>get_route_policy(path, method)</code>   \u2014 Get security policy for a route. Returns sensible defaults.</li> <li><code>register_route_policy(path, policy)</code>   \u2014 Register custom security policy for a route.</li> <li><code>check_external_exposure_safety(bind_addr, handler)</code>   \u2014 When binding to 0.0.0.0, verify safety requirements are met.</li> <li><code>get_tool_tier(tool_name)</code>   \u2014 Get risk tier for a tool: 'critical', 'high', or 'normal'.</li> <li><code>is_tool_allowed_external(tool_name, is_authenticated, bind_addr)</code>   \u2014 Check if a tool can be used given current context.</li> </ul>"},{"location":"api/generated/#salmalmweboauth","title":"<code>salmalm.web.oauth</code>","text":"<p>OAuth subscription authentication for Anthropic and OpenAI.</p>"},{"location":"api/generated/#class-anthropicoauth","title":"<code>class AnthropicOAuth</code>","text":"<ul> <li><code>get_auth_url(redirect_uri, state)</code>   \u2014 Get auth url.</li> <li><code>exchange_code(code, redirect_uri)</code>   \u2014 Exchange code.</li> <li><code>refresh_token(refresh_token)</code>   \u2014 Refresh token.</li> <li><code>is_expired(token_data)</code>   \u2014 Is expired.</li> <li><code>is_expiring_soon(token_data, threshold)</code>   \u2014 Is expiring soon.</li> <li><code>auto_refresh(token_data)</code>   \u2014 Auto refresh.</li> </ul>"},{"location":"api/generated/#class-openaioauth","title":"<code>class OpenAIOAuth</code>","text":"<ul> <li><code>get_auth_url(redirect_uri, state)</code>   \u2014 Get auth url.</li> <li><code>exchange_code(code, redirect_uri)</code>   \u2014 Exchange code.</li> <li><code>refresh_token(refresh_token)</code>   \u2014 Refresh token.</li> <li><code>is_expired(token_data)</code>   \u2014 Is expired.</li> </ul>"},{"location":"api/generated/#class-oauthmanager","title":"<code>class OAuthManager</code>","text":"<p>Manages OAuth tokens for multiple providers.</p> <ul> <li><code>setup(provider, redirect_uri)</code>   \u2014 Setup.</li> <li><code>handle_callback(code, state, redirect_uri)</code>   \u2014 Handle callback.</li> <li><code>status()</code>   \u2014 Status.</li> <li><code>revoke(provider)</code>   \u2014 Revoke.</li> <li><code>refresh(provider)</code>   \u2014 Refresh.</li> <li><code>get_token(provider)</code>   \u2014 Get access token for provider, auto-refreshing if needed.</li> <li><code>get_api_status()</code>   \u2014 Return status dict for /api/oauth/status.</li> </ul>"},{"location":"api/generated/#salmalmwebtemplates","title":"<code>salmalm.web.templates</code>","text":"<p>SalmAlm HTML templates \u2014 thin loader over static/ files.</p>"},{"location":"api/generated/#salmalmwebweb","title":"<code>salmalm.web.web</code>","text":"<p>SalmAlm Web UI \u2014 HTML + WebHandler.</p>"},{"location":"api/generated/#class-webhandler","title":"<code>class WebHandler</code>","text":"<p>HTTP handler for web UI and API.</p> <ul> <li><code>log_message(format)</code>   \u2014 Suppress default HTTP stderr logging \u2014 requests logged via salmalm logger in each handler.</li> <li><code>do_PUT()</code>   \u2014 Handle HTTP PUT requests.</li> <li><code>do_OPTIONS()</code>   \u2014 Handle CORS preflight requests.</li> <li><code>do_GET()</code>   \u2014 Handle HTTP GET requests.</li> <li><code>do_POST()</code>   \u2014 Handle HTTP POST requests.</li> </ul>"},{"location":"api/generated/#salmalmwebws","title":"<code>salmalm.web.ws</code>","text":""},{"location":"api/generated/#class-wsclient","title":"<code>class WSClient</code>","text":"<p>Represents a single WebSocket connection.</p> <ul> <li><code>async send_json(data)</code>   \u2014 Send a JSON message as a WebSocket text frame.</li> <li><code>async send_text(text)</code>   \u2014 Send a text message to a connected WebSocket client.</li> <li><code>async recv_frame()</code>   \u2014 Read one WebSocket frame. Returns (opcode, payload) or None on close.</li> <li><code>async close(code, reason)</code>   \u2014 Send close frame and close connection.</li> </ul>"},{"location":"api/generated/#class-websocketserver","title":"<code>class WebSocketServer</code>","text":"<p>Async WebSocket server that handles upgrade from raw TCP.</p> <ul> <li><code>on_message(fn)</code>   \u2014 Handle an incoming WebSocket message.</li> <li><code>on_connect(fn)</code>   \u2014 Handle a new WebSocket client connection.</li> <li><code>on_disconnect(fn)</code>   \u2014 Handle a WebSocket client disconnection.</li> <li><code>async start()</code>   \u2014 Start listening for WebSocket connections.</li> <li><code>async shutdown()</code>   \u2014 Graceful shutdown: notify clients with shutdown message, then close.</li> <li><code>async stop()</code>   \u2014 Stop the WebSocket server (alias for shutdown).</li> <li><code>async broadcast(data, session_id)</code>   \u2014 Send to all connected clients (or filtered by session).</li> <li><code>client_count()</code>   \u2014 Get the number of connected WebSocket clients.</li> </ul>"},{"location":"api/generated/#class-streamingresponse","title":"<code>class StreamingResponse</code>","text":"<p>Helper to stream LLM response chunks to a WS client.</p> <ul> <li><code>async send_chunk(text)</code>   \u2014 Send a text chunk (partial response).</li> <li><code>async send_tool_call(tool_name, tool_input, result)</code>   \u2014 Notify client about a tool call.</li> <li><code>async send_thinking(text)</code>   \u2014 Send thinking/reasoning chunk.</li> <li><code>async send_done(full_text)</code>   \u2014 Signal completion.</li> <li><code>async send_error(error)</code>   \u2014 Send an error message to a WebSocket client.</li> </ul>"},{"location":"api/generated/#salmalm-top-level-modules","title":"salmalm/ \u2014 Top-level Modules / \ucd5c\uc0c1\uc704 \ubaa8\ub4c8","text":""},{"location":"api/generated/#salmalmbootstrap","title":"<code>salmalm.bootstrap</code>","text":"<p>Server bootstrap \u2014 start all SalmAlm services.</p> <ul> <li><code>async run_server()</code>   \u2014 Main async entry point \u2014 boot all services.</li> </ul>"},{"location":"api/generated/#salmalmcli","title":"<code>salmalm.cli</code>","text":"<p>CLI argument parsing for SalmAlm.</p> <ul> <li><code>setup_workdir()</code>   \u2014 Set working directory and load .env.</li> <li><code>dispatch_cli()</code>   \u2014 Handle CLI flags. Returns True if a flag was handled (caller should exit).</li> </ul>"},{"location":"api/generated/#salmalmconfig_manager","title":"<code>salmalm.config_manager</code>","text":"<p>Centralized configuration manager for SalmAlm.</p>"},{"location":"api/generated/#class-configmanager","title":"<code>class ConfigManager</code>","text":"<p>\uc911\uc559\uc9d1\uc911 \uc124\uc815 \uad00\ub9ac\uc790.</p> <ul> <li><code>load(cls, name, defaults)</code>   \u2014 \uc124\uc815 \ud30c\uc77c \ub85c\ub4dc. name='mood' \u2192 ~/.salmalm/mood.json</li> <li><code>save(cls, name, config)</code>   \u2014 \uc124\uc815 \ud30c\uc77c \uc800\uc7a5.</li> <li><code>resolve(cls, name, key, default)</code>   \u2014 Resolve a single config value with full priority chain.</li> <li><code>get(cls, name, key, default)</code>   \u2014 \ub2e8\uc77c \ud0a4 \uc870\ud68c (resolve \uc0ac\uc6a9).</li> <li><code>set(cls, name, key, value)</code>   \u2014 \ub2e8\uc77c \ud0a4 \uc124\uc815.</li> <li><code>exists(cls, name)</code>   \u2014 Exists.</li> <li><code>delete(cls, name)</code>   \u2014 Delete.</li> <li><code>list_configs(cls)</code>   \u2014 \ubaa8\ub4e0 \uc124\uc815 \ud30c\uc77c \ubaa9\ub85d.</li> <li> <p><code>migrate(cls, name)</code>   \u2014 \uc124\uc815 \ud30c\uc77c \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc2e4\ud589.</p> </li> <li> <p><code>set_cli_overrides(overrides)</code>   \u2014 Set CLI argument overrides (called at startup).</p> </li> </ul>"},{"location":"api/security/","title":"Security Module API","text":""},{"location":"api/security/#api","title":"\ubcf4\uc548 \ubaa8\ub4c8 API","text":"<p>The <code>salmalm.security</code> package provides OWASP-compliant security features.</p> <p><code>salmalm.security</code> \ud328\ud0a4\uc9c0\ub294 OWASP \uc900\uc218 \ubcf4\uc548 \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p>"},{"location":"api/security/#salmalmsecuritysecurity","title":"<code>salmalm.security.security</code>","text":"<p>Main security module \u2014 rate limiting, SSRF protection, SQL injection prevention, input sanitization.</p> <p>\uba54\uc778 \ubcf4\uc548 \ubaa8\ub4c8 \u2014 \uc694\uccad \ube48\ub3c4 \uc81c\ud55c, SSRF \ubc29\uc9c0, SQL \uc778\uc81d\uc158 \ubc29\uc9c0, \uc785\ub825 \uc0c8\ub2c8\ud0c0\uc774\uc81c\uc774\uc158.</p>"},{"location":"api/security/#salmalmsecuritycrypto","title":"<code>salmalm.security.crypto</code>","text":"<p>AES-256-GCM vault encryption for storing sensitive data (API keys, tokens).</p> <p>\ubbfc\uac10 \ub370\uc774\ud130(API \ud0a4, \ud1a0\ud070) \uc800\uc7a5\uc744 \uc704\ud55c AES-256-GCM \ubcfc\ud2b8 \uc554\ud638\ud654.</p>"},{"location":"api/security/#salmalmsecuritysandbox","title":"<code>salmalm.security.sandbox</code>","text":"<p>Sandboxed code execution environment for <code>python_eval</code> and other code tools.</p> <p><code>python_eval</code> \ubc0f \uae30\ud0c0 \ucf54\ub4dc \ub3c4\uad6c\ub97c \uc704\ud55c \uc0cc\ub4dc\ubc15\uc2a4 \uc2e4\ud589 \ud658\uacbd.</p>"},{"location":"api/security/#salmalmsecuritycontainer","title":"<code>salmalm.security.container</code>","text":"<p>Container isolation for untrusted code execution.</p> <p>\uc2e0\ub8b0\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \uc2e4\ud589\uc744 \uc704\ud55c \ucee8\ud14c\uc774\ub108 \uaca9\ub9ac.</p>"},{"location":"api/security/#salmalmsecurityexec_approvals","title":"<code>salmalm.security.exec_approvals</code>","text":"<p>Dangerous command approval system \u2014 prompts user before executing risky shell commands.</p> <p>\uc704\ud5d8 \uba85\ub839\uc5b4 \uc2b9\uc778 \uc2dc\uc2a4\ud15c \u2014 \uc704\ud5d8\ud55c \uc178 \uba85\ub839 \uc2e4\ud589 \uc804 \uc0ac\uc6a9\uc790\uc5d0\uac8c \ud655\uc778 \uc694\uccad.</p>"},{"location":"api/tools/","title":"Tools Module API","text":""},{"location":"api/tools/#api","title":"\ub3c4\uad6c \ubaa8\ub4c8 API","text":"<p>The <code>salmalm.tools</code> package implements all 66 built-in tools.</p> <p><code>salmalm.tools</code> \ud328\ud0a4\uc9c0\ub294 66\uac1c\uc758 \ub0b4\uc7a5 \ub3c4\uad6c\ub97c \ubaa8\ub450 \uad6c\ud604\ud569\ub2c8\ub2e4.</p>"},{"location":"api/tools/#salmalmtoolstool_registry","title":"<code>salmalm.tools.tool_registry</code>","text":"<p>Decorator-based tool dispatch system replacing if-elif chains.</p> <p>if-elif \uccb4\uc778\uc744 \ub300\uccb4\ud558\ub294 \ub370\ucf54\ub808\uc774\ud130 \uae30\ubc18 \ub3c4\uad6c \ub514\uc2a4\ud328\uce58 \uc2dc\uc2a4\ud15c.</p> <p>Key functions / \uc8fc\uc694 \ud568\uc218:</p> <ul> <li><code>register(name)</code> \u2014 Decorator to register a tool handler / \ub3c4\uad6c \ud578\ub4e4\ub7ec \ub4f1\ub85d \ub370\ucf54\ub808\uc774\ud130</li> <li><code>dispatch(name, args)</code> \u2014 Dispatch tool call to registered handler / \ub4f1\ub85d\ub41c \ud578\ub4e4\ub7ec\ub85c \ub3c4\uad6c \ud638\ucd9c \ub514\uc2a4\ud328\uce58</li> </ul>"},{"location":"api/tools/#salmalmtoolstools","title":"<code>salmalm.tools.tools</code>","text":"<p>Tool definitions \u2014 JSON schemas for all 66 tools used in LLM system prompt.</p> <p>\ub3c4\uad6c \uc815\uc758 \u2014 LLM \uc2dc\uc2a4\ud15c \ud504\ub86c\ud504\ud2b8\uc5d0 \uc0ac\uc6a9\ub418\ub294 66\uac1c \ub0b4\uc7a5 \ub3c4\uad6c JSON \uc2a4\ud0a4\ub9c8.</p>"},{"location":"api/tools/#tool-handler-modules","title":"Tool Handler Modules / \ub3c4\uad6c \ud578\ub4e4\ub7ec \ubaa8\ub4c8","text":"Module / \ubaa8\ub4c8 Tools / \ub3c4\uad6c <code>tools_file</code> <code>read_file</code>, <code>write_file</code>, <code>edit_file</code>, <code>diff_files</code>, <code>file_index</code> <code>tools_web</code> <code>web_search</code>, <code>web_fetch</code>, <code>http_request</code> <code>tools_exec</code> <code>exec</code>, <code>exec_session</code>, <code>python_eval</code> <code>tools_memory</code> <code>memory_read</code>, <code>memory_write</code>, <code>memory_search</code>, <code>note</code> <code>tools_system</code> <code>system_monitor</code>, <code>health_check</code>, <code>usage_report</code> <code>tools_personal</code> <code>briefing</code>, <code>expense</code>, <code>save_link</code>, <code>pomodoro</code>, <code>routine</code> <code>tools_calendar</code> <code>google_calendar</code>, <code>calendar_list</code>, <code>calendar_add</code>, <code>calendar_delete</code> <code>tools_email</code> <code>email_inbox</code>, <code>email_read</code>, <code>email_send</code>, <code>email_search</code>, <code>gmail</code> <code>tools_google</code> Google API integrations <code>tools_media</code> <code>image_analyze</code>, <code>image_generate</code>, <code>tts</code>, <code>tts_generate</code>, <code>stt</code>, <code>qr_code</code> <code>tools_browser</code> <code>browser</code>, <code>screenshot</code> <code>tools_agent</code> <code>sub_agent</code> <code>tools_misc</code> <code>translate</code>, <code>rss_reader</code>, <code>hash_text</code>, <code>regex_test</code>, <code>json_query</code>, <code>weather</code> <code>tools_patch</code> <code>apply_patch</code> <code>tools_reminder</code> <code>reminder</code>, <code>cron_manage</code> <code>tools_util</code> <code>clipboard</code>, miscellaneous utilities <code>tools_reaction</code> Reaction/emoji tools <code>tools_common</code> Shared tool utilities"},{"location":"api/utils/","title":"Utils Module API","text":""},{"location":"api/utils/#api","title":"\uc720\ud2f8\ub9ac\ud2f0 \ubaa8\ub4c8 API","text":"<p>The <code>salmalm.utils</code> package provides shared utility functions.</p> <p><code>salmalm.utils</code> \ud328\ud0a4\uc9c0\ub294 \uacf5\uc720 \uc720\ud2f8\ub9ac\ud2f0 \ud568\uc218\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.</p>"},{"location":"api/utils/#salmalmutilsasync_http","title":"<code>salmalm.utils.async_http</code>","text":"<p>Async HTTP client built on <code>urllib</code> \u2014 supports GET/POST/PUT/DELETE with timeout and retry.</p> <p><code>urllib</code> \uae30\ubc18 \ube44\ub3d9\uae30 HTTP \ud074\ub77c\uc774\uc5b8\ud2b8 \u2014 \ud0c0\uc784\uc544\uc6c3\uacfc \uc7ac\uc2dc\ub3c4\ub97c \uc9c0\uc6d0\ud558\ub294 GET/POST/PUT/DELETE.</p>"},{"location":"api/utils/#salmalmutilschunker","title":"<code>salmalm.utils.chunker</code>","text":"<p>Message chunking for platforms with message length limits (Telegram: 4096 chars, Discord: 2000 chars).</p> <p>\uba54\uc2dc\uc9c0 \uae38\uc774 \uc81c\ud55c\uc774 \uc788\ub294 \ud50c\ub7ab\ud3fc\uc6a9 \uba54\uc2dc\uc9c0 \ubd84\ud560 (\ud154\ub808\uadf8\ub7a8: 4096\uc790, \ub514\uc2a4\ucf54\ub4dc: 2000\uc790).</p>"},{"location":"api/utils/#salmalmutilsdedup","title":"<code>salmalm.utils.dedup</code>","text":"<p>Message deduplication and debounce to prevent duplicate processing.</p> <p>\uc911\ubcf5 \ucc98\ub9ac\ub97c \ubc29\uc9c0\ud558\ub294 \uba54\uc2dc\uc9c0 \uc911\ubcf5 \uc81c\uac70 \ubc0f \ub514\ubc14\uc6b4\uc2a4.</p>"},{"location":"api/utils/#salmalmutilsretry","title":"<code>salmalm.utils.retry</code>","text":"<p>Retry with exponential backoff for transient failures.</p> <p>\uc77c\uc2dc\uc801 \uc624\ub958\uc5d0 \ub300\ud55c \uc9c0\uc218 \ubc31\uc624\ud504 \uc7ac\uc2dc\ub3c4.</p>"},{"location":"api/utils/#salmalmutilsqueue","title":"<code>salmalm.utils.queue</code>","text":"<p>Async message queue for ordered processing.</p> <p>\uc21c\uc11c \ucc98\ub9ac\ub97c \uc704\ud55c \ube44\ub3d9\uae30 \uba54\uc2dc\uc9c0 \ud050.</p>"},{"location":"api/utils/#salmalmutilsfile_logger","title":"<code>salmalm.utils.file_logger</code>","text":"<p>File-based logging with rotation.</p> <p>\ub85c\ud14c\uc774\uc158\uc744 \uc9c0\uc6d0\ud558\ub294 \ud30c\uc77c \uae30\ubc18 \ub85c\uae45.</p>"},{"location":"api/utils/#salmalmutilslogging_ext","title":"<code>salmalm.utils.logging_ext</code>","text":"<p>Logging extensions \u2014 colored output, structured logging.</p> <p>\ub85c\uae45 \ud655\uc7a5 \u2014 \uc0c9\uc0c1 \ucd9c\ub825, \uad6c\uc870\ud654\ub41c \ub85c\uae45.</p>"},{"location":"api/utils/#salmalmutilsmarkdown_ir","title":"<code>salmalm.utils.markdown_ir</code>","text":"<p>Markdown intermediate representation processor for cross-platform rendering.</p> <p>\ud06c\ub85c\uc2a4\ud50c\ub7ab\ud3fc \ub80c\ub354\ub9c1\uc744 \uc704\ud55c Markdown \uc911\uac04 \ud45c\ud604 \ud504\ub85c\uc138\uc11c.</p>"},{"location":"api/utils/#salmalmutilsmigration","title":"<code>salmalm.utils.migration</code>","text":"<p>Data migration utilities for schema upgrades.</p> <p>\uc2a4\ud0a4\ub9c8 \uc5c5\uadf8\ub808\uc774\ub4dc\ub97c \uc704\ud55c \ub370\uc774\ud130 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc720\ud2f8\ub9ac\ud2f0.</p>"},{"location":"api/utils/#salmalmutilstls","title":"<code>salmalm.utils.tls</code>","text":"<p>TLS certificate generation for HTTPS support.</p> <p>HTTPS \uc9c0\uc6d0\uc744 \uc704\ud55c TLS \uc778\uc99d\uc11c \uc0dd\uc131.</p>"},{"location":"api/utils/#salmalmutilsbrowser","title":"<code>salmalm.utils.browser</code>","text":"<p>Browser utility functions for web automation tools.</p> <p>\uc6f9 \uc790\ub3d9\ud654 \ub3c4\uad6c\ub97c \uc704\ud55c \ube0c\ub77c\uc6b0\uc800 \uc720\ud2f8\ub9ac\ud2f0 \ud568\uc218.</p>"},{"location":"api/web/","title":"Web Module API","text":""},{"location":"api/web/#api","title":"\uc6f9 \ubaa8\ub4c8 API","text":"<p>The <code>salmalm.web</code> package implements the HTTP server and WebSocket handler.</p> <p><code>salmalm.web</code> \ud328\ud0a4\uc9c0\ub294 HTTP \uc11c\ubc84\uc640 WebSocket \ud578\ub4e4\ub7ec\ub97c \uad6c\ud604\ud569\ub2c8\ub2e4.</p>"},{"location":"api/web/#salmalmwebweb","title":"<code>salmalm.web.web</code>","text":"<p>HTTP request handler \u2014 serves the web UI, API endpoints, static files, and dashboard.</p> <p>HTTP \uc694\uccad \ud578\ub4e4\ub7ec \u2014 \uc6f9 UI, API \uc5d4\ub4dc\ud3ec\uc778\ud2b8, \uc815\uc801 \ud30c\uc77c, \ub300\uc2dc\ubcf4\ub4dc \uc81c\uacf5.</p> <p>Key endpoints / \uc8fc\uc694 \uc5d4\ub4dc\ud3ec\uc778\ud2b8:</p> Endpoint Method Description / \uc124\uba85 <code>/</code> GET Web UI / \uc6f9 UI <code>/api/health</code> GET Health check / \uc0c1\ud0dc \uc810\uac80 <code>/api/chat</code> POST Send message / \uba54\uc2dc\uc9c0 \uc804\uc1a1 <code>/api/sessions</code> GET List sessions / \uc138\uc158 \ubaa9\ub85d <code>/api/dashboard</code> GET Dashboard data / \ub300\uc2dc\ubcf4\ub4dc \ub370\uc774\ud130 <code>/api/google/auth</code> GET Google OAuth start / \uad6c\uae00 OAuth \uc2dc\uc791 <code>/api/google/callback</code> GET Google OAuth callback / \uad6c\uae00 OAuth \ucf5c\ubc31"},{"location":"api/web/#salmalmwebws","title":"<code>salmalm.web.ws</code>","text":"<p>WebSocket handler for real-time streaming responses.</p> <p>\uc2e4\uc2dc\uac04 \uc2a4\ud2b8\ub9ac\ubc0d \uc751\ub2f5\uc744 \uc704\ud55c WebSocket \ud578\ub4e4\ub7ec.</p>"},{"location":"api/web/#salmalmwebauth","title":"<code>salmalm.web.auth</code>","text":"<p>Web authentication \u2014 session tokens, password verification, rate limiting.</p> <p>\uc6f9 \uc778\uc99d \u2014 \uc138\uc158 \ud1a0\ud070, \ube44\ubc00\ubc88\ud638 \uac80\uc99d, \uc694\uccad \ube48\ub3c4 \uc81c\ud55c.</p>"},{"location":"api/web/#salmalmweboauth","title":"<code>salmalm.web.oauth</code>","text":"<p>Google OAuth2 flow \u2014 authorization code exchange, token refresh.</p> <p>Google OAuth2 \ud750\ub984 \u2014 \uc778\uc99d \ucf54\ub4dc \uad50\ud658, \ud1a0\ud070 \uac31\uc2e0.</p>"},{"location":"api/web/#salmalmwebtemplates","title":"<code>salmalm.web.templates</code>","text":"<p>HTML template generation for web UI pages (setup, unlock, main chat, dashboard).</p> <p>\uc6f9 UI \ud398\uc774\uc9c0(\uc124\uc815, \uc7a0\uae08 \ud574\uc81c, \uba54\uc778 \ucc44\ud305, \ub300\uc2dc\ubcf4\ub4dc)\uc6a9 HTML \ud15c\ud50c\ub9bf \uc0dd\uc131.</p>"},{"location":"features/","title":"Features Overview","text":"<p>SalmAlm packs 43 tools and 11 feature systems into a single <code>pip install</code> \u2014 zero external dependencies.</p>"},{"location":"features/#feature-map","title":"Feature Map","text":"Feature Description Key Tools Multi-Model Routing 6 providers, auto complexity routing \u2014 Extended Thinking Chain-of-thought reasoning (4 levels) \u2014 RAG &amp; Knowledge Base Local vector search, Korean support <code>rag_search</code>, <code>file_index</code> MCP Integration Model Context Protocol server \u2014 Session Management Auto-compaction, per-user scoping \u2014 Security &amp; Vault Encrypted key storage, OWASP hardening \u2014 Personal Assistant Expenses, habits, reminders, notes <code>expense</code>, <code>habit</code>, <code>reminder</code> Telegram &amp; Discord Bot integration with rich UX \u2014 Self-Evolution Auto memory curation, prompt evolution <code>memory_write</code> SLA &amp; Monitoring Latency tracking, uptime, cost metrics \u2014"},{"location":"features/#tool-categories","title":"Tool Categories","text":""},{"location":"features/#core-6-tools-always-available","title":"Core (6 tools \u2014 always available)","text":"<p><code>exec</code>, <code>exec_session</code>, <code>web_search</code>, <code>web_fetch</code>, <code>read_file</code>, <code>write_file</code></p>"},{"location":"features/#code-system-8-tools","title":"Code &amp; System (8 tools)","text":"<p><code>system_monitor</code>, <code>git</code>, <code>code_review</code>, <code>file_index</code>, <code>project_init</code></p>"},{"location":"features/#personal-9-tools","title":"Personal (9 tools)","text":"<p><code>reminder</code>, <code>note</code>, <code>expense</code>, <code>habit</code>, <code>journal</code>, <code>save_link</code>, <code>rss_reader</code>, <code>weather</code>, <code>qr_code</code></p>"},{"location":"features/#communication-4-tools","title":"Communication (4 tools)","text":"<p><code>email</code>, <code>translate</code>, <code>tts_generate</code>, <code>web_screenshot</code></p>"},{"location":"features/#ai-knowledge-6-tools","title":"AI &amp; Knowledge (6 tools)","text":"<p><code>rag_search</code>, <code>memory_write</code>, <code>memory_search</code>, <code>soul_edit</code>, <code>sub_agent</code>, <code>mesh</code></p>"},{"location":"features/#configuration-4-tools","title":"Configuration (4 tools)","text":"<p><code>switch_model</code>, <code>manage_sessions</code>, <code>system_config</code>, <code>dashboard</code></p>"},{"location":"features/#cost-optimization","title":"Cost Optimization","text":"<p>SalmAlm's engine optimization reduces token usage by up to 83%:</p> Optimization Savings Dynamic tool selection 91% tool schema reduction Auto model routing 12x cheaper for simple tasks Context compaction 50% threshold reduction Tool result truncation 50% per-tool limit reduction Intent-based history Fewer messages in context <p>See Engine Optimization for details.</p>"},{"location":"features/channels/","title":"Telegram &amp; Discord","text":""},{"location":"features/channels/#telegram-bot","title":"Telegram Bot","text":""},{"location":"features/channels/#setup","title":"Setup","text":"<ol> <li>@BotFather \u2192 <code>/newbot</code> \u2192 Copy token</li> <li>Web UI \u2192 Settings \u2192 Telegram \u2192 Paste token + chat ID</li> <li>Restart SalmAlm</li> </ol>"},{"location":"features/channels/#features","title":"Features","text":"Feature Description \ud83d\udc40 Ack reaction Shows processing indicator on message \ud83d\udcac Reply-to Responses quote the original message \u2328\ufe0f Typing indicator Continuous typing while processing \ud83d\udcdd Streaming preview Draft message edited in real-time as tokens arrive \ud83d\udccb Command menu 12 commands registered via setMyCommands \u2702\ufe0f Smart split 4096-char chunks respecting code blocks and paragraphs \ud83d\udd18 Inline buttons Clickable action buttons in responses \ud83d\uddbc\ufe0f Media Image, audio, document sending \ud83c\udfa4 Voice TTS voice message responses \ud83c\udf10 Webhook Optional webhook mode for production"},{"location":"features/channels/#commands","title":"Commands","text":"<pre><code>/start       \u2014 Status\n/help        \u2014 Show commands\n/usage       \u2014 Token usage &amp; cost\n/model       \u2014 Switch AI model\n/briefing    \u2014 Daily briefing\n/routine     \u2014 Morning/evening routine\n/note        \u2014 Quick note\n/remind      \u2014 Reminders\n/expense     \u2014 Expense tracking\n/cal         \u2014 Calendar\n/mail        \u2014 Email\n/clear       \u2014 Clear conversation\n/compact     \u2014 Compress history\n/tts on|off  \u2014 Toggle voice\n</code></pre>"},{"location":"features/channels/#group-chat","title":"Group Chat","text":"<ul> <li>Bot responds only when @mentioned or replied to</li> <li>Privacy mode must be disabled for full group visibility (BotFather \u2192 <code>/setprivacy</code>)</li> <li>Each group gets an isolated session</li> </ul>"},{"location":"features/channels/#discord-bot","title":"Discord Bot","text":""},{"location":"features/channels/#setup_1","title":"Setup","text":"<ol> <li>Developer Portal \u2192 New Application</li> <li>Bot \u2192 Enable Message Content Intent</li> <li>OAuth2 \u2192 <code>bot</code> + <code>applications.commands</code> \u2192 Generate URL \u2192 Add to server</li> <li>Web UI \u2192 Settings \u2192 Discord \u2192 Paste token</li> <li>Restart SalmAlm</li> </ol>"},{"location":"features/channels/#features_1","title":"Features","text":"Feature Description \ud83d\udc40 Ack reaction Shows processing indicator \ud83d\udcac Reply-to Responses reference the original message \u2328\ufe0f Typing indicator Continuous typing (8s refresh) \ud83d\udcdd Streaming preview Draft message edited as tokens arrive \u2702\ufe0f Smart split 2000-char chunks respecting paragraphs"},{"location":"features/channels/#commands_1","title":"Commands","text":"<pre><code>/start    \u2014 Status\n/help     \u2014 Show commands\n/usage    \u2014 Token usage &amp; cost\n/model    \u2014 Switch AI model\n/clear    \u2014 Clear conversation\n/compact  \u2014 Compress history\n</code></pre>"},{"location":"features/channels/#behavior","title":"Behavior","text":"<ul> <li>DMs: Bot responds to all messages</li> <li>Guilds: Bot responds only when @mentioned</li> <li>Each channel gets its own isolated session</li> </ul>"},{"location":"features/mcp/","title":"MCP Integration","text":"<p>SalmAlm implements the Model Context Protocol (MCP), enabling interoperability with any MCP-compatible client.</p>"},{"location":"features/mcp/#what-is-mcp","title":"What is MCP?","text":"<p>MCP is an open protocol for connecting AI assistants to external tools and data sources. SalmAlm acts as an MCP server, exposing its 43 tools and memory resources over JSON-RPC.</p>"},{"location":"features/mcp/#capabilities","title":"Capabilities","text":""},{"location":"features/mcp/#tools","title":"Tools","text":"<p>All SalmAlm tools are exposed as MCP tools with full JSON Schema:</p> <pre><code>{\n  \"method\": \"tools/list\",\n  \"result\": {\n    \"tools\": [\n      {\"name\": \"exec\", \"description\": \"Execute shell commands\", \"inputSchema\": {...}},\n      {\"name\": \"web_search\", \"description\": \"Search the web\", \"inputSchema\": {...}}\n    ]\n  }\n}\n</code></pre>"},{"location":"features/mcp/#resources","title":"Resources","text":"<p>Memory files are exposed as MCP resources:</p> <pre><code>{\n  \"method\": \"resources/list\",\n  \"result\": {\n    \"resources\": [\n      {\"uri\": \"file://MEMORY.md\", \"name\": \"MEMORY.md\", \"mimeType\": \"text/markdown\"},\n      {\"uri\": \"file://memory/2025-01-15.md\", \"name\": \"2025-01-15.md\"}\n    ]\n  }\n}\n</code></pre>"},{"location":"features/mcp/#prompts","title":"Prompts","text":"<p>System prompts are available as MCP prompt templates.</p>"},{"location":"features/mcp/#connection","title":"Connection","text":""},{"location":"features/mcp/#websocket","title":"WebSocket","text":"<pre><code>ws://localhost:18800/mcp\n</code></pre> <p>Messages follow JSON-RPC 2.0 format:</p> <pre><code>{\"jsonrpc\": \"2.0\", \"id\": 1, \"method\": \"initialize\", \"params\": {\"clientInfo\": {\"name\": \"my-client\"}}}\n</code></pre>"},{"location":"features/mcp/#supported-methods","title":"Supported Methods","text":"Method Description <code>initialize</code> Handshake with capabilities <code>tools/list</code> List available tools <code>tools/call</code> Execute a tool <code>resources/list</code> List memory resources <code>resources/read</code> Read a resource <code>prompts/list</code> List prompt templates"},{"location":"features/mcp/#web-ui","title":"Web UI","text":"<p>The MCP panel in Settings shows:</p> <ul> <li>Connection status</li> <li>Connected clients</li> <li>Tool call history</li> <li>Resource access log</li> </ul>"},{"location":"features/mcp/#use-cases","title":"Use Cases","text":"<ul> <li>Claude Desktop \u2192 Connect SalmAlm as an MCP tool server</li> <li>VS Code extensions \u2192 Use SalmAlm tools from your editor</li> <li>Custom clients \u2192 Build your own MCP client against SalmAlm</li> </ul>"},{"location":"features/multi-model/","title":"Multi-Model Routing","text":"<p>SalmAlm supports 6 AI providers with automatic task-based routing \u2014 the right model for each message.</p>"},{"location":"features/multi-model/#supported-providers","title":"Supported Providers","text":"Provider Models Key Anthropic Claude Haiku, Sonnet, Opus <code>ANTHROPIC_API_KEY</code> OpenAI GPT-4o, GPT-4o-mini, o1 <code>OPENAI_API_KEY</code> Google Gemini 2.5 Flash/Pro <code>GOOGLE_API_KEY</code> xAI Grok <code>XAI_API_KEY</code> DeepSeek DeepSeek Chat/Reasoner <code>DEEPSEEK_API_KEY</code> Local LLM Ollama, LM Studio <code>LOCAL_LLM_URL</code>"},{"location":"features/multi-model/#auto-routing","title":"Auto Routing","text":"<p>When model is set to <code>auto</code>, SalmAlm classifies each message into complexity tiers:</p>"},{"location":"features/multi-model/#classification","title":"Classification","text":"Tier Examples Default Model Simple Greetings, yes/no, short questions Claude Haiku (12x cheaper) Moderate Explanations, summaries, analysis Claude Sonnet Complex Multi-step code, architecture, debugging Claude Sonnet <p>Classification uses keyword matching + heuristics (code blocks, question complexity, message length).</p>"},{"location":"features/multi-model/#cost-impact","title":"Cost Impact","text":"<pre><code>Before (always Sonnet): ~$7.09/day\nAfter (auto routing):   ~$1.23/day  \u2192 83% savings\n</code></pre>"},{"location":"features/multi-model/#fixed-model","title":"Fixed Model","text":"<p>Set a specific model via:</p> <ul> <li>Web UI: Model panel dropdown</li> <li>Command: <code>/model anthropic/claude-sonnet-4-20250514</code></li> <li>API: <code>POST /api/model/switch</code></li> </ul>"},{"location":"features/multi-model/#per-session-override","title":"Per-Session Override","text":"<p>Each session can have its own model:</p> <pre><code>/model sonnet    \u2192 This session uses Sonnet\n/model auto      \u2192 Back to auto routing\n</code></pre>"},{"location":"features/multi-model/#provider-key-fallback","title":"Provider Key Fallback","text":"<p>SalmAlm tries providers in order:</p> <ol> <li>Vault-stored API key</li> <li>Environment variable</li> <li>CLI OAuth token (if <code>SALMALM_CLI_OAUTH=1</code>)</li> </ol> <p>If a provider key is missing, that provider's models are excluded from routing candidates.</p>"},{"location":"features/multi-model/#configuration","title":"Configuration","text":""},{"location":"features/multi-model/#web-ui","title":"Web UI","text":"<p>Settings \u2192 Engine Optimization \u2192 Auto Routing panel shows:</p> <ul> <li>Current tier assignments</li> <li>Per-tier model selection</li> <li>Cost comparison with OpenClaw</li> <li>Classification guide</li> </ul>"},{"location":"features/multi-model/#environment-variables","title":"Environment Variables","text":"<pre><code>SALMALM_DEFAULT_MODEL=anthropic/claude-sonnet-4-20250514\nSALMALM_SIMPLE_MODEL=anthropic/claude-haiku-3.5-20241022\nSALMALM_COMPLEX_MODEL=anthropic/claude-sonnet-4-20250514\n</code></pre>"},{"location":"features/personal/","title":"Personal Assistant Features","text":"<p>SalmAlm is designed as a personal AI gateway \u2014 a single-user assistant with tools for everyday life management.</p>"},{"location":"features/personal/#expense-tracking","title":"Expense Tracking","text":"<p>Track daily expenses with automatic categorization:</p> <pre><code>\"\ucee4\ud53c 5500\uc6d0\" \u2192 Category: food, Amount: 5500 KRW\n</code></pre> <ul> <li>Daily/weekly/monthly summaries</li> <li>Category breakdown</li> <li>Budget alerts</li> <li>Export to JSON</li> </ul> <p>Tool: <code>expense</code></p>"},{"location":"features/personal/#habit-tracking","title":"Habit Tracking","text":"<p>Monitor daily habits and streaks:</p> <ul> <li>Check-in / check-out tracking</li> <li>Streak counting</li> <li>Weekly completion rates</li> <li>Multiple habit support</li> </ul> <p>Tool: <code>habit</code></p>"},{"location":"features/personal/#link-saving","title":"Link Saving","text":"<p>Save articles and URLs for later:</p> <ul> <li>Auto-fetches page title</li> <li>Extracts text content for RAG indexing</li> <li>Tag-based organization</li> <li>Full-text search across saved links</li> </ul> <p>Tool: <code>save_link</code></p>"},{"location":"features/personal/#note-taking","title":"Note Taking","text":"<p>Quick notes with full-text search:</p> <pre><code>/note Meeting notes: discussed Q1 roadmap...\n</code></pre> <ul> <li>Auto-indexed for RAG retrieval</li> <li>Date-stamped</li> <li>Searchable via <code>rag_search</code></li> </ul> <p>Tool: <code>note</code></p>"},{"location":"features/personal/#reminders","title":"Reminders","text":"<p>Natural language reminders in Korean and English:</p> <pre><code>\"30\ubd84 \ud6c4 \uc54c\ub824\uc918\"     \u2192 30 minutes from now\n\"\ub0b4\uc77c \uc624\uc804 9\uc2dc\"       \u2192 Tomorrow 9:00 AM\n\"in 2 hours\"         \u2192 2 hours from now\n\"next friday at 3pm\" \u2192 Next Friday 15:00\n</code></pre> <ul> <li>Cron-based scheduling</li> <li>Auto-disable after 5 consecutive failures</li> <li>Web notification support</li> </ul> <p>Tool: <code>reminder</code></p>"},{"location":"features/personal/#rss-reader","title":"RSS Reader","text":"<p>Subscribe to and read RSS feeds:</p> <pre><code>/rss subscribe https://example.com/feed\n/rss fetch\n/rss list\n</code></pre> <ul> <li>Multi-feed aggregation</li> <li>Article count limiting</li> <li>Feed management (subscribe/unsubscribe)</li> </ul> <p>Tool: <code>rss_reader</code></p>"},{"location":"features/personal/#journal","title":"Journal","text":"<p>Private journaling with mood tracking:</p> <ul> <li>Auto mood detection from text</li> <li>Date-organized entries</li> <li>Searchable via RAG</li> </ul> <p>Tool: <code>journal</code></p>"},{"location":"features/personal/#weather","title":"Weather","text":"<p>Quick weather checks:</p> <pre><code>\"\uc11c\uc6b8 \ub0a0\uc528\" \u2192 Current conditions + 3-day forecast\n</code></pre> <p>Tool: <code>weather</code></p>"},{"location":"features/personal/#qr-code-generation","title":"QR Code Generation","text":"<p>Generate QR codes from text or URLs:</p> <pre><code>\"QR\ucf54\ub4dc \ub9cc\ub4e4\uc5b4\uc918: https://example.com\"\n</code></pre> <ul> <li>SVG output (no external dependencies)</li> <li>Configurable size and error correction</li> </ul> <p>Tool: <code>qr_code</code></p>"},{"location":"features/personal/#translation","title":"Translation","text":"<p>Real-time translation between languages:</p> <pre><code>\"\uc774\uac70 \uc601\uc5b4\ub85c \ubc88\uc5ed\ud574\uc918: \uc548\ub155\ud558\uc138\uc694\"\n</code></pre> <p>Uses the configured LLM for high-quality translation.</p> <p>Tool: <code>translate</code></p>"},{"location":"features/rag/","title":"RAG &amp; Knowledge Base","text":"<p>SalmAlm includes a zero-dependency RAG (Retrieval-Augmented Generation) system \u2014 no external vector DB, no embeddings API. Everything runs locally in SQLite.</p>"},{"location":"features/rag/#how-it-works","title":"How It Works","text":"<pre><code>User Query \u2192 Tokenize \u2192 BM25 + TF-IDF Hybrid Search \u2192 Top-K Chunks \u2192 Inject into Prompt\n</code></pre> <ol> <li>Indexing: Files are chunked (5 lines, 2-line overlap) and tokenized with Korean jamo decomposition + English stemming</li> <li>Search: Hybrid BM25 (text weight 0.3) + TF-IDF cosine similarity (vector weight 0.7)</li> <li>Injection: Top results are prepended to the system prompt as context</li> </ol>"},{"location":"features/rag/#what-gets-indexed","title":"What Gets Indexed","text":"Source Auto-indexed Tool Memory files (<code>~/SalmAlm/memory/</code>) \u2705 <code>memory_write</code> Notes \u2705 <code>note</code> Saved links \u2705 <code>save_link</code> Workspace files On demand <code>file_index</code> Session transcripts Optional Config toggle"},{"location":"features/rag/#configuration","title":"Configuration","text":"<p>Edit <code>~/SalmAlm/rag.json</code>:</p> <pre><code>{\n  \"hybrid\": {\n    \"enabled\": true,\n    \"vectorWeight\": 0.7,\n    \"textWeight\": 0.3\n  },\n  \"sessionIndexing\": {\n    \"enabled\": false,\n    \"retentionDays\": 30\n  },\n  \"chunkSize\": 5,\n  \"chunkOverlap\": 2,\n  \"reindexInterval\": 120\n}\n</code></pre>"},{"location":"features/rag/#korean-language-support","title":"Korean Language Support","text":"<p>SalmAlm's RAG has first-class Korean support:</p> <ul> <li>Jamo decomposition \u2014 decomposes Hangul into consonants/vowels for fuzzy matching</li> <li>Korean stemming \u2014 strips common suffixes (\uc740/\ub294/\uc774/\uac00/\uc744/\ub97c/\uc5d0\uc11c/\uc73c\ub85c etc.)</li> <li>Synonym expansion \u2014 \uac80\uc0c9\u2192\ucc3e\uae30/\ud0d0\uc0c9, \uc624\ub958\u2192\uc5d0\ub7ec/\ubc84\uadf8 etc.</li> <li>Stop word filtering \u2014 removes Korean particles and common English stop words</li> </ul>"},{"location":"features/rag/#web-ui","title":"Web UI","text":"<p>Access the RAG panel at Settings \u2192 RAG &amp; Knowledge to:</p> <ul> <li>View index statistics (document count, chunk count, last indexed)</li> <li>Trigger manual reindex</li> <li>Configure hybrid search weights</li> <li>Enable/disable session indexing</li> </ul>"},{"location":"features/rag/#related-tools","title":"Related Tools","text":"<ul> <li><code>rag_search</code> \u2014 Direct semantic search</li> <li><code>memory_write</code> / <code>memory_search</code> \u2014 Long-term memory CRUD</li> <li><code>note</code> \u2014 Quick notes (auto-indexed)</li> <li><code>save_link</code> \u2014 Save URLs with auto-fetched content</li> <li><code>file_index</code> \u2014 Index workspace files on demand</li> </ul>"},{"location":"features/security/","title":"Security","text":"<p>SalmAlm follows a dangerous features default OFF policy.</p>"},{"location":"features/security/#defaults","title":"Defaults","text":"Feature Default Opt-in Network bind <code>127.0.0.1</code> (loopback only) <code>SALMALM_BIND=0.0.0.0</code> Shell operators Blocked <code>SALMALM_ALLOW_SHELL=1</code> Home dir file read Workspace only <code>SALMALM_ALLOW_HOME_READ=1</code> Plugin system Disabled <code>SALMALM_PLUGINS=1</code> CLI OAuth reuse Disabled <code>SALMALM_CLI_OAUTH=1</code> Strict CSP (nonce) Disabled <code>SALMALM_CSP_STRICT=1</code>"},{"location":"features/security/#tool-risk-tiers","title":"Tool Risk Tiers","text":"Tier Tools External (0.0.0.0) \ud83d\udd34 Critical (14) exec, exec_session, write_file, edit_file, python_eval, sandbox_exec, browser, email_send, gmail, google_calendar, calendar_delete, calendar_add, node_manage, plugin_manage Auth required \ud83d\udfe1 High (9) http_request, read_file, memory_write, mesh, sub_agent, cron_manage, screenshot, tts, stt Allowed with warning \ud83d\udfe2 Normal web_search, weather, translate, etc. Allowed"},{"location":"features/security/#vault","title":"Vault","text":"<p>API keys are encrypted at rest:</p> <ul> <li>Primary: PBKDF2-200K iterations + AES-256-GCM (requires <code>cryptography</code> package)</li> <li>Fallback: HMAC-SHA256-CTR (pure Python, enabled via <code>SALMALM_VAULT_FALLBACK=1</code>)</li> <li>Storage: <code>~/SalmAlm/.vault.enc</code></li> <li>Auto-unlock: <code>.vault_auto</code> file for WSL/no-keychain environments</li> </ul>"},{"location":"features/security/#ssrf-defense","title":"SSRF Defense","text":"<ul> <li>DNS pinning eliminates TOCTOU gap in redirects</li> <li>Private/loopback/link-local IPs blocked on external bind</li> <li>Browser tool: <code>_is_internal_url()</code> DNS resolution check</li> <li>Applied to all outbound HTTP (web tools + browser)</li> </ul>"},{"location":"features/security/#irreversible-action-gate","title":"Irreversible Action Gate","text":"<p>These tools require <code>_confirmed=true</code> parameter:</p> <ul> <li><code>email_send</code> \u2014 send email</li> <li><code>gmail</code> (action: send) \u2014 send via Gmail</li> <li><code>calendar_delete</code> \u2014 delete calendar event</li> </ul> <p>Without confirmation, a preview is shown instead.</p>"},{"location":"features/security/#secret-protection","title":"Secret Protection","text":"<ul> <li>Shared redact module (<code>security/redact.py</code>): 9 regex patterns (OpenAI, Anthropic, xAI, Google, Slack, GitHub, AWS, JWT, key=value)</li> <li>Memory scrubbing: secrets auto-redacted before storage</li> <li>Audit log redaction: tool args scrubbed before logging</li> <li>Subprocess isolation: API keys stripped from child environments</li> </ul>"},{"location":"features/security/#auth-csrf","title":"Auth &amp; CSRF","text":"<ul> <li>Centralized auth gate: all <code>/api/</code> routes require auth unless in <code>_PUBLIC_PATHS</code></li> <li>CSRF: Origin validation + <code>X-Requested-With</code> custom header</li> <li>Session cookies with secure flags</li> </ul>"},{"location":"features/security/#node-communication","title":"Node Communication","text":"<ul> <li>HMAC-SHA256 signed payloads (<code>X-Signature</code> header)</li> <li>Timestamp + nonce for replay prevention</li> <li>5MB response cap</li> <li>Strict dict validation</li> </ul>"},{"location":"features/security/#tests","title":"Tests","text":"<ul> <li>150+ security regression tests across 3 test files</li> <li>Covers: path traversal, exec bypass vectors, SSRF, tool tier enforcement, irreversible gates, secret scrubbing</li> </ul>"},{"location":"features/self-evolve/","title":"Self-Evolution","text":"<p>SalmAlm's self-evolution system allows the AI to improve its own behavior over time through prompt refinement, memory curation, and conversation logging.</p>"},{"location":"features/self-evolve/#components","title":"Components","text":""},{"location":"features/self-evolve/#1-auto-memory-curation","title":"1. Auto Memory Curation","text":"<p>After context compaction, SalmAlm automatically reviews recent conversations and extracts key information into structured memory:</p> <pre><code>Compaction triggered \u2192 auto_curate() \u2192 Update memory files \u2192 Secret scrubbing\n</code></pre> <p>Memory files are stored in <code>~/SalmAlm/memory/</code> as markdown, organized by date.</p>"},{"location":"features/self-evolve/#2-conversation-auto-logging","title":"2. Conversation Auto-Logging","text":"<p>Every conversation is automatically logged to daily files:</p> <pre><code>~/SalmAlm/memory/2025-01-15.md\n~/SalmAlm/memory/2025-01-16.md\n</code></pre> <p>The AI can reference these for continuity across sessions.</p>"},{"location":"features/self-evolve/#3-prompt-evolution","title":"3. Prompt Evolution","text":"<p>The optional prompt evolver (<code>SALMALM_EVOLVE=1</code>) analyzes conversation patterns and suggests system prompt improvements:</p> <ul> <li>Which instructions are effective</li> <li>Which get ignored or misunderstood</li> <li>What new directives might help</li> </ul>"},{"location":"features/self-evolve/#4-soul-file","title":"4. Soul File","text":"<p><code>~/SalmAlm/soul.md</code> defines the AI's personality and behavior. The AI can read and (with permission) modify this file to adjust its own character over time.</p>"},{"location":"features/self-evolve/#security","title":"Security","text":"<ul> <li>Secret scrubbing: API keys, tokens, and credentials are automatically stripped before writing to memory (7 regex patterns)</li> <li>Memory isolation: Each user's memory is scoped to their session</li> <li>No external transmission: All evolution happens locally</li> </ul>"},{"location":"features/self-evolve/#configuration","title":"Configuration","text":"Setting Default Description <code>SALMALM_EVOLVE</code> <code>0</code> Enable prompt evolution <code>SALMALM_REFLECT</code> <code>0</code> Enable post-response reflection <code>SALMALM_PLANNING</code> <code>0</code> Enable task planning phase"},{"location":"features/self-evolve/#related-tools","title":"Related Tools","text":"<ul> <li><code>memory_write</code> \u2014 Write to memory files</li> <li><code>memory_search</code> \u2014 Semantic search across memory</li> <li><code>soul_edit</code> \u2014 Modify the soul/personality file</li> </ul>"},{"location":"features/sessions/","title":"Session Management","text":"<p>SalmAlm manages conversations as isolated sessions with automatic context window optimization.</p>"},{"location":"features/sessions/#session-lifecycle","title":"Session Lifecycle","text":"<pre><code>New Message \u2192 Get/Create Session \u2192 Build Context \u2192 LLM Call \u2192 Store Response \u2192 Auto-compact if needed\n</code></pre> <p>Each session has:</p> <ul> <li>Unique ID \u2014 alphanumeric, auto-generated or named</li> <li>Message history \u2014 stored in SQLite (<code>session_store</code>)</li> <li>Model override \u2014 per-session model selection</li> <li>User binding \u2014 sessions belong to authenticated users (multi-user mode)</li> </ul>"},{"location":"features/sessions/#context-window-management","title":"Context Window Management","text":"Feature Value Configurable Compaction threshold 30K tokens \u2705 <code>SALMALM_COMPACTION</code> History trim (chat) Last 10 messages \u2705 via Engine Settings History trim (creative) Last 20 messages \u2705 Tool result truncation 20K chars max \u2705"},{"location":"features/sessions/#auto-compaction","title":"Auto-Compaction","text":"<p>When context exceeds the threshold, SalmAlm automatically:</p> <ol> <li>Sends history to LLM with a compaction prompt</li> <li>Replaces old messages with a compact summary</li> <li>Preserves recent messages (last 4) for continuity</li> <li>Triggers <code>auto_curate()</code> to update memory files</li> </ol>"},{"location":"features/sessions/#commands","title":"Commands","text":"Command Description <code>/context</code> Show token usage breakdown <code>/context full</code> Detailed per-message token counts <code>/clear</code> Reset current session <code>/sessions</code> List all sessions <code>/session &lt;id&gt;</code> Switch to named session <code>/export</code> Export session as JSON"},{"location":"features/sessions/#web-ui","title":"Web UI","text":"<p>The Sessions panel shows:</p> <ul> <li>Active sessions with titles and last activity</li> <li>Token usage per session</li> <li>One-click session switching</li> <li>Session deletion and export</li> </ul>"},{"location":"features/sessions/#session-store","title":"Session Store","text":"<p>Sessions persist in <code>~/SalmAlm/sessions.db</code> (SQLite). Schema:</p> <pre><code>CREATE TABLE session_store (\n    session_id TEXT PRIMARY KEY,\n    messages TEXT,        -- JSON array\n    title TEXT,\n    user_id INTEGER,\n    created_at TEXT,\n    updated_at TEXT\n);\n</code></pre>"},{"location":"features/sessions/#multi-user-sessions","title":"Multi-User Sessions","text":"<p>When authentication is enabled, sessions are scoped per user. Each user sees only their own sessions. Admin users can view all sessions via the API.</p>"},{"location":"features/sla/","title":"SLA &amp; Monitoring","text":"<p>SalmAlm tracks performance metrics for every request \u2014 latency, token usage, cost, and error rates.</p>"},{"location":"features/sla/#metrics-tracked","title":"Metrics Tracked","text":""},{"location":"features/sla/#per-request","title":"Per-Request","text":"<ul> <li>Time to First Token (TTFT) \u2014 milliseconds until first streaming chunk</li> <li>Total latency \u2014 end-to-end request time</li> <li>Input/output tokens \u2014 per model</li> <li>Estimated cost \u2014 based on model pricing</li> </ul>"},{"location":"features/sla/#aggregate","title":"Aggregate","text":"<ul> <li>Uptime \u2014 server start time, total runtime</li> <li>Request count \u2014 total requests processed</li> <li>Error rate \u2014 failed requests / total</li> <li>Model distribution \u2014 which models handle which tiers</li> </ul>"},{"location":"features/sla/#cost-tracking","title":"Cost Tracking","text":"<p>SalmAlm estimates costs using built-in pricing tables:</p> Model Input ($/1M tok) Output ($/1M tok) Claude Haiku 3.5 $0.80 $4.00 Claude Sonnet 4 $3.00 $15.00 GPT-4o $2.50 $10.00 Gemini 2.5 Flash $0.15 $0.60"},{"location":"features/sla/#cost-cap","title":"Cost Cap","text":"<p>Set a daily spending limit:</p> <pre><code>SALMALM_COST_CAP=5.00  # $5/day limit\n</code></pre> <p>When the cap is reached, all LLM calls are blocked with a <code>CostCapExceeded</code> error until the next day.</p>"},{"location":"features/sla/#commands","title":"Commands","text":"Command Description <code>/usage</code> Token usage and cost summary <code>/usage tokens</code> Detailed token breakdown <code>/usage cost</code> Cost breakdown by model <code>/latency</code> Request latency statistics <code>/uptime</code> Server uptime"},{"location":"features/sla/#web-dashboard","title":"Web Dashboard","text":"<p>Settings \u2192 Usage &amp; Monitoring shows:</p> <ul> <li>Daily/monthly usage charts</li> <li>Cost breakdown by model</li> <li>Latency percentiles (p50, p95, p99)</li> <li>Real-time request feed</li> </ul>"},{"location":"features/sla/#api-endpoints","title":"API Endpoints","text":"<pre><code>GET /api/usage/daily    \u2014 Daily usage report\nGET /api/usage/monthly  \u2014 Monthly aggregate\nGET /api/metrics        \u2014 Prometheus-compatible metrics\nGET /api/latency        \u2014 Latency statistics\nGET /api/status         \u2014 Server health check\n</code></pre>"},{"location":"features/sla/#alerting","title":"Alerting","text":"<p>SalmAlm logs warnings when:</p> <ul> <li>Latency exceeds 10s (P95 threshold)</li> <li>Daily cost exceeds 80% of cap</li> <li>Error rate exceeds 5%</li> <li>Context window approaches model limit</li> </ul>"},{"location":"features/sla/#circuit-breaker","title":"Circuit Breaker","text":"<p>The built-in circuit breaker detects:</p> <ul> <li>Infinite loops \u2014 3+ identical (tool, args) in last 6 iterations</li> <li>Provider failures \u2014 consecutive 5xx errors trigger backoff</li> <li>Cost overruns \u2014 immediate halt on cap exceeded</li> </ul>"},{"location":"features/thinking/","title":"Extended Thinking","text":"<p>SalmAlm supports extended thinking (chain-of-thought) for complex reasoning tasks, compatible with both Anthropic and OpenAI providers.</p>"},{"location":"features/thinking/#how-it-works","title":"How It Works","text":"<p>Extended thinking gives the LLM a dedicated \"thinking\" phase before responding. The model reasons step-by-step internally, then produces a final answer.</p> <pre><code>User Message \u2192 [Thinking Phase: budget_tokens of reasoning] \u2192 Final Response\n</code></pre>"},{"location":"features/thinking/#thinking-levels","title":"Thinking Levels","text":"Level Budget Tokens Use Case <code>low</code> 2,048 Quick reasoning, simple logic <code>medium</code> 8,192 Multi-step problems, analysis <code>high</code> 16,384 Complex code, architecture <code>xhigh</code> 32,768 Deep research, proofs"},{"location":"features/thinking/#provider-mapping","title":"Provider Mapping","text":"Level Anthropic OpenAI <code>low</code> <code>budget_tokens: 2048</code> <code>reasoning_effort: low</code> <code>medium</code> <code>budget_tokens: 8192</code> <code>reasoning_effort: medium</code> <code>high</code> <code>budget_tokens: 16384</code> <code>reasoning_effort: high</code> <code>xhigh</code> <code>budget_tokens: 32768</code> \u2014"},{"location":"features/thinking/#usage","title":"Usage","text":""},{"location":"features/thinking/#commands","title":"Commands","text":"<pre><code>/think low      \u2192 Enable low thinking\n/think high     \u2192 Enable high thinking\n/think off      \u2192 Disable thinking\n</code></pre>"},{"location":"features/thinking/#web-ui","title":"Web UI","text":"<p>Settings \u2192 Engine Optimization \u2192 Thinking Level dropdown.</p>"},{"location":"features/thinking/#programmatic","title":"Programmatic","text":"<pre><code>curl -X POST http://localhost:18800/api/engine/settings \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"thinking_level\": \"medium\"}'\n</code></pre>"},{"location":"features/thinking/#cost-considerations","title":"Cost Considerations","text":"<p>Thinking tokens count toward usage. A <code>high</code> level request may use 16K+ additional tokens. Use <code>low</code> for everyday tasks and <code>high</code>/<code>xhigh</code> only when needed.</p>"},{"location":"features/thinking/#how-it-differs-from-openclaw","title":"How It Differs from OpenClaw","text":"Feature SalmAlm OpenClaw User control Manual level selection Auto-suggested Levels 4 (low/medium/high/xhigh) 3 (low/medium/high) Provider support Anthropic + OpenAI Anthropic only Default Off Off"},{"location":"features/thinking/#temperature-interaction","title":"Temperature Interaction","text":"<p>When thinking is enabled, temperature is automatically set to 1.0 (Anthropic requirement). Your configured temperature applies to non-thinking requests.</p>"}]}